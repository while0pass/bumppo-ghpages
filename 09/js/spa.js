(function(e,t,a){"use strict";var B=Math.floor,$=Math.max,j=Math.round,z=Math.abs;function n(e,t){return t={exports:{}},e(t,t.exports),t.exports}function i(e){if(e+="",!(100<e.length)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();return"years"===n||"year"===n||"yrs"===n||"yr"===n||"y"===n?31557600000*a:"weeks"===n||"week"===n||"w"===n?604800000*a:"days"===n||"day"===n||"d"===n?86400000*a:"hours"===n||"hour"===n||"hrs"===n||"hr"===n||"h"===n?3600000*a:"minutes"===n||"minute"===n||"mins"===n||"min"===n||"m"===n?60000*a:"seconds"===n||"second"===n||"secs"===n||"sec"===n||"s"===n?1000*a:"milliseconds"===n||"millisecond"===n||"msecs"===n||"msec"===n||"ms"===n?a:void 0}}}function l(e){var t=z(e);return 86400000<=t?j(e/86400000)+"d":3600000<=t?j(e/3600000)+"h":60000<=t?j(e/60000)+"m":1000<=t?j(e/1000)+"s":e+"ms"}function o(e){var t=z(e);return 86400000<=t?s(e,t,86400000,"day"):3600000<=t?s(e,t,3600000,"hour"):60000<=t?s(e,t,60000,"minute"):1000<=t?s(e,t,1000,"second"):e+" ms"}function s(e,t,a,n){return j(e/a)+" "+n+(t>=1.5*a?"s":"")}function r(e,t){function n(){var t=e();return"number"==typeof t?t.toString():""}var i=a.computed({read:n,write:function(a){var i=e(),l=n(),o=t.makeValueValid(a),s=parseInt(o,10),r=isNaN(s)?null:s;r===i?a!==l&&e.notifySubscribers(r):e(r)}}).extend({notify:"always"});return i.relatedObservable=e,i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var a=0,n;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function u(e,t,a){return t&&p(e.prototype,t),a&&p(e,a),e}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return t&&("object"==typeof t||"function"==typeof t)?t:y(e)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=b(e),null!==e););return e}function h(e,t,a){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var n=f(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(a):i.value}},h(e,t,a||e)}function k(e,t){return T(e)||P(e,t)||L()}function w(e){return _(e)||C(e)||N()}function _(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function T(e){if(Array.isArray(e))return e}function C(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function P(e,t){var a=[],n=!0,i=!1,l=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(a.push(s.value),!(t&&a.length===t));n=!0);}catch(e){i=!0,l=e}finally{try{n||null==o["return"]||o["return"]()}finally{if(i)throw l}}return a}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function S(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],a=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=e.depth(),l=S.levels;if(0==n)l=S.levels=[0],S.serialNumber=1;else if(0!==n&&!(l instanceof Array))throw"\u041D\u0430\u0440\u0443\u0448\u0435\u043D\u0430 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u0430\u044F \u0440\u0430\u0431\u043E\u0442\u0430 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u043B\u0438\u043D\u0435\u0430\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0435\u0440\u0435\u0432\u0430";else if(a)l.push(0);else if(l.length===n+1)l[l.length-1]+=1;else{var o=$.apply(Math,w(l.slice(n)));l.splice(n),l[n]=o+1}if(e.level(l.slice(-1)[0]),e.serialNumber(S.serialNumber),S.serialNumber+=1,t.push(e),0<e.childNodes().length)for(var s=0;s<e.childNodes().length;s++){var r=e.childNodes()[s],d=0==s;t=S(r,t,d)}return t}function E(e){var t=null,n=null,i=a.computed(function(){var a=e.resultsRawData();if(null!==a&&a!==t){var i=new Ve(a);t=a,n=i}else null===a&&a!==t&&(t=null,n=null);return n});return{resultsData:i,cinema:Le}}function A(e,t){var a=JSON.parse(JSON.stringify(e));return a.id=t,a}function V(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(var n=0,l;n<t.length-1;n++)if(l=t[n],l||0===l)return l;if(0<t.length)return t.slice(-1)[0]}function F(e){return 0>[null,void 0,""].indexOf(e)}function I(e,t){return e.replace("##",t.toString())}function O(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function q(e,t){var n=a.unwrap(e.value);return n instanceof Array?(t=t.filter(function(e){return 0>n.indexOf(e)}),t=t.concat(n)):F(n)&&(t=t.filter(function(e){return e!==n}),t.push(n)),t}function M(e,t,n){var i=e.getListItemOnDepth(n),a=t.getListItemOnDepth(n),l=i.list.items.indexOf(i),o=a.list.items.indexOf(a);return l<o?-1:l>o?1:0}function D(e,t){for(var a=0,n=M(e,t,a);0===n||e.list.depth<a&&t.list.depth<a;)a+=1,n=M(e,t,a);return n}function H(e){var t=e.subcorpus.recordPhases.getQueryValuesForJSON(),a=0<t.length&&3>t.length,n={version:"1.0",record_ids:e.subcorpus.records.getQueryValuesForJSON(),conditions:{}},l=S(e.queryTree);if(a){var o=t.join("|");n.conditions.Stages={type:"simple",is_regex:!0,search:o,tiers:["Stages"]}}for(var s=0;s<l.length;s++){var r=l[s],d=r.unitType(),c=r.serialNumber().toString();if(n.conditions[c]={type:"simple",is_regex:!0,search:".+",tiers:r.getTiersFromTemplate(d.tierTemplate)},d.subtierTemplate){var p=c+"p0";n.conditions[p]={type:"simple",is_regex:!1,search:d.subtierValue,tiers:r.getTiersFromTemplate(d.subtierTemplate)},n.conditions["".concat(c,".").concat(p)]={type:"structural",first_condition_id:c,second_condition_id:p,distance_min:0,distance_max:0}}if(a&&(n.conditions["".concat(c,".").concat("Stages")]={type:"overlaps",first_condition_id:c,second_condition_id:"Stages"}),0<s){var u=r.parentNode,m=r,b=u.serialNumber().toString(),g=m.serialNumber().toString(),y={first_condition_id:b,second_condition_id:g,is_same_tier:u.unitType().channel.id===m.unitType().channel.id,type:"overlaps"};n.conditions["".concat(b,".").concat(g)]=y}}return JSON.stringify(n,null,4)}function U(){var e=this,n=this;this.version="v0.8.5",this.queryPane=Symbol.for("query"),this.subcorpusPane=Symbol.for("subcorpus"),this.resultsPane=Symbol.for("results"),this.resultsOptionsPane=Symbol.for("resoptions"),this.panes=[this.queryPane,this.subcorpusPane,this.resultsPane,this.resultsOptionsPane],this.activePane=a.observable(),this.switchOnQueryPane=function(){n.activePane(n.queryPane)},this.switchOnSubcorpusPane=function(){n.activePane(n.subcorpusPane)},this.switchOnResultsPane=function(){n.activePane(n.resultsPane)},this.switchOnResultsOptionsPane=function(){n.activePane(n.resultsOptionsPane)},this.isQueryPaneOn=a.computed(function(){return e.activePane()===n.queryPane}),this.isSubcorpusPaneOn=a.computed(function(){return e.activePane()===n.subcorpusPane}),this.isResultsPaneOn=a.computed(function(){return e.activePane()===n.resultsPane}),this.isResultsOptionsPaneOn=a.computed(function(){return e.activePane()===n.resultsOptionsPane}),a.computed(function(){var e=n.activePane();e&&(ie("/".concat(Symbol.keyFor(e))),Le.pauseAll())}),this.queryPaneView=a.observable(null),this.queryPaneView.isTreeVisible=a.computed(function(){return null===n.queryPaneView()}),this.queryPaneView.editNodeProperties=function(e){n.queryPaneView(e)},this.queryPaneView.finishEditingNodeProperties=function(){n.queryPaneView(null)},this.queryPaneView.arePropertiesVisible=a.computed(function(){return n.queryPaneView()instanceof Ot}),this.queryPaneView.propertiesNode=a.computed(function(){if(n.queryPaneView.arePropertiesVisible())return n.queryPaneView.peek()}),this.queryPartsNonReadiness=a.observableArray([this.queryPaneView.arePropertiesVisible]),this.isQueryReady=a.computed(function(){var e=!0,t=!1,a=void 0;try{for(var i=n.queryPartsNonReadiness()[Symbol.iterator](),l,o;!(e=(l=i.next()).done);e=!0)if(o=l.value,o())return!1}catch(e){t=!0,a=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}return!!(n.queryTree&&n.queryTree.unitType())}).extend({rateLimit:50}),this.isQueryNew=a.observable(!0),this.isSubcorpusNew=a.observable(!1),this.resultsRawData=a.observable(null),this.subcorpus={records:new Ht(Rt,this.isSubcorpusNew),recordPhases:new Ht(Mt,this.isSubcorpusNew)},this.subcorpusBanner=a.computed(function(){var e=n.subcorpus.records,t=n.subcorpus.recordPhases,a;if(n.resultsRawData()&&"test"===n.resultsRawData().version)return n.resultsRawData().subcorpus;if(e.areAllUnchecked||e.areAllChecked)a="\u0432\u0441\u0435 \u0437\u0430\u043F\u0438\u0441\u0438; ";else{var i=e.fields.filter(function(e){return!e.disabled&&e.value()}).map(function(e){return e.query});a=1===i.length?"\u0437\u0430\u043F\u0438\u0441\u044C ".concat(i[0],"; "):"\u0437\u0430\u043F\u0438\u0441\u0438 ".concat(i.join(", "),"; ")}if(t.areAllUnchecked||t.areAllChecked)a+="\u0432\u0441\u0435 \u044D\u0442\u0430\u043F\u044B.";else{var l=t.fields.filter(function(e){return!e.disabled&&e.value()}).map(function(e){return e.label});a+=1===l.length?"\u044D\u0442\u0430\u043F ".concat(l[0],"."):"\u044D\u0442\u0430\u043F\u044B ".concat(l.join(", "),".")}return a},this),this.queryTree=new Ot,this.canSearch=a.computed(function(){var e=n.isQueryReady(),t=n.isQueryNew(),a=n.isSubcorpusNew();return!!(e&&(t||a))}),this.lastQueryJSON="",this.queryJSON=a.computed(function(){return n.canSearch()&&(n.lastQueryJSON=H(n)),n.lastQueryJSON}).extend({rateLimit:500}),this.search=function(){n.canSearch()&&(n.isSearchInProgress(!0),Le.clearActiveState(),t.ajax("http://multidiscourse.ru:8080/search_annotations/SearchAnnotations",{data:{data:n.queryJSON()}}).done(function(e){n.isQueryNew(!1),n.isSubcorpusNew(!1),n.resultsRawData(e),n.resultsError(null)}).fail(function(e,t,a){n.resultsRawData(Ut),n.resultsError("\u041E\u0448\u0438\u0431\u043A\u0430: ".concat(t," \"").concat(a,"\""))}).always(function(){n.isSearchInProgress(!1),n.canViewResults(!0),n.switchOnResultsPane()}))},this.isSearchInProgress=a.observable(!1),this.canViewResults=a.observable(!1),this.resultsError=a.observable(null),this.resultsNumber=a.computed(function(){var e=n.resultsRawData();return e&&e.results instanceof Array?e.results.length:null}),this.responseJSON=a.computed(function(){return n.resultsRawData()?JSON.stringify(n.resultsRawData(),null,4):""})}e=e&&e.hasOwnProperty("default")?e["default"]:e,t=t&&t.hasOwnProperty("default")?t["default"]:t,a=a&&a.hasOwnProperty("default")?a["default"]:a;(function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===a?n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}})(".bmpp-uiLayout{height:100vh}.bmpp-main,.bmpp-uiLayout{display:-webkit-box;display:-ms-flexbox;display:flex;width:100vw}.bmpp-main{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;overflow-y:scroll;padding-bottom:3em}.bmpp-mainWait{position:fixed;top:0;right:0;width:86vw;height:100vh;z-index:1001;border-left:.3em solid transparent!important}.bmpp-mainWait div{position:absolute!important;top:0!important;bottom:0!important;left:0!important;right:0!important}.bmpp-sidePane{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;width:14vw;min-width:208px;min-width:13rem;border-left:1px solid rgba(34,36,38,.15);border-right:1px solid rgba(34,36,38,.15);overflow-y:hidden}.bmpp-sidePane_menuItem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:1em 1.5em!important;border-bottom:1px solid rgba(34,36,38,.15);border-right:.3em solid transparent!important;cursor:pointer}.bmpp-sidePane_menuItem.disabled{cursor:auto}.bmpp-sidePane_menuItem--current{border-right:.3em solid rgba(34,36,38,.25)!important;background-color:hsla(0,0%,98%,.75)!important}.bmpp-sidePane_menuItem--hover,.bmpp-sidePane_menuItem--hover.bmpp-sidePane_menuItem--current{border-right:.3em solid #767676!important;background-color:hsla(0,0%,98%,.75)!important}.bmpp-sidePane_menuItem--hover.bmpp-sidePane_menuItem--current.disabled,.bmpp-sidePane_menuItem--hover.disabled{border-right:.3em solid transparent!important;background-color:transparent!important}.bmpp-sidePane_menuItem .icon{position:absolute;right:1em}.bmpp-sidePane_menuItem .label{position:absolute;right:2em;font-size:.7em;color:grey}.bmpp-sidePane_menuItem .label.currentResults{color:green;font-weight:700}.bmpp-sidePane_searchButton{margin-left:.3em!important}.bmpp-paddedPane{width:55em;margin:3em auto auto 6em!important}.bmpp-propertiesPane{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.bmpp-propertiesPaneProps{height:calc(100vh - 3.2em);overflow-y:scroll;overflow-x:hidden}.bmpp-propertiesPaneDivider{height:1em;border-bottom:1px solid rgba(34,36,38,.05)}.bmpp-propertiesPaneButtons{height:2.2em;padding:1em 0 0 6em}.bmpp-resultsOptionsPane{width:55em;margin:3em auto auto 6em!important}.bmpp-nearLabelIcon{margin:0;padding:0;position:absolute;right:.2em;top:.8em}.bmpp-resultsPane{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.bmpp-resultsPane,.bmpp-resultsPane_video{display:-webkit-box;display:-ms-flexbox;display:flex}.bmpp-resultsPane_video{border-bottom:1px solid rgba(34,36,38,.15);background-color:#fff;height:193px!important;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;overflow:hidden}.bmpp-resultsPane_results{overflow-y:scroll}#bmpp-videoPlayer{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;position:relative;width:342px;height:193px}.bmpp-videoCurtain{position:absolute;top:-1em;bottom:-1em;left:0;right:0;background-color:#000;background:radial-gradient(ellipse at top right,#007800 0,#002400 100%);z-index:1001}.bmpp-videoLoader{z-index:10001;visibility:visible;position:absolute;top:50%;left:50%;margin:-1.5em 0 0 -1.5em;width:3em;height:3em;-webkit-animation:segment-spin .6s linear;animation:segment-spin .6s linear;-webkit-animation-name:segment-spin;animation-name:segment-spin;-webkit-animation-duration:.6s;animation-duration:.6s;-webkit-animation-timing-function:linear;animation-timing-function:linear;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:normal;animation-direction:normal;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-play-state:running;animation-play-state:running;animation-iteration-count:infinite;border-radius:100rem;border-color:#fc0 #808 #080 rgba(0,136,0,.8);border-style:solid;border-width:.25em}.bmpp-resultsInfo{max-width:40em;padding:.7em 1em;font-size:smaller;position:relative}.bmpp-resultsInfo:after{display:block;content:\"\";width:100%;height:2em;position:absolute;bottom:0;background:-webkit-gradient(linear,left bottom,left top,from(#fff),color-stop(40%,#fff),to(hsla(0,0%,100%,0)));background:linear-gradient(0deg,#fff 0,#fff 40%,hsla(0,0%,100%,0))}.bmpp-videoChoices{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap;border-right:1px solid rgba(34,36,38,.15)}.bmpp-videoChoices,.bmpp-videoChoices div{display:-webkit-box;display:-ms-flexbox;display:flex}.bmpp-videoChoices div{border-bottom:1px solid rgba(34,36,38,.15);-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto;font-size:x-small;padding:0 .66em 0 1em;white-space:nowrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;letter-spacing:.01em}.bmpp-videoChoices div:last-of-type{border-bottom:none}.bmpp-videoChoices div.disabled{color:rgba(34,36,38,.15);cursor:auto}.bmpp-videoChoices div:not(.disabled):not(.current):hover{background-color:rgba(34,36,38,.15)}.bmpp-videoChoices div.current{background-color:green;border-bottom-color:green;color:#fff;font-weight:700;letter-spacing:.05em}.bmpp-queryPane{display:-webkit-box;display:-ms-flexbox;display:flex;overflow:hidden}.bmpp-query,.bmpp-queryPane{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}.bmpp-query{max-width:70em;padding:3em 7em 0 0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.bmpp-queryTree{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;width:9em;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.bmpp-queryElement{min-height:10em}.bmpp-queryTreeHandles{position:absolute;right:auto;left:100%;top:.45em;width:6em;padding-left:1em}.bmpp-queryTreeHandles .ui.icon{cursor:pointer}.bmpp-queryTreeHandles.bmpp-queryTreeHandles2{left:calc(100% + 1em)}.bmpp-number{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.bmpp-number,.bmpp-number label{margin-right:1em}.bmpp-number .bmpp-numberControls{display:none}.bmpp-number:hover .bmpp-numberControls{display:block;width:40px;width:2.5rem;height:40px;height:2.5rem;right:0;top:.1em;position:absolute}.bmpp-number:hover .bmpp-numberControls .icon{width:40px;width:2.5rem;height:20px;height:1.25rem;-webkit-transition:opacity .3s ease,font-size .1s ease!important;transition:opacity .3s ease,font-size .1s ease!important;position:absolute;overflow:hidden}.bmpp-number:hover .bmpp-numberControls .icon:hover{font-size:large!important}.bmpp-number:hover .bmpp-numberControls .icon:last-of-type{top:50%}.bmpp-number:hover .bmpp-numberControls .icon:before{position:absolute;top:5%;bottom:0;left:0;right:0;line-height:0!important}.bmpp-number:hover .bmpp-numberControls .icon:first-of-type:before{bottom:5%;top:95%}.bmpp-queryDistances{margin:1em auto!important;position:relative}.bmpp-queryDistances--toOtherElement{margin-top:3em!important}.bmpp-queryDistances .bmpp-queryDistance{min-height:4em}.bmpp-queryDistances .bmpp-queryDistance .ui.form{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.bmpp-queryDistances .bmpp-queryDistance .ui.form .field{margin-right:1em}.bmpp-queryDistances .bmpp-queryDistance .ui.form .field.bmpp-units{width:8em!important}.bmpp-queryDistances .bmpp-queryDistance .ui.form .field.bmpp-points{width:14em!important}.bmpp-queryDistances .bmpp-queryDistance .ui.form .bmpp-units .text{border-bottom:1px dashed grey!important}.bmpp-queryDistances .bmpp-queryDistance .ui.form input[type=number]{width:6em!important}.bmpp-queryDistances .bmpp-queryDistance .ui.form .ui.selection.dropdown{height:2em!important;padding-top:.5em!important}.bmpp-queryDistances .bmpp-queryDistanceHelp{position:absolute;top:1em!important;right:.5em!important}.bmpp-subcorpusForm{height:12em}.bmpp-subcorpusForm header{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bmpp-subcorpusForm .ui.form{-webkit-column-count:auto!important;-webkit-column-width:10rem!important;columns:10rem!important}.bmpp-unitGroups{list-style:none;margin:0;padding:0}.bmpp-unitGroups li{font-style:italic;margin:0;-webkit-column-break-inside:avoid;break-inside:avoid}.bmpp-units{list-style:none;margin:.5em 0 1.5em;padding:0}.bmpp-units li{font-style:normal;line-height:1.5em;cursor:pointer}.bmpp-units li .unit{border-bottom:1px dotted #2185d0;color:#2185d0}.bmpp-units li .unitSelectionContainer{padding:0 .5em .2em}.bmpp-units li.active .unit{border-bottom:none;color:#fff}.bmpp-units li.active .unitSelectionContainer{background-color:#2185d0}.bmpp-channelSlug{width:6em!important}.bmpp-editUrl{font-size:smaller;border-bottom:1px dotted #2185d0;color:#2185d0;cursor:pointer}.bmpp-negativeNode{padding-top:3.4em!important}.bmpp-valueList{margin:0;padding:0;list-style:none}.bmpp-valueList li{margin-bottom:.5em}.bmpp-valueList .bmpp-valueList{padding:.7em 0 .5em 1.7em}.bmpp-listItemValue{color:#2c662d;padding:0 .1em}.bmpp-editableListItem{display:block!important;margin:.7em 0 0 2.4em}.bmpp-propertyHeader{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bmpp-propertyHeader.clickable{cursor:copy}.bmpp-bannerPropname{color:grey;font-style:italic}.bmpp-bannerText{color:grey}.bmpp-searchResult{width:100%;display:grid;grid-template-columns:auto 1fr;-webkit-column-gap:.66em;column-gap:.66em;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.bmpp-searchResult .divider{grid-column:1/span 2;border:none;border-top:1px solid rgba(34,36,38,.15);padding:.5em 0 0;margin:.5em 0 0}.bmpp-searchResult .bmpp-recordLabel{position:absolute!important;right:1em}.bmpp-searchResult .bmpp-recordLabel.bmpp-initialRecordLabel{top:1em}.bmpp-searchResult .bmpp-unitValue{text-align:right;color:green;font-size:smaller;cursor:pointer}.bmpp-searchResult .bmpp-transcription{cursor:pointer}.bmpp-searchResult .bmpp-context{color:grey;cursor:auto!important}.bmpp-unitTypeAndGroup{position:relative}.bmpp-unitTypeAndGroup .bmpp-unitType{position:relative;left:.5em;bottom:auto;white-space:nowrap;font-weight:400!important}.bmpp-unitTypeAndGroup .bmpp-unitTypeWithGroup{position:absolute;bottom:-.5em}header .bmpp-unitTypeAndGroup .bmpp-unitTypeWithGroup{bottom:-.4em}.bmpp-unitTypeAndGroup .bmpp-unitTypeGroup{color:grey;-webkit-font-feature-settings:\"c2sc\";font-feature-settings:\"c2sc\";font-variant:small-caps;font-size:smaller;font-weight:400!important;white-space:nowrap;position:absolute;top:-1em;left:.75em}header .bmpp-unitTypeAndGroup .bmpp-unitTypeGroup{font-size:x-small;top:-1em;left:1em}");var W="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,G=24*(60*(60*1e3)),d=function(e,t){t=t||{};var a=typeof e;if("string"==a&&0<e.length)return i(e);if("number"==a&&!1===isNaN(e))return t.long?o(e):l(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))},K=function(e){function t(e){let t=0;for(let a=0;a<e.length;a++)t=(t<<5)-t+e.charCodeAt(a),t|=0;return a.colors[z(t)%a.colors.length]}function a(e){function l(...e){if(!l.enabled)return;const t=l,n=+new Date,i=n-(o||n);t.diff=i,t.prev=o,t.curr=n,o=n,e[0]=a.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const l=a.formatters[i];if("function"==typeof l){const a=e[s];n=l.call(t,a),e.splice(s,1),s--}return n}),a.formatArgs.call(t,e);const r=t.log||a.log;r.apply(t,e)}let o;return l.namespace=e,l.enabled=a.enabled(e),l.useColors=a.useColors(),l.color=t(e),l.destroy=n,l.extend=i,"function"==typeof a.init&&a.init(l),a.instances.push(l),l}function n(){const e=a.instances.indexOf(this);return-1!==e&&(a.instances.splice(e,1),!0)}function i(e,t){return a(this.namespace+("undefined"==typeof t?":":t)+e)}function l(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return a.debug=a,a.default=a,a.coerce=function(e){return e instanceof Error?e.stack||e.message:e},a.disable=function(){const e=[...a.names.map(l),...a.skips.map(l).map(e=>"-"+e)].join(",");return a.enable(""),e},a.enable=function(e){a.save(e),a.names=[],a.skips=[];let t;const n=("string"==typeof e?e:"").split(/[\s,]+/),l=n.length;for(t=0;t<l;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?a.skips.push(new RegExp("^"+e.substr(1)+"$")):a.names.push(new RegExp("^"+e+"$")));for(t=0;t<a.instances.length;t++){const e=a.instances[t];e.enabled=a.enabled(e.namespace)}},a.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=a.skips.length;t<n;t++)if(a.skips[t].test(e))return!1;for(t=0,n=a.names.length;t<n;t++)if(a.names[t].test(e))return!0;return!1},a.humanize=d,Object.keys(e).forEach(t=>{a[t]=e[t]}),a.instances=[],a.names=[],a.skips=[],a.formatters={},a.selectColor=t,a.enable(a.load()),a},Q=n(function(e,t){function a(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;t.splice(1,0,a,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"===e||(n++,"%c"===e&&(i=n))}),t.splice(i,0,a)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=a,t.useColors=function(){return!!("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=K(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),Y=Q.log,X=Q.formatArgs,J=Q.save,Z=Q.load,ee=Q.useColors,te=Q.storage,ae=Q.colors,ne=Q("bumppo:log");Q.disable();var ie=n(function(e){(function(t,a){e.exports=a()})(W,function(){function e(e){for(var t=[],a=0,i=0,l="",o;null!=(o=k.exec(e));){var s=o[0],r=o[1],d=o.index;if(l+=e.slice(i,d),i=d+s.length,r){l+=r[1];continue}l&&(t.push(l),l="");var c=o[2],p=o[3],u=o[4],m=o[5],b=o[6],g=o[7],y=c||"/",v=u||m||(g?".*":"[^"+y+"]+?");t.push({name:p||a++,prefix:c||"",delimiter:y,optional:"?"===b||"*"===b,repeat:"+"===b||"*"===b,pattern:n(v)})}return i<e.length&&(l+=e.substr(i)),l&&t.push(l),t}function t(e){for(var t=Array(e.length),a=0;a<e.length;a++)"object"==typeof e[a]&&(t[a]=new RegExp("^"+e[a].pattern+"$"));return function(a){for(var n="",l=a||{},o=0,s;o<e.length;o++){if(s=e[o],"string"==typeof s){n+=s;continue}var r=l[s.name],d;if(null==r)if(s.optional)continue;else throw new TypeError("Expected \""+s.name+"\" to be defined");if(f(r)){if(!s.repeat)throw new TypeError("Expected \""+s.name+"\" to not repeat, but received \""+r+"\"");if(0===r.length)if(s.optional)continue;else throw new TypeError("Expected \""+s.name+"\" to not be empty");for(var c=0;c<r.length;c++){if(d=encodeURIComponent(r[c]),!t[o].test(d))throw new TypeError("Expected all \""+s.name+"\" to match \""+s.pattern+"\", but received \""+d+"\"");n+=(0==c?s.prefix:s.delimiter)+d}continue}if(d=encodeURIComponent(r),!t[o].test(d))throw new TypeError("Expected \""+s.name+"\" to match \""+s.pattern+"\", but received \""+d+"\"");n+=s.prefix+d}return n}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function n(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function o(e){return e.sensitive?"":"i"}function s(e,t){var a=e.source.match(/\((?!\?)/g);if(a)for(var n=0;n<a.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return l(e,t)}function r(e,t,a){for(var n=[],s=0;s<e.length;s++)n.push(p(e[s],t,a).source);var r=new RegExp("(?:"+n.join("|")+")",o(a));return l(r,t)}function d(t,a,n){for(var o=e(t),s=c(o,n),r=0;r<o.length;r++)"string"!=typeof o[r]&&a.push(o[r]);return l(s,a)}function c(e,t){t=t||{};for(var n=t.strict,l=!1!==t.end,s="",r=e[e.length-1],d="string"==typeof r&&/\/$/.test(r),c=0,p;c<e.length;c++)if(p=e[c],"string"==typeof p)s+=a(p);else{var u=a(p.prefix),m=p.pattern;p.repeat&&(m+="(?:"+u+m+")*"),m=p.optional?u?"(?:"+u+"("+m+"))?":"("+m+")?":u+"("+m+")",s+=m}return n||(s=(d?s.slice(0,-2):s)+"(?:\\/(?=$))?"),s+=l?"$":n&&d?"":"(?=\\/|$)",new RegExp("^"+s,o(t))}function p(e,t,a){return t=t||[],f(t)?!a&&(a={}):(a=t,t=[]),e instanceof RegExp?s(e,t,a):f(e)?r(e,t,a):d(e,t,a)}function u(){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this.clickHandler=this.clickHandler.bind(this),this._onpopstate=this._onpopstate.bind(this)}function m(){function e(){return b.apply(t,arguments)}var t=new u;return e.callbacks=t.callbacks,e.exits=t.exits,e.base=t.base.bind(t),e.strict=t.strict.bind(t),e.start=t.start.bind(t),e.stop=t.stop.bind(t),e.show=t.show.bind(t),e.back=t.back.bind(t),e.redirect=t.redirect.bind(t),e.replace=t.replace.bind(t),e.dispatch=t.dispatch.bind(t),e.exit=t.exit.bind(t),e.configure=t.configure.bind(t),e.sameOrigin=t.sameOrigin.bind(t),e.clickHandler=t.clickHandler.bind(t),e.create=m,Object.defineProperty(e,"len",{get:function(){return t.len},set:function(e){t.len=e}}),Object.defineProperty(e,"current",{get:function(){return t.current},set:function(e){t.current=e}}),e.Context=y,e.Route=v,e}function b(e,t){if("function"==typeof e)return b.call(this,"*",e);if("function"==typeof t)for(var a=new v(e,null,this),n=1;n<arguments.length;++n)this.callbacks.push(a.middleware(arguments[n]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function g(e){if(!e.handled){var t=this,a=t._window,n;n=t._hashbang?P&&this._getBase()+a.location.hash.replace("#!",""):P&&a.location.pathname+a.location.search,n===e.canonicalPath||(t.stop(),e.handled=!1,P&&(a.location.href=e.canonicalPath))}}function y(e,t,a){var n=this.page=a||b,l=n._window,o=n._hashbang,s=n._getBase();"/"===e[0]&&0!==e.indexOf(s)&&(e=s+(o?"#!":"")+e);var r=e.indexOf("?");if(this.canonicalPath=e,this.path=e.replace(s,"")||"/",o&&(this.path=this.path.replace("#!","")||"/"),this.title=w&&l.document.title,this.state=t||{},this.state.path=e,this.querystring=~r?n._decodeURLEncodedURIComponent(e.slice(r+1)):"",this.pathname=n._decodeURLEncodedURIComponent(~r?e.slice(0,r):e),this.params={},this.hash="",!o){if(!~this.path.indexOf("#"))return;var i=this.path.split("#");this.path=this.pathname=i[0],this.hash=n._decodeURLEncodedURIComponent(i[1])||"",this.querystring=this.querystring.split("#")[0]}}function v(e,t,a){var n=this.page=a||N,i=t||{};i.strict=i.strict||a._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=h(this.path,this.keys=[],i)}var f=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},h=p,k=/(\\.)|([\/.])?(?:(?:\:(\w+)(?:\(((?:\\.|[^()])+)\))?|\(((?:\\.|[^()])+)\))([+*?])?|(\*))/g;h.parse=e,h.compile=function(a){return t(e(a))},h.tokensToFunction=t,h.tokensToRegExp=c;var w="undefined"!=typeof document,x="undefined"!=typeof window,_="undefined"!=typeof history,T="undefined"!=typeof process,C=w&&document.ontouchstart?"touchstart":"click",P=x&&!!(window.history.location||window.location);u.prototype.configure=function(e){var t=e||{};this._window=t.window||x&&window,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&x,this._click=!1!==t.click&&w,this._hashbang=!!t.hashbang;var a=this._window;this._popstate?a.addEventListener("popstate",this._onpopstate,!1):x&&a.removeEventListener("popstate",this._onpopstate,!1),this._click?a.document.addEventListener(C,this.clickHandler,!1):w&&a.document.removeEventListener(C,this.clickHandler,!1),this._hashbang&&x&&!_?a.addEventListener("hashchange",this._onpopstate,!1):x&&a.removeEventListener("hashchange",this._onpopstate,!1)},u.prototype.base=function(e){return 0===arguments.length?this._base:void(this._base=e)},u.prototype._getBase=function(){var e=this._base;if(!!e)return e;var t=x&&this._window&&this._window.location;return x&&this._hashbang&&t&&"file:"===t.protocol&&(e=t.pathname),e},u.prototype.strict=function(e){return 0===arguments.length?this._strict:void(this._strict=e)},u.prototype.start=function(e){var t=e||{};if(this.configure(t),!1!==t.dispatch){this._running=!0;var a;if(P){var n=this._window,i=n.location;a=this._hashbang&&~i.hash.indexOf("#!")?i.hash.substr(2)+i.search:this._hashbang?i.search+i.hash:i.pathname+i.search+i.hash}this.replace(a,null,!0,t.dispatch)}},u.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;this._click&&e.document.removeEventListener(C,this.clickHandler,!1),x&&e.removeEventListener("popstate",this._onpopstate,!1),x&&e.removeEventListener("hashchange",this._onpopstate,!1)}},u.prototype.show=function(e,t,a,n){var i=new y(e,t,this),l=this.prevContext;return this.prevContext=i,this.current=i.path,!1!==a&&this.dispatch(i,l),!1!==i.handled&&!1!==n&&i.pushState(),i},u.prototype.back=function(e,t){var a=this;if(0<this.len){var n=this._window;_&&n.history.back(),this.len--}else e?setTimeout(function(){a.show(e,t)}):setTimeout(function(){a.show(a._getBase(),t)})},u.prototype.redirect=function(e,t){var a=this;"string"==typeof e&&"string"==typeof t&&b.call(this,e,function(){setTimeout(function(){a.replace(t)},0)}),"string"==typeof e&&"undefined"==typeof t&&setTimeout(function(){a.replace(e)},0)},u.prototype.replace=function(e,t,a,n){var i=new y(e,t,this),l=this.prevContext;return this.prevContext=i,this.current=i.path,i.init=a,i.save(),!1!==n&&this.dispatch(i,l),i},u.prototype.dispatch=function(e,t){function a(){var e=s.exits[o++];return e?void e(t,a):n()}function n(){var t=s.callbacks[l++];return e.path===s.current?t?void t(e,n):g.call(s,e):void(e.handled=!1)}var l=0,o=0,s=this;t?a():n()},u.prototype.exit=function(e){if("function"==typeof e)return this.exit("*",e);for(var t=new v(e,null,this),a=1;a<arguments.length;++a)this.exits.push(t.middleware(arguments[a]))},u.prototype.clickHandler=function(t){if(1===this._which(t)&&!(t.metaKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented){var e=t.target,a=t.path||(t.composedPath?t.composedPath():null);if(a)for(var n=0;n<a.length;n++)if(a[n].nodeName&&"A"===a[n].nodeName.toUpperCase()&&a[n].href){e=a[n];break}for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;if(e&&"A"===e.nodeName.toUpperCase()){var l="object"==typeof e.href&&"SVGAnimatedString"===e.href.constructor.name;if(!(e.hasAttribute("download")||"external"===e.getAttribute("rel"))){var o=e.getAttribute("href");if(!(!this._hashbang&&this._samePath(e)&&(e.hash||"#"===o))&&!(o&&-1<o.indexOf("mailto:"))&&(l?!e.target.baseVal:!e.target)&&(l||this.sameOrigin(e.href))){var s=l?e.href.baseVal:e.pathname+e.search+(e.hash||"");s="/"===s[0]?s:"/"+s,T&&s.match(/^\/[a-zA-Z]:\//)&&(s=s.replace(/^\/[a-zA-Z]:\//,"/"));var r=s,d=this._getBase();0===s.indexOf(d)&&(s=s.substr(d.length)),this._hashbang&&(s=s.replace("#!","")),d&&r===s&&(!P||"file:"!==this._window.location.protocol)||(t.preventDefault(),this.show(r))}}}}},u.prototype._onpopstate=function(){var t=!1;return x?(w&&"complete"===document.readyState?t=!0:window.addEventListener("load",function(){setTimeout(function(){t=!0},0)}),function(a){if(t){var e=this;if(a.state){var n=a.state.path;e.replace(n,a.state)}else if(P){var i=e._window.location;e.show(i.pathname+i.search+i.hash,void 0,void 0,!1)}}}):function(){}}(),u.prototype._which=function(t){return t=t||x&&this._window.event,null==t.which?t.button:t.which},u.prototype._toURL=function(e){var t=this._window;if("function"==typeof URL&&P)return new URL(e,t.location.toString());if(w){var a=t.document.createElement("a");return a.href=e,a}},u.prototype.sameOrigin=function(e){if(!e||!P)return!1;var t=this._toURL(e),a=this._window,n=a.location;return n.protocol===t.protocol&&n.hostname===t.hostname&&n.port===t.port},u.prototype._samePath=function(e){if(!P)return!1;var t=this._window,a=t.location;return e.pathname===a.pathname&&e.search===a.search},u.prototype._decodeURLEncodedURIComponent=function(e){return"string"==typeof e?this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e:e},y.prototype.pushState=function(){var e=this.page,t=e._window,a=e._hashbang;e.len++,_&&t.history.pushState(this.state,this.title,a&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},y.prototype.save=function(){var e=this.page;_&&"file:"!==e._window.location.protocol&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},v.prototype.middleware=function(e){var t=this;return function(a,n){return t.match(a.path,a.params)?e(a,n):void n()}},v.prototype.match=function(e,t){var a=this.keys,n=e.indexOf("?"),l=~n?e.slice(0,n):e,o=this.regexp.exec(decodeURIComponent(l));if(!o)return!1;for(var s=1,r=o.length;s<r;++s){var d=a[s-1],c=this.page._decodeURLEncodedURIComponent(o[s]);void 0===c&&hasOwnProperty.call(t,d.name)||(t[d.name]=c)}return!0};var N=m(),L=N;return L.default=N,L})}),le=function(e,n){var i=n.element,l=e.value,o=e.disabled,s=e.disabledTooltip;return l.checkboxComponent=i,a.unwrap(o)?s&&t(i).popup({content:s,variation:"basic",position:"right center",transition:"fade",delay:{show:500,hide:0},duration:400,onVisible:function(e){var a=function(e){t(e).popup("hide")};setTimeout(a.bind(this,e),1700)}}):t(i).checkbox({onChange:function(){l(!l())}}),{disabled:o,label:e.label,tabindex:e.tabindex,value:l}},oe={viewModel:{createViewModel:le},template:"\n\n  <div class=\"ui checkbox\" data-bind=\"css: { disabled: disabled }\">\n    <input type=\"checkbox\" class=\"hidden\"\n      data-bind=\"checked: ko.unwrap(disabled) ? false : value,\n        attr: { tabindex: tabindex }\">\n    <label data-bind=\"text: label\"></label>\n  </div>\n\n"},se={viewModel:{createViewModel:function(e){var t=e.property,a=r(t.from,t),n=r(t.to,t);return{property:t,step:function(e,t){return function(){var a=e.relatedObservable,n=a();null===n&&(n=0<a.min?a.min:0),"+"===t&&(n=B(n/a.step+1)*a.step),"-"===t&&(n=Math.ceil(n/a.step-1)*a.step),n<a.min&&(n=a.min),null!==a.max&&n>a.max&&(n=a.max),a(n)}},validatableFrom:a,validatableTo:n}}},template:"\n\n  <div class=\"ui inline input bmpp-number\">\n    <label data-bind=\"text: property.from.label\"></label>\n    <input type=\"text\" pattern=\"-?[0-9]*\" inputmode=\"numeric\"\n      data-bind=\"attr: { placeholder: property.from.placeholder },\n        value: validatableFrom, valueUpdate: 'input',\">\n    <div class=\"bmpp-numberControls\">\n      <i class=\"grey link icon sort up\"\n        data-bind=\"click: step(validatableFrom, '+')\"></i>\n      <i class=\"grey link icon sort down\"\n        data-bind=\"click: step(validatableFrom, '-')\"></i>\n    </div>\n  </div>\n\n  <div class=\"ui inline input bmpp-number\">\n    <label data-bind=\"text: property.to.label\"></label>\n    <input type=\"text\" pattern=\"-?[0-9]*\" inputmode=\"numeric\"\n      data-bind=\"attr: { placeholder: property.to.placeholder },\n        value: validatableTo, valueUpdate: 'input',\">\n    <div class=\"bmpp-numberControls\">\n      <i class=\"grey link icon sort up\"\n        data-bind=\"click: step(validatableTo, '+')\"></i>\n      <i class=\"grey link icon sort down\"\n        data-bind=\"click: step(validatableTo, '-')\"></i>\n    </div>\n  </div>\n\n  <span class=\"bmpp-units\" data-bind=\"text: property.units\"></span>\n\n"},re={viewModel:{createViewModel:function(e){return e.property}},template:"\n\n  <bmpp-value-list params=\"valueList: valueList\"></bmpp-value-list>\n\n"},de={viewModel:{createViewModel:function(e){return{node:e.node}}},template:"\n\n  <!-- ko with: node -->\n\n  <header class=\"ui header\">\n    <!-- ko with: unitType -->\n\n      <button class=\"ui button bmpp-channelSlug\"\n        data-bind=\"css: channel.color, text: channel.id\">\n      </button>\n\n      <span class=\"bmpp-unitTypeAndGroup\">\n        <!-- ko if: group -->\n          <span data-bind=\"textLowercaseFirstChar: group.name\"\n            class=\"bmpp-unitTypeGroup\"></span>\n        <!-- /ko -->\n        <span class=\"bmpp-unitType\"\n        data-bind=\"css: { 'bmpp-unitTypeWithGroup': group }\">\n          \u0422\u0438\u043F \u0435\u0434\u0438\u043D\u0438\u0446\u044B:\n          <strong data-bind=\"text: hasAbbr ? abbr : name\"\n            style=\"padding-left: .5em;\"></strong>\n        </span>\n      </span>\n\n    <!-- /ko -->\n  </header>\n\n  <div data-bind=\"foreach: unitProperties\">\n    <search-unit-property params=\"property: $data\"></search-unit-property>\n  </div>\n\n  <!-- /ko -->\n\n"},ce=15,pe="#aaa",ue=function(){function e(t,a,n){c(this,e);var i=this.drawCircle(t),l=this.drawText(t,n.serialNumber());this.draw=t,this.element=a,this.treeNode=n,this.svgText=l,this.svg=t.group().add(i).add(l),this.fineTune()}return u(e,[{key:"drawCircle",value:function(e){var t=e.circle(2*ce).attr({fill:"none",stroke:pe,"stroke-width":1}).cx(ce).cy(ce);return t}},{key:"drawText",value:function(e,a){var n=e.text(a+"").attr({fill:pe}).cx(ce).cy(ce);return n}},{key:"fineTune",value:function(){var e=this;this.position(),this.treeNode.serialNumber.subscribe(function(t){e.changeText(t)}),a.utils.domNodeDisposal.addDisposeCallback(this.element,function(){e.dispose()}),this.treeNode.svgSlug=this}},{key:"position",value:function(){var e=t(this.element).offset().top,a=t(this.element).parent().offset().top,n=z(e-a)+18;this.svg.x(83).y(n)}},{key:"changeText",value:function(e){this.svgText=this.svgText.text(e+"")}},{key:"dispose",value:function(){this.svg.remove(),this.svgText.remove()}}]),e}(),me=function(){function e(t,a,n){c(this,e),this.draw=t,this.element=a,this.treeNode=n,this.svg=this.drawLine(t,n),this.fineTune()}return u(e,[{key:"fineTune",value:function(){var e=this;a.utils.domNodeDisposal.addDisposeCallback(this.element,function(){e.dispose()}),this.treeNode.svgRelationLine=this}},{key:"drawLine",value:function(e,t){var a="";if(t.parentNode){var n=t.parentNode.svgSlug.svg;a="M ".concat(n.cx()," ").concat(n.cy()+ce,"\n              L ").concat(n.cx()," ").concat(n.cy()+ce)}return e.path(a).fill("none").stroke({color:"#aaa",width:1})}},{key:"redrawLine",value:function(){var a=this.treeNode.parentNode&&this.treeNode.parentNode.svgSlug,n=this.treeNode.svgSlug,i=this.treeNode.level,l=t(this.element).height();if(a&&n&&i){var o=e.calculatePath(a,n,i(),l);this.svg.plot(o)}}},{key:"dispose",value:function(){this.svg.remove()}}],[{key:"calculatePath",value:function(e,t,a,n){var i=e.svg,l=t.svg,o=ce,r=.5*o,p=n-3*o,u=1*o,s=1.3*o,m=.5*o,b=3>a?a:2,g=3>a?0:a-2,y=3*o,c=4.5*o,d;return d=0===a?"M ".concat(i.cx()," ").concat(i.cy()+o,"\n              L ").concat(l.cx()," ").concat(l.cy()-o):"M ".concat(i.cx()," ").concat(i.cy()+o,"\n              V ").concat(i.cy()+o+r,"\n              C ").concat(i.cx()," ").concat(i.cy()+o+r+y,"\n                ").concat(i.cx()-u-s*b-m*g," ").concat(i.cy()+o+r+c-y,"\n                ").concat(i.cx()-u-s*b-m*g," ").concat(i.cy()+o+r+c,"\n              V ").concat(l.cy()-o-p-c,"\n              C ").concat(l.cx()-u-s*b-m*g," ").concat(l.cy()-o-p-c+y,"\n                ").concat(l.cx()," ").concat(l.cy()-o-p-y,"\n                ").concat(l.cx()," ").concat(l.cy()-o-p,"\n              V ").concat(l.cy()-o),d}}]),e}(),be=function(e,a){var n=e.node,i={variation:"basic",position:"bottom right",transition:"fade",delay:{show:1e3,hide:0},duration:400,onVisible:function(e){var a=function(e){t(e).popup("hide")};setTimeout(a.bind(this,e),1700)}};return new ue(e.draw,a.element,n),t(document).ready(function(){var e=t(a.element);i.content="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0435\u0434\u0438\u043D\u0438\u0446\u0443 \u043F\u043E\u0438\u0441\u043A\u0430",e.find(".bmpp-addPositiveUnit").popup(i),i.content="\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u0443\u044E \u0435\u0434\u0438\u043D\u0438\u0446\u0443 \u043F\u043E\u0438\u0441\u043A\u0430",e.find(".bmpp-addNegativeUnit").popup(i),e.find(".bmpp-negativeUnitHelp").popup({inline:!0})}),{node:n}},ge={viewModel:{createViewModel:be},template:"\n\n  <div class=\"bmpp-queryElement ui segment\"\n    data-bind=\"css: { 'bmpp-negativeNode': node.negative }\">\n\n    <div class=\"bmpp-queryTreeHandles\">\n\n      <i class=\"ui disabled green down arrow icon bmpp-addPositiveUnit\"\n        data-bind=\"click: node.addChild.bind(node, false),\n          visible: !node.negative() && node.unitType() !== null\"></i>\n\n      <i class=\"ui disabled red down arrow icon bmpp-addNegativeUnit\"\n        data-bind=\"click: node.addChild.bind(node, true),\n          visible: !node.negative() && node.unitType() !== null\"></i>\n\n      <i class=\"ui disabled grey close icon\"\n        title=\"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0435\u0434\u0438\u043D\u0438\u0446\u0443 \u043F\u043E\u0438\u0441\u043A\u0430 \u0441\u043E \u0432\u0441\u0435\u043C\u0438 \u0437\u0430\u0432\u0438\u0441\u0438\u043C\u043E\u0441\u0442\u044F\u043C\u0438\"\n        data-bind=\"visible: node.depth() > 0,\n          click: function () {\n                   node.seppuku();\n                   $root.isQueryNew(true);\n                 }\"></i>\n    </div>\n\n    <div class=\"ui top attached basic red label\"\n      data-bind=\"visible: node.negative\">\n      \u041D\u0415\u0422\n      <i class=\"disabled grey question circle outline icon\n        bmpp-nearLabelIcon bmpp-negativeUnitHelp\"></i>\n      <div class=\"ui basic popup hidden\">\n        <header class=\"ui header\">\u041E\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u0435</header>\n\n        <p>\u041F\u0440\u0438 \u043E\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u043C \u0443\u0441\u043B\u043E\u0432\u0438\u0438 \u0438\u0449\u0443\u0442\u0441\u044F \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u044B, \u0432 \u043A\u043E\u0442\u043E\u0440\u044B\u0445\n        <strong>\u043D\u0435\u0442</strong> \u0435\u0434\u0438\u043D\u0438\u0446, \u043E\u0431\u043B\u0430\u0434\u0430\u044E\u0449\u0438\u0445 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u043C\u0438 \u0441\u0432\u043E\u0439\u0441\u0442\u0432\u0430\u043C\u0438,\n        \u0438 \u0440\u0430\u0441\u043F\u043E\u043B\u0430\u0433\u0430\u044E\u0449\u0438\u0445\u0441\u044F \u043D\u0430 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u043C \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0438.</p>\n\n        <p>\u041E\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0442\u0435\u0440\u043C\u0438\u043D\u0430\u043B\u044C\u043D\u044B\u043C: \u043A \u0432\u0435\u0442\u043A\u0435 \u0437\u0430\u043F\u0440\u043E\u0441\u0430,\n        \u0437\u0430\u043A\u0430\u043D\u0447\u0438\u0432\u0430\u044E\u0449\u0435\u0439\u0441\u044F \u044D\u0442\u043E\u0439 \u0435\u0434\u0438\u043D\u0438\u0446\u0435\u0439, \u043D\u0435\u043B\u044C\u0437\u044F \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0435\u0449\u0435 \u043E\u0434\u043D\u0443 \u0435\u0434\u0438\u043D\u0438\u0446\u0443.</p>\n      </div>\n    </div>\n\n    <search-unit-choice params=\"node: node,\n      queryPartsNonReadiness: $root.queryPartsNonReadiness,\n      editNodeProperties: $root.queryPaneView.editNodeProperties,\n      finishEditingNodeProperties: $root.queryPaneView.finishEditingNodeProperties,\n      isQueryNew: $root.isQueryNew\">\n    </search-unit-choice>\n\n  </div>\n\n"},ye="\n\n  <div class=\"bmpp-queryDistances ui segments\"\n    data-bind=\"css: { 'bmpp-queryDistances--toOtherElement':\n                      $component.node.level() > 0 }\">\n\n    <!-- ko foreach: relations -->\n      ".concat("\n\n  <div class=\"bmpp-queryDistance ui secondary segment\">\n\n    <div class=\"ui tiny header\" data-bind=\"visible: $index() === 0\">\n      \u043D\u0430 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0438:\n    </div>\n\n    <div class=\"ui form\" style=\"margin-bottom: -1em;\">\n      <div class=\"bmpp-queryTreeHandles bmpp-queryTreeHandles2\">\n        <i class=\"ui small disabled grey plus icon\"\n          data-bind=\"visible: $index() === $component.relations().length - 1,\n                     click: childNode.addRelation.bind(childNode)\">\n        </i>\n\n        <i class=\"ui small icon\"\n          data-bind=\"visible: $index() !== $component.relations().length - 1\">\n        </i>\n\n        <i class=\"ui small disabled grey close icon\"\n          data-bind=\"visible: $index() !== 0,\n                   click: childNode.removeRelation.bind(childNode, $data)\"></i>\n      </div>\n\n      <div class=\"inline field bmpp-number\">\n        <label>\u043E\u0442</label>\n        <input type=\"number\" step=\"50\" min=\"0\" placeholder=\"0\">\n      </div>\n\n      <div class=\"inline field bmpp-number\">\n        <label>\u0434\u043E</label>\n        <input type=\"number\" step=\"50\" min=\"0\" placeholder=\"0\">\n      </div>\n\n      <div class=\"inline field bmpp-units\">\n        <div class=\"ui inline dropdown\">\n          <div class=\"default text\">\u043C\u0438\u043B\u043B\u0438\u0441\u0435\u043A\u0443\u043D\u0434</div>\n          <div class=\"menu\">\n            <div class=\"item\" data-value=\"ms\">\u043C\u0438\u043B\u043B\u0438\u0441\u0435\u043A\u0443\u043D\u0434</div>\n            <div class=\"item\" data-value=\"u\">\u0435\u0434\u0438\u043D\u0438\u0446</div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"inline field bmpp-points\">\n        <div class=\"ui selection dropdown\">\n          <input type=\"hidden\" name=\"pp\">\n          <label>\u043C\u0435\u0436\u0434\u0443</label>\n          <i class=\"dropdown icon\"></i>\n          <div class=\"default text\">\n            \u043D\u0430\u0447\u0430\u043B\u043E\u043C\n            <div class=\"ui circular label\"\n              data-bind=\"text: childNode.serialNumber\"></div>\n          </div>\n          <div class=\"menu\">\n            <div class=\"item\" data-value=\"s\">\n              \u043D\u0430\u0447\u0430\u043B\u043E\u043C\n              <div class=\"ui circular label\"\n                data-bind=\"text: childNode.serialNumber\"></div>\n            </div>\n            <div class=\"item\" data-value=\"e\">\n              \u043A\u043E\u043D\u0446\u043E\u043C\n              <div class=\"ui circular label\"\n                data-bind=\"text: childNode.serialNumber\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"inline field bmpp-points\">\n        <div class=\"ui selection dropdown\">\n          <input type=\"hidden\" name=\"cp\">\n          <label>\u0438</label>\n          <i class=\"dropdown icon\"></i>\n          <div class=\"default text\">\n            \u043D\u0430\u0447\u0430\u043B\u043E\u043C\n            <div class=\"ui circular label\"\n              data-bind=\"text: parentNode.serialNumber\"></div>\n          </div>\n          <div class=\"menu\">\n            <div class=\"item\" data-value=\"s\">\n              \u043D\u0430\u0447\u0430\u043B\u043E\u043C\n              <div class=\"ui circular label\"\n                data-bind=\"text: parentNode.serialNumber\"></div>\n            </div>\n            <div class=\"item\" data-value=\"e\">\n              \u043A\u043E\u043D\u0446\u043E\u043C\n              <div class=\"ui circular label\"\n                data-bind=\"text: parentNode.serialNumber\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n","\n    <!-- /ko -->\n\n    <i class=\"ui disabled grey question circle outline icon\n              bmpp-queryDistanceHelp\"></i>\n  </div>\n\n"),ve=function(e,a){var n=e.node,i=a.element;return new me(e.draw,i,n),t(i).find(".bmpp-queryDistanceHelp").popup({html:"\n\n  <header class=\"ui header\">\u0423\u0441\u043B\u043E\u0432\u0438\u0435 \u043D\u0430 \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435</header>\n\n  <p>\u0412 \u043A\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0443\u0441\u043B\u043E\u0432\u0438\u0439 \u043C\u043E\u0436\u043D\u043E \u043F\u043E \u043E\u0442\u0434\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438 \u0443\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B\u044B \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0439\n  \u043C\u0435\u0436\u0434\u0443 \u043D\u0430\u0447\u0430\u043B\u0430\u043C\u0438 (\u043B\u0435\u0432\u044B\u043C\u0438 \u0433\u0440\u0430\u043D\u0438\u0446\u0430\u043C\u0438) \u0438 \u043A\u043E\u043D\u0446\u0430\u043C\u0438 (\u043F\u0440\u0430\u0432\u044B\u043C\u0438 \u0433\u0440\u0430\u043D\u0438\u0446\u0430\u043C\u0438) \u0435\u0434\u0438\u043D\u0438\u0446.\n  \u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0435\u0441\u043B\u0438 \u0437\u0430\u0434\u0430\u0442\u044C \u0443\u0441\u043B\u043E\u0432\u0438\u0435 \xAB\u043E\u0442&nbsp;\u221250 \u0434\u043E&nbsp;100&nbsp;\u043C\u0441 \u043C\u0435\u0436\u0434\u0443 \u043D\u0430\u0447\u0430\u043B\u043E\u043C\n  X \u0438 \u043D\u0430\u0447\u0430\u043B\u043E\u043C Y\xBB, \u0431\u0443\u0434\u0443\u0442 \u043D\u0430\u0439\u0434\u0435\u043D\u044B \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u044B, \u0432 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u043B\u0435\u0432\u0430\u044F \u0433\u0440\u0430\u043D\u0438\u0446\u0430\n  X \u0440\u0430\u0441\u043F\u043E\u043B\u0430\u0433\u0430\u0435\u0442\u0441\u044F \u043D\u0435 \u043B\u0435\u0432\u0435\u0435, \u0447\u0435\u043C \u0432&nbsp;50&nbsp;\u043C\u0441, \u0438 \u043D\u0435 \u043F\u0440\u0430\u0432\u0435\u0435, \u0447\u0435\u043C\n  \u0432&nbsp;100&nbsp;\u043C\u0441, \u043E\u0442 \u043B\u0435\u0432\u043E\u0439 \u0433\u0440\u0430\u043D\u0438\u0446\u044B Y.</p>\n\n  <p>\u0415\u0441\u043B\u0438 \u0434\u043B\u044F \u0443\u0441\u043B\u043E\u0432\u0438\u044F \u0443\u043A\u0430\u0437\u0430\u043D\u043E \u0442\u043E\u043B\u044C\u043A\u043E \u043E\u0434\u043D\u043E \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435, \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F \u0441 \u0434\u0440\u0443\u0433\u043E\u0439\n  \u0441\u0442\u043E\u0440\u043E\u043D\u044B \u043D\u0435 \u043D\u0430\u043A\u043B\u0430\u0434\u044B\u0432\u0430\u0435\u0442\u0441\u044F. \u0415\u0441\u043B\u0438 \u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E \u043D\u0438 \u043E\u0434\u043D\u043E \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435, \u044D\u0442\u043E\n  \u0438\u043D\u0442\u0435\u0440\u043F\u0440\u0435\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044F \u043A\u0430\u043A \u0438\u043D\u0442\u0435\u0440\u0432\u0430\u043B \xAB\u043E\u0442&nbsp;0 \u0434\u043E&nbsp;0\xBB. \u0417\u043D\u0430\u0447\u0435\u043D\u0438\u044F \u0437\u0430\u0434\u0430\u044E\u0442\u0441\u044F\n  \u0432 \u043C\u0438\u043B\u043B\u0438\u0441\u0435\u043A\u0443\u043D\u0434\u0430\u0445. \u0415\u0441\u043B\u0438 X \u0438 Y \u044F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u0435\u0434\u0438\u043D\u0438\u0446\u0430\u043C \u043E\u0434\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430, \u043C\u0435\u0436\u0434\u0443 \u043D\u0430\u0447\u0430\u043B\u043E\u043C\n  X \u0438 \u043A\u043E\u043D\u0446\u043E\u043C Y \u043C\u043E\u0436\u043D\u043E \u0437\u0430\u0434\u0430\u0442\u044C \u0440\u0430\u0441\u0441\u0442\u043E\u044F\u043D\u0438\u0435 \u0432 \u0442\u0435\u0440\u043C\u0438\u043D\u0430\u0445 \u0435\u0434\u0438\u043D\u0438\u0446\u044B \u0434\u0430\u043D\u043D\u043E\u0433\u043E \u0442\u0438\u043F\u0430.</p>\n\n",variation:"basic fluid",setFluidWidth:!1,delay:{show:400,hide:0},duration:400,lastResort:!0,onShow:function(e){var a=t(e).popup("get popup");t(a).attr("style","width: 35em!important")}}),t.initialize(".ui.dropdown",function(){t(this).dropdown()},{target:i}),{relations:n.relationsToParentNode,node:n}},fe={viewModel:{createViewModel:ve},template:ye},he="svgQueryTree",ke="\n\n  <div class=\"bmpp-queryPane\">\n    <div class=\"bmpp-queryTree\" id=\"".concat(he,"\">\n    </div>\n    <div class=\"bmpp-query\" data-bind=\"foreach: linearizedQueryTree\">\n\n      <query-node-relations params=\"node: $data, draw: $component.svgDraw\"\n        data-bind=\"visible: $data.parentNode\">\n      </query-node-relations>\n\n      <query-node params=\"node: $data, draw: $component.svgDraw\"></query-node>\n\n    </div>\n  </div>\n\n"),we=function(t,n){var i=function(e){var t=!0,a=!1,n=void 0;try{for(var i=e[Symbol.iterator](),l,o;!(t=(l=i.next()).done);t=!0)o=l.value,o.svgSlug&&o.svgSlug.position()}catch(e){a=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}var s=!0,r=!1,d=void 0;try{for(var c=e.slice(1)[Symbol.iterator](),p,u;!(s=(p=c.next()).done);s=!0)u=p.value,u.svgRelationLine&&u.svgRelationLine.redrawLine()}catch(e){r=!0,d=e}finally{try{s||null==c.return||c.return()}finally{if(r)throw d}}},l=a.computed(function(){var e=S(t.queryTree,[]),a=!0,n=!1,i=void 0;try{for(var l=e[Symbol.iterator](),o,s;!(a=(o=l.next()).done);a=!0)s=o.value,s.childNodes()}catch(e){n=!0,i=e}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return e});l.subscribe(i);var o=new MutationObserver(function(){return void 0!==i.timeoutID&&clearTimeout(i.timeoutID),i.timeoutID=setTimeout(function(){i(l())},30),!0});o.observe(n.element,{childList:!0,subtree:!0,attributes:!1,characterData:!1,attributeOldValue:!1,characterDataOldValue:!1});var s={linearizedQueryTree:l,svgDraw:e(he).size("100%","100%")};return s},xe={viewModel:{createViewModel:we},template:ke},_e=n(function(a){"object"==typeof navigator&&function(n,e){a.exports=e()}(W,function(){var xe=Number.isNaN;function fe(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function Ve(a,e){for(var t=0,l;t<e.length;t++)l=e[t],l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}function e(t,e,a){return e&&Ve(t.prototype,e),a&&Ve(t,a),t}function n(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Fe(a,e){return function(t){if(Array.isArray(t))return t}(a)||function(l,e){var t=[],n=!0,d=!1,c;try{for(var p=l[Symbol.iterator](),r;!(n=(r=p.next()).done)&&(t.push(r.value),!e||t.length!==e);n=!0);}catch(t){d=!0,c=t}finally{try{n||null==p.return||p.return()}finally{if(d)throw c}}return t}(a,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function t(t){return function(a){if(Array.isArray(a)){for(var e=0,i=Array(a.length);e<a.length;e++)i[e]=a[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(d,e,c){var n=this,i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],t=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],a=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(d&&"addEventListener"in d&&!De.empty(e)&&De.function(c)){var o=e.split(" "),s=a;p&&(s={passive:t,capture:a}),o.forEach(function(e){n&&n.eventListeners&&i&&n.eventListeners.push({element:d,type:e,callback:c,options:s}),d[i?"addEventListener":"removeEventListener"](e,c,s)})}}function g(l){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length?arguments[2]:void 0,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];s.call(this,l,e,t,!0,n,i)}function y(l){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length?arguments[2]:void 0,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];s.call(this,l,e,t,!1,n,i)}function a(d){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length?arguments[2]:void 0,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];s.call(this,d,e,function a(){y(d,e,a,n,i);for(var s=arguments.length,o=Array(s),r=0;r<s;r++)o[r]=arguments[r];t.apply(this,o)},!0,n,i)}function b(l){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(De.element(l)&&!De.empty(e)){var i=new CustomEvent(e,{bubbles:t,detail:Object.assign({},n,{plyr:this})});l.dispatchEvent(i)}}function i(a,l){var e=a.length?a:[a];Array.from(e).reverse().forEach(function(t,e){var n=0<e?l.cloneNode(!0):l,i=t.parentNode,a=t.nextSibling;n.appendChild(t),a?i.insertBefore(n,a):i.appendChild(n)})}function v(a,e){De.element(a)&&!De.empty(e)&&Object.entries(e).filter(function(a){var e=Fe(a,2)[1];return!De.nullOrUndefined(e)}).forEach(function(e){var t=Fe(e,2),n=t[0],i=t[1];return a.setAttribute(n,i)})}function k(a,e,t){var n=document.createElement(a);return De.object(e)&&v(n,e),De.string(t)&&(n.innerText=t),n}function w(a,e,t,n){De.element(e)&&e.appendChild(k(a,t,n))}function T(t){De.nodeList(t)||De.array(t)?Array.from(t).forEach(T):De.element(t)&&De.element(t.parentNode)&&t.parentNode.removeChild(t)}function P(a){if(De.element(a))for(var e=a.childNodes.length;0<e;)a.removeChild(a.lastChild),e-=1}function C(a,e){return De.element(e)&&De.element(e.parentNode)&&De.element(a)?(e.parentNode.replaceChild(a,e),a):null}function S(a,e){if(!De.string(a)||De.empty(a))return{};var l={},n=e;return a.split(",").forEach(function(i){var e=i.trim(),t=e.replace(".",""),a=e.replace(/[[\]]/g,"").split("="),s=a[0],o=1<a.length?a[1].replace(/["']/g,""):"";switch(e.charAt(0)){case".":De.object(n)&&De.string(n.class)&&(n.class+=" ".concat(t)),l.class=t;break;case"#":l.id=e.replace("#","");break;case"[":l[s]=o;}}),l}function E(a,e){if(De.element(a)){var t=e;De.boolean(t)||(t=!a.hidden),t?a.setAttribute("hidden",""):a.removeAttribute("hidden")}}function N(a,l,t){if(De.nodeList(a))return Array.from(a).map(function(a){return N(a,l,t)});if(De.element(a)){var e="toggle";return void 0!==t&&(e=t?"add":"remove"),a.classList[e](l),a.classList.contains(l)}return!1}function L(a,e){return De.element(a)&&a.classList.contains(e)}function x(a,e){return function(){return Array.from(document.querySelectorAll(e)).includes(this)}.call(a,e)}function A(t){return this.elements.container.querySelectorAll(t)}function _(t){return this.elements.container.querySelector(t)}function I(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];De.element(a)&&(a.focus({preventScroll:!0}),e&&N(a,this.config.classNames.tabFocus))}function O(t){setTimeout(function(){try{E(t,!0),t.offsetHeight,E(t,!1)}catch(t){}},0)}function M(a){return De.array(a)?a.filter(function(e,t){return a.indexOf(e)===t}):a}function H(a,e){return e.split(".").reduce(function(a,e){return a&&a[e]},a)}function j(){for(var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,t=Array(1<e?e-1:0),l=1;l<e;l++)t[l-1]=arguments[l];if(!t.length)return i;var o=t.shift();return De.object(o)?(Object.keys(o).forEach(function(e){De.object(o[e])?(Object.keys(i).includes(e)||Object.assign(i,n({},e,{})),j(i[e],o[e])):Object.assign(i,n({},e,o[e]))}),j.apply(void 0,[i].concat(t))):i}function K(a){for(var e=arguments.length,l=Array(1<e?e-1:0),t=1;t<e;t++)l[t-1]=arguments[t];return De.empty(a)?a:a.toString().replace(/{(\d+)}/g,function(a,e){return l[e].toString()})}function Q(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return a.replace(new RegExp(e.toString().replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"),t.toString())}function Y(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})}function G(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return(t=function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return t=Q(t,"-"," "),t=Q(t,"_"," "),Q(t=Y(t)," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}function X(a){var e=document.createElement("div");return e.appendChild(a),e.innerHTML}function J(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(t,n){try{var l=new XMLHttpRequest;if(!("withCredentials"in l))return;l.addEventListener("load",function(){if("text"===e)try{t(JSON.parse(l.responseText))}catch(a){t(l.responseText)}else t(l.response)}),l.addEventListener("error",function(){throw new Error(l.status)}),l.open("GET",i,!0),l.responseType=e,l.send()}catch(t){n(t)}})}function Z(d,c){if(De.string(d)){var p=De.string(c),n=function(){return null!==document.getElementById(c)},t=function(a,e){a.innerHTML=e,p&&n()||document.body.insertAdjacentElement("afterbegin",a)};if(!p||!n()){var a=te.supported,i=document.createElement("div");if(i.setAttribute("hidden",""),p&&i.setAttribute("id",c),a){var e=window.localStorage.getItem("".concat("cache","-").concat(c));if(null!==e){var o=JSON.parse(e);t(i,o.content)}}J(d).then(function(n){De.empty(n)||(a&&window.localStorage.setItem("".concat("cache","-").concat(c),JSON.stringify({content:n})),t(i,n))}).catch(function(){})}}}function ae(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!De.number(l))return ae(null,e,t);var n=function(t){return"0".concat(t).slice(-2)},i=ne(l),r=se(l),s=oe(l);return i=e||0<i?"".concat(i,":"):"","".concat(t&&0<l?"-":"").concat(i).concat(n(r),":").concat(n(s))}function ie(a){var e=a;if(!(1<arguments.length&&void 0!==arguments[1])||arguments[1]){var i=document.createElement("a");i.href=e,e=i.href}try{return new URL(e)}catch(t){return null}}function le(a){var l=new URLSearchParams;return De.object(a)&&Object.entries(a).forEach(function(t){var e=Fe(t,2),a=e[0],n=e[1];l.set(a,n)}),l}function de(){if(this.enabled){var t=this.player.elements.buttons.fullscreen;De.element(t)&&(t.pressed=this.active),b.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),f.isIos||function(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(De.element(l)){var t=A.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=t[0],i=t[t.length-1];s.call(this,this.elements.container,"keydown",function(a){if("Tab"===a.key&&9===a.keyCode){var e=document.activeElement;e!==i||a.shiftKey?e===n&&a.shiftKey&&(i.focus(),a.preventDefault()):(n.focus(),a.preventDefault())}},e,!1)}}.call(this.player,this.target,this.active)}}function ue(){var i=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",N(this.target,this.player.config.classNames.fullscreen.fallback,e),f.isIos){var t=document.head.querySelector("meta[name=\"viewport\"]");t||(t=document.createElement("meta")).setAttribute("name","viewport");var l=De.string(t.content)&&t.content.includes("viewport-fit=cover");e?(this.cleanupViewport=!l,l||(t.content+=",".concat("viewport-fit=cover"))):this.cleanupViewport&&(t.content=t.content.split(",").filter(function(t){return t.trim()!=="viewport-fit=cover"}).join(",")),setTimeout(function(){return O(i.target)},100)}de.call(this)}function ke(l){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(t,n){var i=new Image,a=function(){delete i.onload,delete i.onerror,(i.naturalWidth>=e?t:n)(i)};Object.assign(i,{onload:a,onerror:a,src:l})})}function we(a){return new Promise(function(e,t){Pe(a,{success:e,error:t})})}function Ae(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,b.call(this,this.media,t?"play":"pause"))}function Ne(t){t&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===t&&(this.media.paused=!t,b.call(this,this.media,t?"play":"pause"))}var Me=function(t){return null==t?null:t.constructor},o=function(a,e){return!!(a&&e&&a instanceof e)},r=function(t){return null==t},l=function(t){return Me(t)===Object},c=function(t){return Me(t)===String},u=function(t){return Array.isArray(t)},d=function(t){return o(t,NodeList)},h=function(t){return r(t)||(c(t)||u(t)||d(t))&&!t.length||l(t)&&!Object.keys(t).length},De={nullOrUndefined:r,object:l,number:function(t){return Me(t)===Number&&!xe(t)},string:c,boolean:function(t){return Me(t)===Boolean},function:function(t){return Me(t)===Function},array:u,weakMap:function(t){return o(t,WeakMap)},nodeList:d,element:function(t){return o(t,Element)},textNode:function(t){return Me(t)===Text},event:function(t){return o(t,Event)},keyboardEvent:function(t){return o(t,KeyboardEvent)},cue:function(t){return o(t,window.TextTrackCue)||o(t,window.VTTCue)},track:function(t){return o(t,TextTrack)||!r(t)&&c(t.kind)},url:function(a){if(o(a,window.URL))return!0;if(!c(a))return!1;var e=a;a.startsWith("http://")&&a.startsWith("https://")||(e="http://".concat(a));try{return!h(new URL(e).hostname)}catch(t){return!1}},empty:h},p=function(){var a=!1;try{var n=Object.defineProperty({},"passive",{get:function(){return a=!0,null}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(t){}return a}(),m=(Re=document.createElement("span"),Ue={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},Be=Object.keys(Ue).find(function(t){return void 0!==Re.style[t]}),!!De.string(Be)&&Ue[Be]),f={isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},F={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},D={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(l,e,t){var n=f.isIPhone&&t&&D.playsinline,i=D[l]||"html5"!==e;return{api:i,ui:i&&D.rangeInput&&("video"!==l||!f.isIPhone||n)}},pip:!f.isIPhone&&(De.function(k("video").webkitSetPresentationMode)||document.pictureInPictureEnabled&&!k("video").disablePictureInPicture),airplay:De.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(a){var e=Fe(a.split("/"),1)[0],t=a;if(!this.isHTML5||e!==this.type)return!1;Object.keys(F).includes(t)&&(t+="; codecs=\"".concat(F[a],"\""));try{return!!(t&&this.media.canPlayType(t).replace(/no/,""))}catch(t){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:($e=document.createElement("input"),$e.type="range","range"===$e.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==m,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},U={getSources:function(){var a=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){return D.mime.call(a,e.getAttribute("type"))}):[]},getQualityOptions:function(){return U.getSources.call(this).map(function(t){return+t.getAttribute("size")}).filter(Boolean)},extend:function(){if(this.isHTML5){var l=this;Object.defineProperty(l.media,"quality",{get:function(){var e=U.getSources.call(l).find(function(e){return e.getAttribute("src")===l.source});return e&&+e.getAttribute("size")},set:function(d){var e=U.getSources.call(l).find(function(t){return+t.getAttribute("size")===d});if(e){var t=l.media,n=t.currentTime,a=t.paused,i=t.preload,o=t.readyState;l.media.src=e.getAttribute("src"),("none"!==i||o)&&(l.once("loadedmetadata",function(){l.currentTime=n,a||l.play()}),l.media.load()),b.call(l,l.media,"qualitychange",!1,{quality:d})}}})}},cancelRequests:function(){this.isHTML5&&(T(U.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}},W={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ee=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(De.empty(a)||De.empty(e))return"";var l=H(e.i18n,a);if(De.empty(l))return Object.keys(W).includes(a)?W[a]:"";var t={"{seektime}":e.seekTime,"{title}":e.title};return Object.entries(t).forEach(function(a){var e=Fe(a,2),t=e[0],n=e[1];l=Q(l,t,n)}),l},te=function(){function a(e){fe(this,a),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return e(a,[{key:"get",value:function(t){if(!a.supported||!this.enabled)return null;var e=window.localStorage.getItem(this.key);if(De.empty(e))return null;var n=JSON.parse(e);return De.string(t)&&t.length?n[t]:n}},{key:"set",value:function(t){if(a.supported&&this.enabled&&De.object(t)){var e=this.get();De.empty(e)&&(e={}),j(e,t),window.localStorage.setItem(this.key,JSON.stringify(e))}}}],[{key:"supported",get:function(){try{return!!("localStorage"in window)&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(t){return!1}}}]),a}(),ne=function(t){return parseInt(t/60/60%60,10)},se=function(t){return parseInt(t/60%60,10)},oe=function(t){return parseInt(t%60,10)},re={getIconUrl:function(){var t=new URL(this.config.iconUrl,window.location).host!==window.location.host||f.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:t}},findElements:function(){try{return this.elements.controls=_.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:A.call(this,this.config.selectors.buttons.play),pause:_.call(this,this.config.selectors.buttons.pause),restart:_.call(this,this.config.selectors.buttons.restart),rewind:_.call(this,this.config.selectors.buttons.rewind),fastForward:_.call(this,this.config.selectors.buttons.fastForward),mute:_.call(this,this.config.selectors.buttons.mute),pip:_.call(this,this.config.selectors.buttons.pip),airplay:_.call(this,this.config.selectors.buttons.airplay),settings:_.call(this,this.config.selectors.buttons.settings),captions:_.call(this,this.config.selectors.buttons.captions),fullscreen:_.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=_.call(this,this.config.selectors.progress),this.elements.inputs={seek:_.call(this,this.config.selectors.inputs.seek),volume:_.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:_.call(this,this.config.selectors.display.buffer),currentTime:_.call(this,this.config.selectors.display.currentTime),duration:_.call(this,this.config.selectors.display.duration)},De.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(t){return this.debug.warn("It looks like there is a problem with your custom controls HTML",t),this.toggleNativeControls(!0),!1}},createIcon:function(l,e){var t=re.getIconUrl.call(this),n="".concat(t.cors?"":t.url,"#").concat(this.config.iconPrefix),i=document.createElementNS("http://www.w3.org/2000/svg","svg");v(i,j(e,{role:"presentation",focusable:"false"}));var a=document.createElementNS("http://www.w3.org/2000/svg","use"),s="".concat(n,"-").concat(l);return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",s),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),i.appendChild(a),i},createLabel:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=ee(a,this.config);return k("span",Object.assign({},e,{class:[e.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),t)},createBadge:function(a){if(De.empty(a))return null;var e=k("span",{class:this.config.classNames.menu.value});return e.appendChild(k("span",{class:this.config.classNames.menu.badge},a)),e},createButton:function(l,e){var t=Object.assign({},e),n=G(l),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(a){Object.keys(t).includes(a)&&(o[a]=t[a],delete t[a])}),"button"!==o.element||Object.keys(t).includes("type")||(t.type="button"),Object.keys(t).includes("class")?t.class.includes(this.config.classNames.control)||(t.class+=" ".concat(this.config.classNames.control)):t.class=this.config.classNames.control,l){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":t.class+=" ".concat(this.config.classNames.control,"--overlaid"),n="play",o.label="play",o.icon="play";break;default:De.empty(o.label)&&(o.label=n),De.empty(o.icon)&&(o.icon=l);}var a=k(o.element);return o.toggle?(a.appendChild(re.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),a.appendChild(re.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),a.appendChild(re.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),a.appendChild(re.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(a.appendChild(re.createIcon.call(this,o.icon)),a.appendChild(re.createLabel.call(this,o.label))),j(t,S(this.config.selectors.buttons[n],t)),v(a,t),"play"===n?(De.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(a)):this.elements.buttons[n]=a,a},createRange:function(a,e){var t=k("input",j(S(this.config.selectors.inputs[a]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ee(a,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},e));return this.elements.inputs[a]=t,re.updateRangeFill.call(this,t),t},createProgress:function(l,e){var t=k("progress",j(S(this.config.selectors.display[l]),{min:0,max:100,value:0,role:"presentation","aria-hidden":!0},e));if("volume"!==l){t.appendChild(k("span",null,"0"));var n={played:"played",buffer:"buffered"}[l],i=n?ee(n,this.config):"";t.innerText="% ".concat(i.toLowerCase())}return this.elements.display[l]=t,t},createTime:function(a){var e=S(this.config.selectors.display[a]),t=k("div",j(e,{class:"".concat(this.config.classNames.display.time," ").concat(e.class?e.class:"").trim(),"aria-label":ee(a,this.config)}),"00:00");return this.elements.display[a]=t,t},bindMenuItemShortcuts:function(l,e){var t=this;g(l,"keydown keyup",function(n){if([32,38,39,40].includes(n.which)&&(n.preventDefault(),n.stopPropagation(),"keydown"!==n.type)){var i=x(l,"[role=\"menuitemradio\"]"),o;!i&&[32,39].includes(n.which)?re.showMenuPanel.call(t,e,!0):32!==n.which&&(40===n.which||i&&39===n.which?(o=l.nextElementSibling,De.element(o)||(o=l.parentNode.firstElementChild)):(o=l.previousElementSibling,De.element(o)||(o=l.parentNode.lastElementChild)),I.call(t,o,!0))}},!1),g(l,"keyup",function(a){13===a.which&&re.focusFirstMenuItem.call(t,null,!0)})},createMenuItem:function(c){var p=this,t=c.value,e=c.list,n=c.type,a=c.title,i=c.badge,o=void 0===i?null:i,s=c.checked,l=S(this.config.selectors.inputs[n]),r=k("button",j(l,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(l.class?l.class:"").trim(),"aria-checked":void 0!==s&&s,value:t})),d=k("span");d.innerHTML=a,De.element(o)&&d.appendChild(o),r.appendChild(d),Object.defineProperty(r,"checked",{enumerable:!0,get:function(){return"true"===r.getAttribute("aria-checked")},set:function(t){t&&Array.from(r.parentNode.children).filter(function(t){return x(t,"[role=\"menuitemradio\"]")}).forEach(function(t){return t.setAttribute("aria-checked","false")}),r.setAttribute("aria-checked",t?"true":"false")}}),this.listeners.bind(r,"click keyup",function(a){if(!De.keyboardEvent(a)||32===a.which){switch(a.preventDefault(),a.stopPropagation(),r.checked=!0,n){case"language":p.currentTrack=+t;break;case"quality":p.quality=t;break;case"speed":p.speed=parseFloat(t);}re.showMenuPanel.call(p,"home",De.keyboardEvent(a))}},n,!1),re.bindMenuItemShortcuts.call(this,r,n),e.appendChild(r)},formatTime:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return De.number(a)?ae(a,0<ne(this.duration),e):a},updateTimeDisplay:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=2<arguments.length&&void 0!==arguments[2]&&arguments[2];De.element(a)&&De.number(e)&&(a.innerText=re.formatTime(e,t))},updateVolume:function(){this.supported.ui&&(De.element(this.elements.inputs.volume)&&re.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),De.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;De.element(a)&&(a.value=e,re.updateRangeFill.call(this,a))},updateProgress:function(l){var o=this;if(this.supported.ui&&De.event(l)){var e=0,t,s;if(l)switch(l.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,s=this.duration,e=0===t||0===s||xe(t)||xe(s)?0:(100*(t/s)).toFixed(2),"timeupdate"===l.type&&re.setRange.call(this,this.elements.inputs.seek,e);break;case"playing":case"progress":!function(t,e){var n=De.number(e)?e:0,i=De.element(t)?t:o.elements.display.buffer;if(De.element(i)){i.value=n;var a=i.getElementsByTagName("span")[0];De.element(a)&&(a.childNodes[0].nodeValue=n)}}(this.elements.display.buffer,100*this.buffered);}}},updateRangeFill:function(l){var e=De.event(l)?l.target:l;if(De.element(e)&&"range"===e.getAttribute("type")){if(x(e,this.config.selectors.inputs.seek)){e.setAttribute("aria-valuenow",this.currentTime);var t=re.formatTime(this.currentTime),n=re.formatTime(this.duration),i=ee("seekLabel",this.config);e.setAttribute("aria-valuetext",i.replace("{currentTime}",t).replace("{duration}",n))}else if(x(e,this.config.selectors.inputs.volume)){var a=100*e.value;e.setAttribute("aria-valuenow",a),e.setAttribute("aria-valuetext","".concat(a.toFixed(1),"%"))}else e.setAttribute("aria-valuenow",e.value);f.isWebkit&&e.style.setProperty("--value","".concat(100*(e.value/e.max),"%"))}},updateSeekTooltip:function(l){var o=this;if(this.config.tooltips.seek&&De.element(this.elements.inputs.seek)&&De.element(this.elements.display.seekTooltip)&&0!==this.duration){var e=0,t=this.elements.progress.getBoundingClientRect(),i="".concat(this.config.classNames.tooltip,"--visible"),a=function(t){N(o.elements.display.seekTooltip,i,t)};if(this.touch)a(!1);else{if(De.event(l))e=100/t.width*(l.pageX-t.left);else{if(!L(this.elements.display.seekTooltip,i))return;e=parseFloat(this.elements.display.seekTooltip.style.left,10)}0>e?e=0:100<e&&(e=100),re.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*e),this.elements.display.seekTooltip.style.left="".concat(e,"%"),De.event(l)&&["mouseenter","mouseleave"].includes(l.type)&&a("mouseenter"===l.type)}}},timeUpdate:function(a){var e=!De.element(this.elements.display.duration)&&this.config.invertTime;re.updateTimeDisplay.call(this,this.elements.display.currentTime,e?this.duration-this.currentTime:this.currentTime,e),a&&"timeupdate"===a.type&&this.media.seeking||re.updateProgress.call(this,a)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return E(this.elements.display.currentTime,!0),void E(this.elements.progress,!0);De.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var t=De.element(this.elements.display.duration);!t&&this.config.displayDuration&&this.paused&&re.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),t&&re.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),re.updateSeekTooltip.call(this)}},toggleMenuButton:function(a,e){E(this.elements.settings.buttons[a],!e)},updateSetting:function(l,e,t){var n=this.elements.settings.panels[l],i=null,r=e;if("captions"===l)i=this.currentTrack;else{if(i=De.empty(t)?this[l]:t,De.empty(i)&&(i=this.config[l].default),!De.empty(this.options[l])&&!this.options[l].includes(i))return void this.debug.warn("Unsupported value of '".concat(i,"' for ").concat(l));if(!this.config[l].options.includes(i))return void this.debug.warn("Disabled value of '".concat(i,"' for ").concat(l))}if(De.element(r)||(r=n&&n.querySelector("[role=\"menu\"]")),De.element(r)){this.elements.settings.buttons[l].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=re.getLabel.call(this,l,i);var d=r&&r.querySelector("[value=\"".concat(i,"\"]"));De.element(d)&&(d.checked=!0)}},getLabel:function(a,e){switch(a){case"speed":return 1===e?ee("normal",this.config):"".concat(e,"&times;");case"quality":if(De.number(e)){var t=ee("qualityLabel.".concat(e),this.config);return t.length?t:"".concat(e,"p")}return Y(e);case"captions":return ce.getLabel.call(this);default:return null;}},setQualityMenu:function(a){var l=this;if(De.element(this.elements.settings.panels.quality)){var t=this.elements.settings.panels.quality.querySelector("[role=\"menu\"]");De.array(a)&&(this.options.quality=M(a).filter(function(t){return l.config.quality.options.includes(t)}));var e=!De.empty(this.options.quality)&&1<this.options.quality.length;(re.toggleMenuButton.call(this,"quality",e),P(t),re.checkMenu.call(this),e)&&(this.options.quality.sort(function(t,e){var a=l.config.quality.options;return a.indexOf(t)>a.indexOf(e)?1:-1}).forEach(function(a){re.createMenuItem.call(l,{value:a,list:t,type:"quality",title:re.getLabel.call(l,"quality",a),badge:function(t){var e=ee("qualityBadge.".concat(t),l.config);return e.length?re.createBadge.call(l,e):null}(a)})}),re.updateSetting.call(this,"quality",t))}},setCaptionsMenu:function(){var l=this;if(De.element(this.elements.settings.panels.captions)){var e=this.elements.settings.panels.captions.querySelector("[role=\"menu\"]"),t=ce.getTracks.call(this),n=!!t.length;if(re.toggleMenuButton.call(this,"captions",n),P(e),re.checkMenu.call(this),n){var i=t.map(function(t,a){return{value:a,checked:l.captions.toggled&&l.currentTrack===a,title:ce.getLabel.call(l,t),badge:t.language&&re.createBadge.call(l,t.language.toUpperCase()),list:e,type:"language"}});i.unshift({value:-1,checked:!this.captions.toggled,title:ee("disabled",this.config),list:e,type:"language"}),i.forEach(re.createMenuItem.bind(this)),re.updateSetting.call(this,"captions",e)}}},setSpeedMenu:function(a){var l=this;if(De.element(this.elements.settings.panels.speed)){var t=this.elements.settings.panels.speed.querySelector("[role=\"menu\"]");De.array(a)?this.options.speed=a:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(t){return l.config.speed.options.includes(t)});var e=!De.empty(this.options.speed)&&1<this.options.speed.length;re.toggleMenuButton.call(this,"speed",e),P(t),re.checkMenu.call(this),e&&(this.options.speed.forEach(function(a){re.createMenuItem.call(l,{value:a,list:t,type:"speed",title:re.getLabel.call(l,"speed",a)})}),re.updateSetting.call(this,"speed",t))}},checkMenu:function(){var a=this.elements.settings.buttons,e=!De.empty(a)&&Object.values(a).some(function(t){return!t.hidden});E(this.elements.settings.menu,!e)},focusFirstMenuItem:function(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var t=a;De.element(t)||(t=Object.values(this.elements.settings.panels).find(function(t){return!t.hidden}));var l=t.querySelector("[role^=\"menuitem\"]");I.call(this,l,e)}},toggleMenu:function(l){var e=this.elements.settings.popup,t=this.elements.buttons.settings;if(De.element(e)&&De.element(t)){var n=e.hidden,i=n;if(De.boolean(l))i=l;else if(De.keyboardEvent(l)&&27===l.which)i=!1;else if(De.event(l)){var o=e.contains(l.target);if(o||!o&&l.target!==t&&i)return}t.setAttribute("aria-expanded",i),E(e,!i),N(this.elements.container,this.config.classNames.menu.open,i),i&&De.keyboardEvent(l)?re.focusFirstMenuItem.call(this,null,!0):i||n||I.call(this,t,De.keyboardEvent(l))}},getMenuSize:function(a){var e=a.cloneNode(!0);e.style.position="absolute",e.style.opacity=0,e.removeAttribute("hidden"),a.parentNode.appendChild(e);var t=e.scrollWidth,n=e.scrollHeight;return T(e),{width:t,height:n}},showMenuPanel:function(){var l=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("plyr-settings-".concat(this.id,"-").concat(e));if(De.element(n)){var i=n.parentNode,a=Array.from(i.children).find(function(t){return!t.hidden});if(D.transitions&&!D.reducedMotion){i.style.width="".concat(a.scrollWidth,"px"),i.style.height="".concat(a.scrollHeight,"px");var s=re.getMenuSize.call(this,n);g.call(this,i,m,function e(t){t.target===i&&["width","height"].includes(t.propertyName)&&(i.style.width="",i.style.height="",y.call(l,i,m,e))}),i.style.width="".concat(s.width,"px"),i.style.height="".concat(s.height,"px")}E(a,!0),E(n,!1),re.focusFirstMenuItem.call(this,n,t)}},setDownloadLink:function(){var t=this.elements.buttons.download;De.element(t)&&t.setAttribute("href",this.download)},create:function(m){var b=this,e=k("div",S(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&e.appendChild(re.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&e.appendChild(re.createButton.call(this,"rewind")),this.config.controls.includes("play")&&e.appendChild(re.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&e.appendChild(re.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var t=k("div",S(this.config.selectors.progress));if(t.appendChild(re.createRange.call(this,"seek",{id:"plyr-seek-".concat(m.id)})),t.appendChild(re.createProgress.call(this,"buffer")),this.config.tooltips.seek){var n=k("span",{class:this.config.classNames.tooltip},"00:00");t.appendChild(n),this.elements.display.seekTooltip=n}this.elements.progress=t,e.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&e.appendChild(re.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&e.appendChild(re.createTime.call(this,"duration")),this.config.controls.includes("mute")||this.config.controls.includes("volume")){var a=k("div",{class:"plyr__volume"});if(this.config.controls.includes("mute")&&a.appendChild(re.createButton.call(this,"mute")),this.config.controls.includes("volume")){var i={max:1,step:.05,value:this.config.volume};a.appendChild(re.createRange.call(this,"volume",j(i,{id:"plyr-volume-".concat(m.id)}))),this.elements.volume=a}e.appendChild(a)}if(this.config.controls.includes("captions")&&e.appendChild(re.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!De.empty(this.config.settings)){var o=k("div",{class:"plyr__menu",hidden:""});o.appendChild(re.createButton.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(m.id),"aria-expanded":!1}));var s=k("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(m.id),hidden:""}),l=k("div"),r=k("div",{id:"plyr-settings-".concat(m.id,"-home")}),c=k("div",{role:"menu"});r.appendChild(c),l.appendChild(r),this.elements.settings.panels.home=r,this.config.settings.forEach(function(e){var t=k("button",j(S(b.config.selectors.buttons.settings),{type:"button",class:"".concat(b.config.classNames.control," ").concat(b.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));re.bindMenuItemShortcuts.call(b,t,e),g(t,"click",function(){re.showMenuPanel.call(b,e,!1)});var n=k("span",null,ee(e,b.config)),a=k("span",{class:b.config.classNames.menu.value});a.innerHTML=m[e],n.appendChild(a),t.appendChild(n),c.appendChild(t);var i=k("div",{id:"plyr-settings-".concat(m.id,"-").concat(e),hidden:""}),o=k("button",{type:"button",class:"".concat(b.config.classNames.control," ").concat(b.config.classNames.control,"--back")});o.appendChild(k("span",{"aria-hidden":!0},ee(e,b.config))),o.appendChild(k("span",{class:b.config.classNames.hidden},ee("menuBack",b.config))),g(i,"keydown",function(t){37===t.which&&(t.preventDefault(),t.stopPropagation(),re.showMenuPanel.call(b,"home",!0))},!1),g(o,"click",function(){re.showMenuPanel.call(b,"home",!1)}),i.appendChild(o),i.appendChild(k("div",{role:"menu"})),l.appendChild(i),b.elements.settings.buttons[e]=t,b.elements.settings.panels[e]=i}),s.appendChild(l),o.appendChild(s),e.appendChild(o),this.elements.settings.popup=s,this.elements.settings.menu=o}if(this.config.controls.includes("pip")&&D.pip&&e.appendChild(re.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&D.airplay&&e.appendChild(re.createButton.call(this,"airplay")),this.config.controls.includes("download")){var d={element:"a",href:this.download,target:"_blank"},u=this.config.urls.download;!De.url(u)&&this.isEmbed&&j(d,{icon:"logo-".concat(this.provider),label:this.provider}),e.appendChild(re.createButton.call(this,"download",d))}return this.config.controls.includes("fullscreen")&&e.appendChild(re.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(re.createButton.call(this,"play-large")),this.elements.controls=e,this.isHTML5&&re.setQualityMenu.call(this,U.getQualityOptions.call(this)),re.setSpeedMenu.call(this),e},inject:function(){var a=this;if(this.config.loadSprite){var e=re.getIconUrl.call(this);e.cors&&Z(e.url,"sprite-plyr")}this.id=B(1e4*Math.random());var t=null;this.elements.controls=null;var m={id:this.id,seektime:this.config.seekTime,title:this.config.title},i=!0;De.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this.props)),this.config.controls||(this.config.controls=[]),De.element(this.config.controls)||De.string(this.config.controls)?t=this.config.controls:(t=re.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:ce.getLabel.call(this)}),i=!1);var b=function(a){var l=a;return Object.entries(m).forEach(function(t){var e=Fe(t,2),a=e[0],n=e[1];l=Q(l,"{".concat(a,"}"),n)}),l},r;if(i&&(De.string(this.config.controls)?t=b(t):De.element(t)&&(t.innerHTML=b(t.innerHTML))),De.string(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),De.element(r)||(r=this.elements.container),r[De.element(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),De.element(this.elements.controls)||re.findElements.call(this),!De.empty(this.elements.buttons)){var g=function(i){var t=a.config.classNames.controlPressed;Object.defineProperty(i,"pressed",{enumerable:!0,get:function(){return L(i,t)},set:function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0];N(i,t,a)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(t){De.array(t)||De.nodeList(t)?Array.from(t).filter(Boolean).forEach(g):g(t)})}if(window.navigator.userAgent.includes("Edge")&&O(r),this.config.tooltips.controls){var l=this.config,c=l.classNames,u=l.selectors,d="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(c.hidden),y=A.call(this,d);Array.from(y).forEach(function(e){N(e,a.config.classNames.hidden,!1),N(e,a.config.classNames.tooltip,!0)})}}},ce={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!D.textTracks)De.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&re.setCaptionsMenu.call(this);else{var a,l;if(De.element(this.elements.captions)||(this.elements.captions=k("div",S(this.config.selectors.captions)),a=this.elements.captions,l=this.elements.wrapper,De.element(a)&&De.element(l)&&l.parentNode.insertBefore(a,l.nextSibling)),f.isIE&&window.URL){var d=this.media.querySelectorAll("track");Array.from(d).forEach(function(a){var e=a.getAttribute("src"),t=ie(e);null!==t&&t.hostname!==window.location.href.hostname&&["http:","https:"].includes(t.protocol)&&J(e,"blob").then(function(e){a.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){T(a)})})}var n=M((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(t){return t.split("-")[0]})),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&(i=Fe(n,1)[0]);var c=this.storage.get("captions");if(De.boolean(c)||(c=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:c,language:i,languages:n}),this.isHTML5){var p=this.config.captions.update?"addtrack removetrack":"removetrack";g.call(this,this.media.textTracks,p,ce.update.bind(this))}setTimeout(ce.update.bind(this),0)}},update:function(){var l=this,e=ce.getTracks.call(this,!0),t=this.captions,n=t.active,i=t.language,a=t.meta,s=t.currentTrackNode,o=!!e.find(function(t){return t.language===i});this.isHTML5&&this.isVideo&&e.filter(function(t){return!a.get(t)}).forEach(function(e){l.debug.log("Track added",e),a.set(e,{default:"showing"===e.mode}),e.mode="hidden",g.call(l,e,"cuechange",function(){return ce.updateCues.call(l)})}),(o&&this.language!==i||!e.includes(s))&&(ce.setLanguage.call(this,i),ce.toggle.call(this,n&&o)),N(this.elements.container,this.config.classNames.captions.enabled,!De.empty(e)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&re.setCaptionsMenu.call(this)},toggle:function(l){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var s=this.captions.toggled,n=this.config.classNames.captions.active,i=De.nullOrUndefined(l)?!s:l;if(i!==s){if(e||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!e){var a=ce.getTracks.call(this),o=ce.findTrack.call(this,[this.captions.language].concat(t(this.captions.languages)),!0);return this.captions.language=o.language,void ce.set.call(this,a.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),N(this.elements.container,n,i),this.captions.toggled=i,re.updateSetting.call(this,"captions"),b.call(this,this.media,i?"captionsenabled":"captionsdisabled")}}},set:function(l){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],t=ce.getTracks.call(this);if(!(-1!==l))ce.toggle.call(this,!1,e);else if(!De.number(l))this.debug.warn("Invalid caption argument",l);else if(l in t){if(this.captions.currentTrack!==l){this.captions.currentTrack=l;var n=t[l],i=(n||{}).language;this.captions.currentTrackNode=n,re.updateSetting.call(this,"captions"),e||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),b.call(this,this.media,"languagechange")}ce.toggle.call(this,!0,e),this.isHTML5&&this.isVideo&&ce.updateCues.call(this)}else this.debug.warn("Track not found",l)},setLanguage:function(l){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(De.string(l)){var t=l.toLowerCase();this.captions.language=t;var n=ce.getTracks.call(this),i=ce.findTrack.call(this,[t]);ce.set.call(this,n.indexOf(i),e)}else this.debug.warn("Invalid language argument",l)},getTracks:function(){var a=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(t){return!a.isHTML5||e||a.captions.meta.has(t)}).filter(function(t){return["captions","subtitles"].includes(t.kind)})},findTrack:function(l){var r=this,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=ce.getTracks.call(this),a=function(t){return+(r.captions.meta.get(t)||{}).default},i=Array.from(n).sort(function(n,e){return a(e)-a(n)}),o;return l.every(function(a){return!(o=i.find(function(e){return e.language===a}))}),o||(e?i[0]:void 0)},getCurrentTrack:function(){return ce.getTracks.call(this)[this.currentTrack]},getLabel:function(a){var e=a;return!De.track(e)&&D.textTracks&&this.captions.toggled&&(e=ce.getCurrentTrack.call(this)),De.track(e)?De.empty(e.label)?De.empty(e.language)?ee("enabled",this.config):a.language.toUpperCase():e.label:ee("disabled",this.config)},updateCues:function(l){if(this.supported.ui)if(!De.element(this.elements.captions))this.debug.warn("No captions element to render to");else if(De.nullOrUndefined(l)||Array.isArray(l)){var e=l;if(!e){var o=ce.getCurrentTrack.call(this);e=Array.from((o||{}).activeCues||[]).map(function(t){return t.getCueAsHTML()}).map(X)}var n=e.map(function(t){return t.trim()}).join("\n");if(n!==this.elements.captions.innerHTML){P(this.elements.captions);var i=k("span",S(this.config.selectors.caption));i.innerHTML=n,this.elements.captions.appendChild(i),b.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",l)}},he={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.4.7/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:"[data-plyr=\"play\"]",pause:"[data-plyr=\"pause\"]",restart:"[data-plyr=\"restart\"]",rewind:"[data-plyr=\"rewind\"]",fastForward:"[data-plyr=\"fast-forward\"]",mute:"[data-plyr=\"mute\"]",captions:"[data-plyr=\"captions\"]",download:"[data-plyr=\"download\"]",fullscreen:"[data-plyr=\"fullscreen\"]",pip:"[data-plyr=\"pip\"]",airplay:"[data-plyr=\"airplay\"]",settings:"[data-plyr=\"settings\"]",loop:"[data-plyr=\"loop\"]"},inputs:{seek:"[data-plyr=\"seek\"]",volume:"[data-plyr=\"volume\"]",speed:"[data-plyr=\"speed\"]",language:"[data-plyr=\"language\"]",quality:"[data-plyr=\"quality\"]"},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}},pe="picture-in-picture",me={html5:"html5",youtube:"youtube",vimeo:"vimeo"},ge={audio:"audio",video:"video"},ye=function(){},ve=function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];fe(this,a),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return e(a,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):ye}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):ye}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):ye}}]),a}(),be=function(){function a(e){var t=this;fe(this,a),this.player=e,this.prefix=a.prefix,this.property=a.property,this.scrollPosition={x:0,y:0},g.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){de.call(t)}),g.call(this.player,this.player.elements.container,"dblclick",function(a){De.element(t.player.elements.controls)&&t.player.elements.controls.contains(a.target)||t.toggle()}),this.update()}return e(a,[{key:"update",value:function(){this.enabled?this.player.debug.log("".concat(a.native?"Native":"Fallback"," fullscreen enabled")):this.player.debug.log("Fullscreen not supported and fallback disabled"),N(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(f.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():a.native?this.prefix?De.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen():ue.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(f.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(!a.native)ue.call(this,!1);else if(!this.prefix)(document.cancelFullScreen||document.exitFullscreen).call(document);else if(!De.empty(this.prefix)){var t="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(t).concat(this.property)]()}}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(a.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(a.native?(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target:L(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return f.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(De.function(document.exitFullscreen))return"";var a="";return["webkit","moz","ms"].some(function(e){return(De.function(document["".concat(e,"ExitFullscreen")])||De.function(document["".concat(e,"CancelFullScreen")]))&&(a=e,!0)}),a}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),a}(),Te={addStyleHook:function(){N(this.elements.container,this.config.selectors.container.replace(".",""),!0),N(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var t=this;return(this.listeners.media(),!this.supported.ui)?(this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Te.toggleNativeControls.call(this,!0)):void(De.element(this.elements.controls)||(re.inject.call(this),this.listeners.controls()),Te.toggleNativeControls.call(this),this.isHTML5&&ce.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,re.updateVolume.call(this),re.timeUpdate.call(this),Te.checkPlaying.call(this),N(this.elements.container,this.config.classNames.pip.supported,D.pip&&this.isHTML5&&this.isVideo),N(this.elements.container,this.config.classNames.airplay.supported,D.airplay&&this.isHTML5),N(this.elements.container,this.config.classNames.isIos,f.isIos),N(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){b.call(t,t.media,"ready")},0),Te.setTitle.call(this),this.poster&&Te.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&re.durationUpdate.call(this))},setTitle:function(){var a=ee("play",this.config);if(De.string(this.config.title)&&!De.empty(this.config.title)&&(a+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",a)}),this.isEmbed){var l=_.call(this,"iframe");if(!De.element(l))return;var t=De.empty(this.config.title)?"video":this.config.title,n=ee("frameTitle",this.config);l.setAttribute("title",n.replace("{title}",t))}},togglePoster:function(t){N(this.elements.container,this.config.classNames.posterEnabled,t)},setPoster:function(a){var e=this;return(!(1<arguments.length)||void 0===arguments[1]||arguments[1])&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("poster",a),function(){var a=this;return new Promise(function(e){return a.ready?setTimeout(e,0):g.call(a,a.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return ke(a)}).catch(function(t){throw a===e.poster&&Te.togglePoster.call(e,!1),t}).then(function(){if(a!==e.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(e.elements.poster.style,{backgroundImage:"url('".concat(a,"')"),backgroundSize:""}),Te.togglePoster.call(e,!0),a}))},checkPlaying:function(a){var n=this;N(this.elements.container,this.config.classNames.playing,this.playing),N(this.elements.container,this.config.classNames.paused,this.paused),N(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(t){t.pressed=n.playing}),De.event(a)&&"timeupdate"===a.type||Te.toggleControls.call(this)},checkLoading:function(a){var e=this;this.loading=["stalled","waiting"].includes(a.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){N(e.elements.container,e.config.classNames.loading,e.loading),Te.toggleControls.call(e)},this.loading?250:0)},toggleControls:function(a){var e=this.elements.controls;if(e&&this.config.hideControls){var t=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(!!(a||this.loading||this.paused||e.pressed||e.hover||t))}}},Ee=function(){function i(e){fe(this,i),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return e(i,[{key:"handleKey",value:function(l){var e=this.player,t=e.elements,n=l.keyCode?l.keyCode:l.which,i="keydown"===l.type,a=i&&n===this.lastKey;if(!(l.altKey||l.ctrlKey||l.metaKey||l.shiftKey)&&De.number(n))if(i){var s=document.activeElement;if(De.element(s)){var o=e.config.selectors.editable;if(s!==t.inputs.seek&&x(s,o))return;if(32===l.which&&x(s,"button, [role^=\"menuitem\"]"))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(l.preventDefault(),l.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a||(e.currentTime=e.duration/10*(n-48));break;case 32:case 75:a||e.togglePlay();break;case 38:e.increaseVolume(.1);break;case 40:e.decreaseVolume(.1);break;case 77:a||(e.muted=!e.muted);break;case 39:e.forward();break;case 37:e.rewind();break;case 70:e.fullscreen.toggle();break;case 67:a||e.toggleCaptions();break;case 76:e.loop=!e.loop;}!e.fullscreen.enabled&&e.fullscreen.active&&27===n&&e.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}},{key:"toggleMenu",value:function(t){re.toggleMenu.call(this.player,t)}},{key:"firstTouch",value:function(){var a=this.player,e=a.elements;a.touch=!0,N(e.container,a.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(l){var o=this.player,t=o.elements;if(clearTimeout(this.focusTimer),"keydown"!==l.type||9===l.which){"keydown"===l.type&&(this.lastKeyDown=l.timeStamp);var e=20>=l.timeStamp-this.lastKeyDown,a;("focus"!==l.type||e)&&(a=o.config.classNames.tabFocus,N(A.call(o,".".concat(a)),a,!1),this.focusTimer=setTimeout(function(){var a=document.activeElement;t.container.contains(a)&&N(document.activeElement,o.config.classNames.tabFocus,!0)},10))}}},{key:"global",value:function(){var n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=this.player;e.config.keyboard.global&&s.call(e,window,"keydown keyup",this.handleKey,n,!1),s.call(e,document.body,"click",this.toggleMenu,n),a.call(e,document.body,"touchstart",this.firstTouch),s.call(e,document.body,"keydown focus blur",this.setTabFocus,n,!1,!0)}},{key:"container",value:function(){var l=this.player,e=l.elements;!l.config.keyboard.global&&l.config.keyboard.focused&&g.call(l,e.container,"keydown keyup",this.handleKey,!1),g.call(l,e.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(t){var n=e.controls;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);var i=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Te.toggleControls.call(l,!0),i=l.touch?3e3:2e3),clearTimeout(l.timers.controls),l.timers.controls=setTimeout(function(){return Te.toggleControls.call(l,!1)},i)})}},{key:"media",value:function(){var l=this.player,e=l.elements;if(g.call(l,l.media,"timeupdate seeking seeked",function(e){return re.timeUpdate.call(l,e)}),g.call(l,l.media,"durationchange loadeddata loadedmetadata",function(e){return re.durationUpdate.call(l,e)}),g.call(l,l.media,"canplay loadeddata",function(){E(e.volume,!l.hasAudio),E(e.buttons.mute,!l.hasAudio)}),g.call(l,l.media,"ended",function(){l.isHTML5&&l.isVideo&&l.config.resetOnEnd&&l.restart()}),g.call(l,l.media,"progress playing seeking seeked",function(e){return re.updateProgress.call(l,e)}),g.call(l,l.media,"volumechange",function(e){return re.updateVolume.call(l,e)}),g.call(l,l.media,"playing play pause ended emptied timeupdate",function(e){return Te.checkPlaying.call(l,e)}),g.call(l,l.media,"waiting canplay seeked playing",function(e){return Te.checkLoading.call(l,e)}),g.call(l,l.media,"playing",function(){l.ads&&l.ads.enabled&&!l.ads.initialized&&l.ads.managerPromise.then(function(){return l.ads.play()}).catch(function(){return l.play()})}),l.supported.ui&&l.config.clickToPlay&&!l.isAudio){var t=_.call(l,".".concat(l.config.classNames.video));if(!De.element(t))return;g.call(l,e.container,"click",function(a){([e.container,t].includes(a.target)||t.contains(a.target))&&(l.touch&&l.config.hideControls||(l.ended?(l.restart(),l.play()):l.togglePlay()))})}l.supported.ui&&l.config.disableContextMenu&&g.call(l,e.wrapper,"contextmenu",function(t){t.preventDefault()},!1),g.call(l,l.media,"volumechange",function(){l.storage.set({volume:l.volume,muted:l.muted})}),g.call(l,l.media,"ratechange",function(){re.updateSetting.call(l,"speed"),l.storage.set({speed:l.speed})}),g.call(l,l.media,"qualitychange",function(e){re.updateSetting.call(l,"quality",null,e.detail.quality)}),g.call(l,l.media,"ready qualitychange",function(){re.setDownloadLink.call(l)});var a=l.config.events.concat(["keyup","keydown"]).join(" ");g.call(l,l.media,a,function(t){var n=t.detail,i=void 0===n?{}:n;"error"===t.type&&(i=l.media.error),b.call(l,e.container,t.type,!0,i)})}},{key:"proxy",value:function(l,e,t){var n=this.player,i=n.config.listeners[t],a=!0;De.function(i)&&(a=i.call(n,l)),a&&De.function(e)&&e.call(n,l)}},{key:"bind",value:function(d,e,t,n){var i=this,a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],s=this.player,o=s.config.listeners[n],r=De.function(o);g.call(s,d,e,function(a){return i.proxy(a,t,n)},a&&!r)}},{key:"controls",value:function(){var l=this,d=this.player,a=d.elements,e=f.isIE?"change":"input";if(a.buttons.play&&Array.from(a.buttons.play).forEach(function(e){l.bind(e,"click",d.togglePlay,"play")}),this.bind(a.buttons.restart,"click",d.restart,"restart"),this.bind(a.buttons.rewind,"click",d.rewind,"rewind"),this.bind(a.buttons.fastForward,"click",d.forward,"fastForward"),this.bind(a.buttons.mute,"click",function(){d.muted=!d.muted},"mute"),this.bind(a.buttons.captions,"click",function(){return d.toggleCaptions()}),this.bind(a.buttons.download,"click",function(){b.call(d,d.media,"download")},"download"),this.bind(a.buttons.fullscreen,"click",function(){d.fullscreen.toggle()},"fullscreen"),this.bind(a.buttons.pip,"click",function(){d.pip="toggle"},"pip"),this.bind(a.buttons.airplay,"click",d.airplay,"airplay"),this.bind(a.buttons.settings,"click",function(t){t.stopPropagation(),re.toggleMenu.call(d,t)}),this.bind(a.buttons.settings,"keyup",function(t){var e=t.which;[13,32].includes(e)&&(13===e?re.focusFirstMenuItem.call(d,null,!0):(t.preventDefault(),t.stopPropagation(),re.toggleMenu.call(d,t)))},null,!1),this.bind(a.settings.menu,"keydown",function(t){27===t.which&&re.toggleMenu.call(d,t)}),this.bind(a.inputs.seek,"mousedown mousemove",function(n){var e=a.progress.getBoundingClientRect(),t=100/e.width*(n.pageX-e.left);n.currentTarget.setAttribute("seek-value",t)}),this.bind(a.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(t){var e=t.currentTarget,n=t.keyCode?t.keyCode:t.which;if(!De.keyboardEvent(t)||39===n||37===n){d.lastSeekTime=Date.now();var i=e.hasAttribute("play-on-seeked"),a=["mouseup","touchend","keyup"].includes(t.type);i&&a?(e.removeAttribute("play-on-seeked"),d.play()):!a&&d.playing&&(e.setAttribute("play-on-seeked",""),d.pause())}}),f.isIos){var t=A.call(d,"input[type=\"range\"]");Array.from(t).forEach(function(a){return l.bind(a,e,function(t){return O(t.target)})})}this.bind(a.inputs.seek,e,function(t){var e=t.currentTarget,a=e.getAttribute("seek-value");De.empty(a)&&(a=e.value),e.removeAttribute("seek-value"),d.currentTime=a/e.max*d.duration},"seek"),this.bind(a.progress,"mouseenter mouseleave mousemove",function(t){return re.updateSeekTooltip.call(d,t)}),f.isWebkit&&Array.from(A.call(d,"input[type=\"range\"]")).forEach(function(e){l.bind(e,"input",function(t){return re.updateRangeFill.call(d,t.target)})}),d.config.toggleInvert&&!De.element(a.display.duration)&&this.bind(a.display.currentTime,"click",function(){0!==d.currentTime&&(d.config.invertTime=!d.config.invertTime,re.timeUpdate.call(d))}),this.bind(a.inputs.volume,e,function(t){d.volume=t.target.value},"volume"),this.bind(a.controls,"mouseenter mouseleave",function(t){a.controls.hover=!d.touch&&"mouseenter"===t.type}),this.bind(a.controls,"mousedown mouseup touchstart touchend touchcancel",function(t){a.controls.pressed=["mousedown","touchstart"].includes(t.type)}),this.bind(a.controls,"focusin",function(){var e=d.config,t=d.elements,n=d.timers;N(t.controls,e.classNames.noTransition,!0),Te.toggleControls.call(d,!0),setTimeout(function(){N(t.controls,e.classNames.noTransition,!1)},0);var a=l.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout(function(){return Te.toggleControls.call(d,!1)},a)}),this.bind(a.inputs.volume,"wheel",function(t){var a=t.webkitDirectionInvertedFromDevice,e=Fe([t.deltaX,-t.deltaY].map(function(t){return a?-t:t}),2),n=e[0],i=e[1],o=Math.sign(z(n)>z(i)?n:i);d.increaseVolume(o/50);var s=d.media.volume;(1===o&&1>s||-1===o&&0<s)&&t.preventDefault()},"volume",!1)}}]),i}(),Pe=(function(t){t.exports=function(){function d(n,e){if(n){var t=u[n];if(p[n]=e,t)for(;t.length;)t[0](n,e),t.splice(0,1)}}function a(e,a){e.call&&(e={success:e}),a.length?(e.error||o)(a):(e.success||o)(e)}function c(p,t,n,i){var e=document,l=n.async,m=(n.numRetries||0)+1,u=n.before||o,d=p.replace(/^(css|img)!/,""),b,g;i=i||0,/(^css!|\.css$)/.test(p)?(b=!0,(g=e.createElement("link")).rel="stylesheet",g.href=d):/(^img!|\.(png|gif|jpg|svg)$)/.test(p)?(g=e.createElement("img")).src=d:((g=e.createElement("script")).src=p,g.async=void 0===l||l),g.onload=g.onerror=g.onbeforeload=function(a){var o=a.type[0];if(b&&"hideFocus"in g)try{g.sheet.cssText.length||(o="e")}catch(t){o="e"}return"e"==o&&(i+=1)<m?c(p,t,n,i):void t(p,o,a.defaultPrevented)},!1!==u(p,g)&&e.head.appendChild(g)}function l(t,e,n){var i,o;if(e&&e.trim&&(i=e),o=(i?n:e)||{},i){if(i in s)throw"LoadJS";s[i]=!0}!function(o,d,t){var p=(o=o.push?o:[o]).length,n=p,r=[],l,u;for(l=function(t,e,a){if("e"==e&&r.push(t),"b"==e){if(!a)return;r.push(t)}--p||d(r)},u=0;u<n;u++)c(o[u],l,t)}(t,function(t){a(o,t),d(i,t)},o)}var o=function(){},s={},p={},u={};return l.ready=function(n,i){return function(n,i){n=n.push?n:[n];var t=[],r=n.length,d=r,m,b,g;for(m=function(a,e){e.length&&t.push(a),--d||i(t)};r--;)b=n[r],(g=p[b])?m(b,g):(u[b]=u[b]||[]).push(m)}(n,function(t){a(i,t)}),l},l.done=function(t){d(t,[])},l.reset=function(){s={},p={},u={}},l.isDefined=function(t){return t in s},l}()}(je={exports:{}},je.exports),je.exports),Se={setup:function(){var a=this;N(this.elements.wrapper,this.config.classNames.embed,!0),Se.setAspectRatio.call(this),De.object(window.Vimeo)?Se.ready.call(this):we(this.config.urls.vimeo.sdk).then(function(){Se.ready.call(a)}).catch(function(e){a.debug.warn("Vimeo API failed to load",e)})},setAspectRatio:function(a){var e=Fe((De.string(a)?a:this.config.ratio).split(":").map(Number),2),t=100/e[0]*e[1];if(Se.padding=t,this.elements.wrapper.style.paddingBottom="".concat(t,"%"),this.supported.ui){this.media.style.transform="translateY(-".concat((240-t)/4.8,"%)")}},ready:function(){var m=this,y=this,e=le({loop:y.config.loop.active,autoplay:y.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media",playsinline:!this.config.fullscreen.iosNative}),t=y.media.getAttribute("src");De.empty(t)&&(t=y.media.getAttribute(y.config.attributes.embed.id));var a=(l=t,De.empty(l)?null:De.number(+l)?l:l.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:l),n=k("iframe"),o=K(y.config.urls.vimeo.iframe,a,e),l;n.setAttribute("src",o),n.setAttribute("allowfullscreen",""),n.setAttribute("allowtransparency",""),n.setAttribute("allow","autoplay");var r=k("div",{poster:y.poster,class:y.config.classNames.embedContainer});r.appendChild(n),y.media=C(r,y.media),J(K(y.config.urls.vimeo.api,a),"json").then(function(t){if(!De.empty(t)){var e=new URL(t[0].thumbnail_large);e.pathname="".concat(e.pathname.split("_")[0],".jpg"),Te.setPoster.call(y,e.href).catch(function(){})}}),y.embed=new window.Vimeo.Player(n,{autopause:y.config.autopause,muted:y.muted}),y.media.paused=!0,y.media.currentTime=0,y.supported.ui&&y.embed.disableTextTrack(),y.media.play=function(){return Ae.call(y,!0),y.embed.play()},y.media.pause=function(){return Ae.call(y,!1),y.embed.pause()},y.media.stop=function(){y.pause(),y.currentTime=0};var c=y.media.currentTime;Object.defineProperty(y.media,"currentTime",{get:function(){return c},set:function(t){var e=y.embed,n=y.media,i=y.paused,a=y.volume,l=i&&!e.hasPlayed;n.seeking=!0,b.call(y,n,"seeking"),Promise.resolve(l&&e.setVolume(0)).then(function(){return e.setCurrentTime(t)}).then(function(){return l&&e.pause()}).then(function(){return l&&e.setVolume(a)}).catch(function(){})}});var v=y.config.speed.selected;Object.defineProperty(y.media,"playbackRate",{get:function(){return v},set:function(t){y.embed.setPlaybackRate(t).then(function(){v=t,b.call(y,y.media,"ratechange")}).catch(function(t){"Error"===t.name&&re.setSpeedMenu.call(y,[])})}});var w=y.config.volume;Object.defineProperty(y.media,"volume",{get:function(){return w},set:function(t){y.embed.setVolume(t).then(function(){w=t,b.call(y,y.media,"volumechange")})}});var x=y.config.muted;Object.defineProperty(y.media,"muted",{get:function(){return x},set:function(t){var e=!!De.boolean(t)&&t;y.embed.setVolume(e?0:y.config.volume).then(function(){x=e,b.call(y,y.media,"volumechange")})}});var _=y.config.loop,T;Object.defineProperty(y.media,"loop",{get:function(){return _},set:function(t){var e=De.boolean(t)?t:y.config.loop.active;y.embed.setLoop(e).then(function(){_=e})}}),y.embed.getVideoUrl().then(function(t){T=t,re.setDownloadLink.call(y)}).catch(function(e){m.debug.warn(e)}),Object.defineProperty(y.media,"currentSrc",{get:function(){return T}}),Object.defineProperty(y.media,"ended",{get:function(){return y.currentTime===y.duration}}),Promise.all([y.embed.getVideoWidth(),y.embed.getVideoHeight()]).then(function(e){var t,l,o;Se.ratio=(t=e[0],l=e[1],o=function a(e,t){return 0===t?e:a(t,e%t)}(t,l),"".concat(t/o,":").concat(l/o)),Se.setAspectRatio.call(m,Se.ratio)}),y.embed.setAutopause(y.config.autopause).then(function(t){y.config.autopause=t}),y.embed.getVideoTitle().then(function(e){y.config.title=e,Te.setTitle.call(m)}),y.embed.getCurrentTime().then(function(t){c=t,b.call(y,y.media,"timeupdate")}),y.embed.getDuration().then(function(t){y.media.duration=t,b.call(y,y.media,"durationchange")}),y.embed.getTextTracks().then(function(t){y.media.textTracks=t,ce.setup.call(y)}),y.embed.on("cuechange",function(t){var e=t.cues,a=(void 0===e?[]:e).map(function(a){return e=a.text,l=document.createDocumentFragment(),o=document.createElement("div"),l.appendChild(o),o.innerHTML=e,l.firstChild.innerText;var e,l,o});ce.updateCues.call(y,a)}),y.embed.on("loaded",function(){(y.embed.getPaused().then(function(t){Ae.call(y,!t),t||b.call(y,y.media,"playing")}),De.element(y.embed.element)&&y.supported.ui)&&y.embed.element.setAttribute("tabindex",-1)}),y.embed.on("play",function(){Ae.call(y,!0),b.call(y,y.media,"playing")}),y.embed.on("pause",function(){Ae.call(y,!1)}),y.embed.on("timeupdate",function(t){y.media.seeking=!1,c=t.seconds,b.call(y,y.media,"timeupdate")}),y.embed.on("progress",function(t){y.media.buffered=t.percent,b.call(y,y.media,"progress"),1===parseInt(t.percent,10)&&b.call(y,y.media,"canplaythrough"),y.embed.getDuration().then(function(t){t!==y.media.duration&&(y.media.duration=t,b.call(y,y.media,"durationchange"))})}),y.embed.on("seeked",function(){y.media.seeking=!1,b.call(y,y.media,"seeked")}),y.embed.on("ended",function(){y.media.paused=!0,b.call(y,y.media,"ended")}),y.embed.on("error",function(t){y.media.error=t,b.call(y,y.media,"error")}),y.on("enterfullscreen exitfullscreen",function(t){var e=y.fullscreen.target;if(e===y.elements.container){var a="enterfullscreen"===t.type,n=Fe(Se.ratio.split(":").map(Number),2),i=n[0]>n[1]?"width":"height";e.style[i]=a?"".concat(Se.padding,"%"):null}}),setTimeout(function(){return Te.build.call(y)},0)}},Le={setup:function(){var a=this;N(this.elements.wrapper,this.config.classNames.embed,!0),Le.setAspectRatio.call(this),De.object(window.YT)&&De.function(window.YT.Player)?Le.ready.call(this):(we(this.config.urls.youtube.sdk).catch(function(e){a.debug.warn("YouTube API failed to load",e)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){Le.ready.call(a)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(t){t()})})},getTitle:function(a){var l=this;if(De.function(this.embed.getVideoData)){var e=this.embed.getVideoData().title;if(De.empty(e))return this.config.title=e,void Te.setTitle.call(this)}var t=this.config.keys.google;De.string(t)&&!De.empty(t)&&J(K(this.config.urls.youtube.api,a,t)).then(function(t){De.object(t)&&(l.config.title=t.items[0].snippet.title,Te.setTitle.call(l))}).catch(function(){})},setAspectRatio:function(){var t=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom="".concat(100/t[0]*t[1],"%")},ready:function(){var d=this,e=d.media.getAttribute("id");if(De.empty(e)||!e.startsWith("youtube-")){var t=d.media.getAttribute("src");De.empty(t)&&(t=d.media.getAttribute(this.config.attributes.embed.id));var c=(r=t,De.empty(r)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r),s=(p=d.provider,"".concat(p,"-").concat(B(1e4*Math.random()))),o=k("div",{id:s,poster:d.poster}),r,p;d.media=C(o,d.media);var u=function(t){return"https://img.youtube.com/vi/".concat(c,"/").concat(t,"default.jpg")};ke(u("maxres"),121).catch(function(){return ke(u("sd"),121)}).catch(function(){return ke(u("hq"))}).then(function(e){return Te.setPoster.call(d,e.src)}).then(function(e){e.includes("maxres")||(d.elements.poster.style.backgroundSize="cover")}).catch(function(){}),d.embed=new window.YT.Player(s,{videoId:c,playerVars:{autoplay:d.config.autoplay?1:0,hl:d.config.hl,controls:d.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:d.captions.active?1:0,cc_lang_pref:d.config.captions.language},events:{onError:function(e){if(!d.media.error){var t=e.data,a={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t]||"An unknown error occured";d.media.error={code:t,message:a},b.call(d,d.media,"error")}},onPlaybackRateChange:function(e){var t=e.target;d.media.playbackRate=t.getPlaybackRate(),b.call(d,d.media,"ratechange")},onReady:function(e){if(!De.function(d.media.play)){var l=e.target;Le.getTitle.call(d,c),d.media.play=function(){Ne.call(d,!0),l.playVideo()},d.media.pause=function(){Ne.call(d,!1),l.pauseVideo()},d.media.stop=function(){l.stopVideo()},d.media.duration=l.getDuration(),d.media.paused=!0,d.media.currentTime=0,Object.defineProperty(d.media,"currentTime",{get:function(){return+l.getCurrentTime()},set:function(e){d.paused&&!d.embed.hasPlayed&&d.embed.mute(),d.media.seeking=!0,b.call(d,d.media,"seeking"),l.seekTo(e)}}),Object.defineProperty(d.media,"playbackRate",{get:function(){return l.getPlaybackRate()},set:function(t){l.setPlaybackRate(t)}});var n=d.config.volume;Object.defineProperty(d.media,"volume",{get:function(){return n},set:function(e){n=e,l.setVolume(100*n),b.call(d,d.media,"volumechange")}});var o=d.config.muted;Object.defineProperty(d.media,"muted",{get:function(){return o},set:function(e){var t=De.boolean(e)?e:o;o=t,l[t?"mute":"unMute"](),b.call(d,d.media,"volumechange")}}),Object.defineProperty(d.media,"currentSrc",{get:function(){return l.getVideoUrl()}}),Object.defineProperty(d.media,"ended",{get:function(){return d.currentTime===d.duration}}),d.options.speed=l.getAvailablePlaybackRates(),d.supported.ui&&d.media.setAttribute("tabindex",-1),b.call(d,d.media,"timeupdate"),b.call(d,d.media,"durationchange"),clearInterval(d.timers.buffering),d.timers.buffering=setInterval(function(){d.media.buffered=l.getVideoLoadedFraction(),(null===d.media.lastBuffered||d.media.lastBuffered<d.media.buffered)&&b.call(d,d.media,"progress"),d.media.lastBuffered=d.media.buffered,1===d.media.buffered&&(clearInterval(d.timers.buffering),b.call(d,d.media,"canplaythrough"))},200),setTimeout(function(){return Te.build.call(d)},50)}},onStateChange:function(e){var t=e.target;switch(clearInterval(d.timers.playing),d.media.seeking&&[1,2].includes(e.data)&&(d.media.seeking=!1,b.call(d,d.media,"seeked")),e.data){case-1:b.call(d,d.media,"timeupdate"),d.media.buffered=t.getVideoLoadedFraction(),b.call(d,d.media,"progress");break;case 0:Ne.call(d,!1),d.media.loop?(t.stopVideo(),t.playVideo()):b.call(d,d.media,"ended");break;case 1:d.media.paused&&!d.embed.hasPlayed?d.media.pause():(Ne.call(d,!0),b.call(d,d.media,"playing"),d.timers.playing=setInterval(function(){b.call(d,d.media,"timeupdate")},50),d.media.duration!==t.getDuration()&&(d.media.duration=t.getDuration(),b.call(d,d.media,"durationchange")));break;case 2:d.muted||d.embed.unMute(),Ne.call(d,!1);}b.call(d,d.elements.container,"statechange",!1,{code:e.data})}}})}}},_e={setup:function(){this.media?(N(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),N(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&N(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=k("div",{class:this.config.classNames.video}),i(this.media,this.elements.wrapper),this.elements.poster=k("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?U.extend.call(this):this.isYouTube?Le.setup.call(this):this.isVimeo&&Se.setup.call(this)):this.debug.warn("No media element found!")}},He=function(){function a(e){var n=this;fe(this,a),this.player=e,this.publisherId=e.config.ads.publisherId,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(a,e){n.on("loaded",a),n.on("error",e)}),this.load()}return e(a,[{key:"load",value:function(){var t=this;this.enabled&&(De.object(window.google)&&De.object(window.google.ima)?this.ready():we(this.player.config.urls.googleIMA.sdk).then(function(){t.ready()}).catch(function(){t.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var t=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){t.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=k("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var a=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return a.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return a.onAdError(e)},!1);var t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(t){this.onAdError(t)}}},{key:"pollCountdown",value:function(){var a=this;return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]?void(this.countdownTimer=setInterval(function(){var e=ae($(a.manager.getRemainingTime(),0)),t="".concat(ee("advertisement",a.player.config)," - ").concat(e);a.elements.container.setAttribute("data-badge-text",t)},100)):(clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text"))}},{key:"onAdsManagerLoaded",value:function(a){var l=this;if(this.enabled){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,e.enablePreloading=!0,this.manager=a.getAdsManager(this.player,e),this.cuePoints=this.manager.getCuePoints(),De.empty(this.cuePoints)||this.cuePoints.forEach(function(t){if(0!==t&&-1!==t&&t<l.player.duration){var e=l.player.elements.progress;if(De.element(e)){var n=100/l.player.duration*t,i=k("span",{class:l.player.config.classNames.cues});i.style.left="".concat(n.toString(),"%"),e.appendChild(i)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(t){return l.onAdError(t)}),Object.keys(google.ima.AdEvent.Type).forEach(function(t){l.manager.addEventListener(google.ima.AdEvent.Type[t],function(t){return l.onAdEvent(t)})}),this.trigger("loaded")}}},{key:"onAdEvent",value:function(l){var o=this,e=this.player.elements.container,t=l.getAd(),n=function(t){var e="ads".concat(t.replace(/_/g,"").toLowerCase());b.call(o.player,o.player.media,e)};switch(l.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),n(l.type),this.pollCountdown(!0),t.isLinear()||(t.width=e.offsetWidth,t.height=e.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:n(l.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:n(l.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:n(l.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:n(l.type);}}},{key:"onAdError",value:function(t){this.cancel(),this.player.debug.warn("Ads error",t)}},{key:"listeners",value:function(){var l=this,t=this.player.elements.container,o;this.player.on("ended",function(){l.loader.contentComplete()}),this.player.on("seeking",function(){return o=l.player.currentTime}),this.player.on("seeked",function(){var e=l.player.currentTime;De.empty(l.cuePoints)||l.cuePoints.forEach(function(t,n){o<t&&t<e&&(l.manager.discardAdBreak(),l.cuePoints.splice(n,1))})}),window.addEventListener("resize",function(){l.manager&&l.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var a=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){a.elements.displayContainer.initialize();try{a.initialized||(a.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),a.manager.start()),a.initialized=!0}catch(e){a.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var a=this;this.managerPromise.then(function(){a.manager&&a.manager.destroy(),a.managerPromise=new Promise(function(e){a.on("loaded",e),a.player.debug.log(a.manager)}),a.requestAds()}).catch(function(){})}},{key:"trigger",value:function(l){for(var o=this,e=arguments.length,t=Array(1<e?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var i=this.events[l];De.array(i)&&i.forEach(function(a){De.function(a)&&a.apply(o,t)})}},{key:"on",value:function(a,e){return De.array(this.events[a])||(this.events[a]=[]),this.events[a].push(e),this}},{key:"startSafetyTimer",value:function(a,e){var t=this;this.player.debug.log("Safety timer invoked from: ".concat(e)),this.safetyTimer=setTimeout(function(){t.cancel(),t.clearSafetyTimer("startSafetyTimer()")},a)}},{key:"clearSafetyTimer",value:function(t){De.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(t)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.ads.enabled&&!De.empty(this.publisherId)}},{key:"tagUrl",get:function(){var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(le(t))}}]),a}(),Oe={insertElements:function(a,e){var i=this;De.string(e)?w(a,this.media,{src:e}):De.array(e)&&e.forEach(function(e){w(a,i.media,e)})},change:function(a){var e=this;H(a,"sources.length")?(U.cancelRequests.call(this),this.destroy.call(this,function(){e.options.quality=[],T(e.media),e.media=null,De.element(e.elements.container)&&e.elements.container.removeAttribute("class");var t=a.sources,n=a.type,i=Fe(t,1)[0],s=i.provider,o=void 0===s?me.html5:s,r=i.src,l="html5"===o?n:"div",d="html5"===o?{}:{src:r};Object.assign(e,{provider:o,type:n,supported:D.check(n,o,e.config.playsinline),media:k(l,d)}),e.elements.container.appendChild(e.media),De.boolean(a.autoplay)&&(e.config.autoplay=a.autoplay),e.isHTML5&&(e.config.crossorigin&&e.media.setAttribute("crossorigin",""),e.config.autoplay&&e.media.setAttribute("autoplay",""),De.empty(a.poster)||(e.poster=a.poster),e.config.loop.active&&e.media.setAttribute("loop",""),e.config.muted&&e.media.setAttribute("muted",""),e.config.playsinline&&e.media.setAttribute("playsinline","")),Te.addStyleHook.call(e),e.isHTML5&&Oe.insertElements.call(e,"source",t),e.config.title=a.title,_e.setup.call(e),e.isHTML5&&Object.keys(a).includes("tracks")&&Oe.insertElements.call(e,"track",a.tracks),(e.isHTML5||e.isEmbed&&!e.supported.ui)&&Te.build.call(e),e.isHTML5&&e.media.load(),e.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},qe=function(){function d(e,t){var n=this;if(!(fe(this,d),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=D.touch,this.media=e,De.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||De.nodeList(this.media)||De.array(this.media))&&(this.media=this.media[0]),this.config=j({},he,d.defaults,t||{},function(){try{return JSON.parse(n.media.getAttribute("data-plyr-config"))}catch(t){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ve(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",D),!De.nullOrUndefined(this.media)&&De.element(this.media)))this.debug.error("Setup failed: no suitable element passed");else if(this.media.plyr)this.debug.warn("Target already setup");else if(!this.config.enabled)this.debug.error("Setup failed: disabled by config");else if(D.check().api){var a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;var s=this.media.tagName.toLowerCase(),o=null,p=null;switch(s){case"div":if(!(o=this.media.querySelector("iframe"),De.element(o)))this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);else if(p=ie(o.getAttribute("src")),this.provider=function(t){return /^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(t)?me.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(t)?me.vimeo:null}(p.toString()),this.elements.container=this.media,this.media=o,this.elements.container.className="",p.search.length){var u=["1","true"];u.includes(p.searchParams.get("autoplay"))&&(this.config.autoplay=!0),u.includes(p.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=u.includes(p.searchParams.get("playsinline")),this.config.hl=p.searchParams.get("hl")):this.config.playsinline=!0}if(De.empty(this.provider)||!Object.keys(me).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=ge.video;break;case"video":case"audio":this.type=s,this.provider=me.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type");}this.supported=D.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Ee(this),this.storage=new te(this),this.media.plyr=this,De.element(this.elements.container)||(this.elements.container=k("div"),i(this.media,this.elements.container)),Te.addStyleHook.call(this),_e.setup.call(this),this.config.debug&&g.call(this,this.elements.container,this.config.events.join(" "),function(t){n.debug.log("event: ".concat(t.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Te.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new be(this),this.config.ads.enabled&&(this.ads=new He(this)),this.config.autoplay&&this.play(),this.lastSeekTime=0):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support")}return e(d,[{key:"play",value:function(){return De.function(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&De.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(t){(De.boolean(t)?t:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):De.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(t){this.currentTime-=De.number(t)?t:this.config.seekTime}},{key:"forward",value:function(t){this.currentTime+=De.number(t)?t:this.config.seekTime}},{key:"increaseVolume",value:function(a){var e=this.media.muted?0:this.volume;this.volume=e+(De.number(a)?a:0)}},{key:"decreaseVolume",value:function(t){this.increaseVolume(-t)}},{key:"toggleCaptions",value:function(t){ce.toggle.call(this,t,!1)}},{key:"airplay",value:function(){D.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(l){if(this.supported.ui&&!this.isAudio){var e=L(this.elements.container,this.config.classNames.hideControls),t=void 0===l?void 0:!l,n=N(this.elements.container,this.config.classNames.hideControls,t);if(n&&this.config.controls.includes("settings")&&!De.empty(this.config.settings)&&re.toggleMenu.call(this,!1),n!==e){var i=n?"controlshidden":"controlsshown";b.call(this,this.media,i)}return!n}return!1}},{key:"on",value:function(a,e){g.call(this,this.elements.container,a,e)}},{key:"once",value:function(n,e){a.call(this,this.elements.container,n,e)}},{key:"off",value:function(a,e){y(this.elements.container,a,e)}},{key:"destroy",value:function(a){var e=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",e.embed=null,t?(Object.keys(e.elements).length&&(T(e.elements.buttons.play),T(e.elements.captions),T(e.elements.controls),T(e.elements.wrapper),e.elements.buttons.play=null,e.elements.captions=null,e.elements.controls=null,e.elements.wrapper=null),De.function(a)&&a()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(l){var e=l.element,t=l.type,n=l.callback,i=l.options;e.removeEventListener(t,n,i)}),this.eventListeners=[])}.call(e),C(e.elements.original,e.elements.container),b.call(e,e.elements.original,"destroyed",!0),De.function(a)&&a.call(e.elements.original),e.ready=!1,setTimeout(function(){e.elements=null,e.media=null},200))};this.stop(),this.isHTML5?(clearTimeout(this.timers.loading),Te.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&De.function(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}}},{key:"supports",value:function(t){return D.mime.call(this,t)}},{key:"isHTML5",get:function(){return!(this.provider!==me.html5)}},{key:"isEmbed",get:function(){return!!(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return!(this.provider!==me.youtube)}},{key:"isVimeo",get:function(){return!(this.provider!==me.vimeo)}},{key:"isVideo",get:function(){return!(this.type!==ge.video)}},{key:"isAudio",get:function(){return!(this.type!==ge.audio)}},{key:"playing",get:function(){return!(!this.ready||this.paused||this.ended)}},{key:"paused",get:function(){return!!this.media.paused}},{key:"stopped",get:function(){return!!(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return!!this.media.ended}},{key:"currentTime",set:function(a){if(this.duration){var e=De.number(a)&&0<a;this.media.currentTime=e?Math.min(a,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return+this.media.currentTime}},{key:"buffered",get:function(){var t=this.media.buffered;return De.number(t)?t:t&&t.length&&0<this.duration?t.end(0)/this.duration:0}},{key:"seeking",get:function(){return!!this.media.seeking}},{key:"duration",get:function(){var a=parseFloat(this.config.duration),e=(this.media||{}).duration,t=De.number(e)&&e!==1/0?e:0;return a||t}},{key:"volume",set:function(a){var e=a;De.string(e)&&(e=+e),De.number(e)||(e=this.storage.get("volume")),De.number(e)||(e=this.config.volume),1<e&&(e=1),0>e&&(e=0),this.config.volume=e,this.media.volume=e,!De.empty(a)&&this.muted&&0<e&&(this.muted=!1)},get:function(){return+this.media.volume}},{key:"muted",set:function(a){var e=a;De.boolean(e)||(e=this.storage.get("muted")),De.boolean(e)||(e=this.config.muted),this.config.muted=e,this.media.muted=e},get:function(){return!!this.media.muted}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||!!this.media.mozHasAudio||!!this.media.webkitAudioDecodedByteCount||!!(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(a){var e=null;De.number(a)&&(e=a),De.number(e)||(e=this.storage.get("speed")),De.number(e)||(e=this.config.speed.selected),.1>e&&(e=.1),2<e&&(e=2),this.config.speed.options.includes(e)?(this.config.speed.selected=e,this.media.playbackRate=e):this.debug.warn("Unsupported speed (".concat(e,")"))},get:function(){return+this.media.playbackRate}},{key:"quality",set:function(l){var e=this.config.quality,t=this.options.quality;if(t.length){var n=[!De.empty(l)&&+l,this.storage.get("quality"),e.selected,e.default].find(De.number),o=!0;if(!t.includes(n)){var r=function(a,i){return De.array(a)&&a.length?a.reduce(function(t,e){return z(e-i)<z(t-i)?e:t}):null}(t,n);this.debug.warn("Unsupported quality option: ".concat(n,", using ").concat(r," instead")),n=r,o=!1}e.selected=n,this.media.quality=n,o&&this.storage.set({quality:n})}},get:function(){return this.media.quality}},{key:"loop",set:function(a){var e=De.boolean(a)?a:this.config.loop.active;this.config.loop.active=e,this.media.loop=e},get:function(){return!!this.media.loop}},{key:"source",set:function(t){Oe.change.call(this,t)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var t=this.config.urls.download;return De.url(t)?t:this.source}},{key:"poster",set:function(t){this.isVideo?Te.setPoster.call(this,t,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(a){var e=De.boolean(a)?a:this.config.autoplay;this.config.autoplay=e},get:function(){return!!this.config.autoplay}},{key:"currentTrack",set:function(t){ce.set.call(this,t,!1)},get:function(){var a=this.captions,e=a.toggled,t=a.currentTrack;return e?t:-1}},{key:"language",set:function(t){ce.setLanguage.call(this,t,!1)},get:function(){return(ce.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(a){if(D.pip){var e=De.boolean(a)?a:!this.pip;De.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(e?pe:"inline"),De.function(this.media.requestPictureInPicture)&&(!this.pip&&e?this.media.requestPictureInPicture():this.pip&&!e&&document.exitPictureInPicture())}},get:function(){return D.pip?De.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===pe:null}}],[{key:"supported",value:function(a,e,t){return D.check(a,e,t)}},{key:"loadSprite",value:function(a,e){return Z(a,e)}},{key:"setup",value:function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=null;return De.string(t)?e=Array.from(document.querySelectorAll(t)):De.nodeList(t)?e=Array.from(t):De.array(t)&&(e=t.filter(De.element)),De.empty(e)?null:e.map(function(t){return new d(t,a)})}}]),d}(),Re,Ue,Be,$e,je,ze;return qe.defaults=(ze=he,JSON.parse(JSON.stringify(ze))),qe})}),Te={"04":{"N-eyf":"4j2LpBHEYOY","N-ey":"GLuOSjTap-M","N-vi":"BlacvxT1Xdk","C-vi":"4WtA-PbZf-s","R-vi":"7IGcDVP4YBY","R-ey":"VE6Lx58yI3I","W-vi":"Jxdu1X_LtaE"},22:{"N-eyf":"lkKsggceTb4","N-ey":"pnLXBP9Jzqk","N-vi":"CFFkrk9RwVg","C-vi":"5nWcsLwsVoY","R-vi":"jb8CK2i_EAo","R-ey":"9xwoE-o9HiY","W-vi":"z1C8pfXya-s"},23:{"N-eyf":"rMRwxgB7tu4","N-ey":"3-UyrpT3FXM","N-vi":"u8N8XXlZbtA","C-vi":"TcjujDC0pg0","R-vi":"eayOxTz01Vg","R-ey":"qszBAwr75R4","W-vi":"lW_lNF5gXdQ"}},Ce={debug:!1,controls:[],clickToPlay:!1,fullscreen:{enabled:!1,fallback:!1,iosNative:!1}},Pe=function(){function e(t,a){c(this,e),this.cinema=t,this.elementId=this.getElementId(t,a),this.filmId=this.getFilmId(a),this.element=this.createElement(t,this.elementId,this.filmId),this.film=this.createFilm(t,this.element)}return u(e,[{key:"getElementId",value:function(e,t){return e.screen.attr("id")+t.recordId+t.filmType}},{key:"getFilmId",value:function(e){return Te[e.recordId][e.filmType]}},{key:"createElement",value:function(e,a,n){var i=t("\n\n  <div id=\"".concat(a,"\" style=\"position: absolute;\">\n    <iframe src=\"https://www.youtube.com/embed/").concat(n,"?").concat("modestbranding=1&showinfo=0&playsinline=1&enablejsapi=1","\"\n      crossorigin></iframe>\n  </div>\n          "));return t(document.body).append(i),i}},{key:"activateIFrame",value:function(){var e=this.element,t=this.cinema.screen;e.offset(t.offset()),e.width(t.width()),e.height(t.height()),e.css({zIndex:900})}},{key:"deactivateIFrame",value:function(){this.element.css({zIndex:-1e3})}},{key:"createFilm",value:function(e,t){var a=new _e(t,Ce);return a.filmObject=this,a.cinema=e,a.on("ready",function(e){var t=e.detail.plyr;t.muted=!0,t.rewind(0),t.play()}),a.on("pause",function(){a.filmObject.deactivateIFrame(),e.curtain.show(),e.loader.hide()}),a.on("seeking",function(){a.filmObject.deactivateIFrame(),e.curtain.show(),e.loader.show()}),a.on("seeked",function(t){var a=t.detail.plyr;a.$hidden||(a.filmObject.activateIFrame(),e.loader.hide(),e.curtain.hide())}),a}}]),e}(),Ne=function(){function e(){c(this,e),this.films={},this.filmTypes=[{id:"N-eyf",disabled:!0},{id:"N-vi",disabled:!1},{id:"N-ey",disabled:!0},{id:"C-vi",disabled:!1},{id:"R-vi",disabled:!1},{id:"R-ey",disabled:!0},{id:"W-vi",disabled:!1}],this.activeRecordId=a.observable(null),this.activeFilmType=a.observable(null),this.activeDataItem=a.observable(null),this.createHider()}return u(e,[{key:"createHider",value:function(){t(document.body).append("<div style=\"position: absolute;\n      top: 0; left: 0; bottom: 0; right: 0; background-color: #fff;\n      z-index: -800;\"></div>")}},{key:"clearActiveState",value:function(){this.activeRecordId(null),this.activeFilmType(null),this.activeDataItem(null)}},{key:"showFilm",value:function(e,t,a){if(a&&null!==e&&t){this.activeRecordId(e),this.activeFilmType(t),this.activeDataItem(a);var n=a.time,i=n.begin,l=n.end,o=this.getFilm(e,t).film,s=this,r=function(e){var t=e.detail.plyr;1===!t._playCount||(t.currentTime>=l-.01?(t.muted=!1,t.off("timeupdate",t._pauseFunction),delete t._pauseFunction,t.pause()):t.currentTime>=i-.1&&(delete t.$hidden,t.filmObject.activateIFrame(),t.muted=!1,s.loader.hide(),s.curtain.hide()))};s.curtain.show(),s.loader.show(),i/=1e3,l/=1e3,o.$hidden=!0,o._playCount&&1===o._playCount?(o.currentTime=i-2.5,o._playCount=2):o._playCount&&1<o._playCount?(o.currentTime=i-.8,o._playCount=3):(o._playCount=1,setTimeout(function(){s.showFilm(e,t,a)},4e3)),void 0!==o._pauseFunction&&o.off("timeupdate",o._pauseFunction),o._pauseFunction=r,o.on("timeupdate",o._pauseFunction),o.muted=!0,o.play()}}},{key:"getFilm",value:function(e,t){var a=e+t,n=a in this.films?this.films[a]:new Pe(this,{recordId:e,filmType:t});return this.films[a]=n,this.hideAllBut(a),n}},{key:"pauseAll",value:function(){var e=this.films;Object.keys(e).forEach(function(t){return e[t].film.pause()})}},{key:"hideAllBut",value:function(e){var t=this.films;Object.keys(t).forEach(function(a){e===a&&t[a][e===a?"activateIFrame":"deactivateIFrame"]()})}},{key:"screen",get:function(){return t("#bmpp-videoPlayer")}},{key:"curtain",get:function(){return t(this.screen).find(".bmpp-videoCurtain")}},{key:"loader",get:function(){return t(this.screen).find(".bmpp-videoLoader")}}]),e}(),Le=new Ne,Se="\n\n  <div class=\"ui basic segment\" data-bind=\"with: resultsData\">\n\n    <!-- ko ifnot: version === 'test' -->\n      ".concat("\n\n  <div data-bind=\"foreach: results\" class=\"bmpp-searchResult\">\n\n    <div class=\"ui label bmpp-recordLabel bmpp-initialRecordLabel\"\n      data-bind=\"text: '\u0417\u0430\u043F\u0438\u0441\u044C ' + record_id,\n        visible: $index() === 0\"></div>\n\n    <div class=\"divider\" data-bind=\"visible: $index() > 0\">\n      <div class=\"ui label bmpp-recordLabel\"\n        data-bind=\"text: '\u0417\u0430\u043F\u0438\u0441\u044C ' + record_id,\n          visible: previousItem && previousItem.record_id !== record_id\"></div>\n    </div>\n\n    <div class=\"bmpp-unitValue bmpp-context\"\n      data-bind=\"text: left_context\"></div>\n    <div class=\"bmpp-transcription bmpp-context\"\n      data-bind=\"html: left_context\"></div>\n\n    <div class=\"bmpp-unitValue\"\n      data-bind=\"text: value, click: $component.cinema.showFilm\n        .bind($component.cinema, record_id, participant + '-vi', $data)\n        \"></div>\n    <div class=\"bmpp-transcription\"\n      data-bind=\"html: value, click: $component.cinema.showFilm\n        .bind($component.cinema, record_id, participant + '-vi', $data)\n        \"></div>\n\n    <div class=\"bmpp-unitValue bmpp-context\"\n      data-bind=\"text: right_context\"></div>\n    <div class=\"bmpp-transcription bmpp-context\"\n      data-bind=\"html: right_context\"></div>\n\n  </div>\n\n","\n    <!-- /ko -->\n\n    <!-- ko if: version === 'test' -->\n      ").concat("\n\n  <div data-bind=\"foreach: results\" class=\"bmpp-searchResult\">\n\n    <div class=\"ui label bmpp-recordLabel bmpp-initialRecordLabel\"\n      data-bind=\"text: '\u0417\u0430\u043F\u0438\u0441\u044C ' + record_id,\n        visible: $index() === 0\"></div>\n\n    <div class=\"divider\" data-bind=\"visible: $index() > 0\">\n      <div class=\"ui label bmpp-recordLabel\"\n        data-bind=\"text: '\u0417\u0430\u043F\u0438\u0441\u044C ' + record_id,\n          visible: previousItem && previousItem.record_id !== record_id\"></div>\n    </div>\n\n    <div class=\"bmpp-unitValue bmpp-context\"\n      data-bind=\"text: before_context\"></div>\n    <div class=\"bmpp-transcription bmpp-context\"\n      data-bind=\"html: before_context_transcription\"></div>\n\n    <div class=\"bmpp-unitValue\"\n      data-bind=\"text: value, click: $component.cinema.showFilm\n        .bind($component.cinema, record_id, participant + '-vi', $data)\n        \"></div>\n    <div class=\"bmpp-transcription\"\n      data-bind=\"html: value_transcription, click: $component.cinema.showFilm\n        .bind($component.cinema, record_id, participant + '-vi', $data)\n        \"></div>\n\n    <div class=\"bmpp-unitValue bmpp-context\"\n      data-bind=\"text: after_context\"></div>\n    <div class=\"bmpp-transcription bmpp-context\"\n      data-bind=\"html: after_context_transcription\"></div>\n\n  </div>\n\n","\n    <!-- /ko -->\n\n  </div>\n\n"),Ee={viewModel:{createViewModel:function(e){return{resultsData:e.resultsData,cinema:Le}}},template:Se},Ae=/[A-Za-z]+(\d+).*/g,R=function(){function e(t){var a=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];c(this,e),this.record_id=this.getRecordId(t.record_id),this.time=t.time,this.participant=t.participant,this.value=t.value,this.left_context=t.left_context,this.right_context=t.right_context,this.setup(),this.setupIfTest(t,a)}return u(e,[{key:"getRecordId",value:function(e){var t=e.split(Ae);return 3===t.length?t[1]:"NoID"}},{key:"setup",value:function(){this.previousItem=null}},{key:"setupIfTest",value:function(e,t){t&&(this.value_transcription=e.value_transcription,this.before_context=e.before_context,this.before_context_transcription=e.before_context_transcription,this.after_context=e.after_context,this.after_context_transcription=e.after_context_transcription)}},{key:"setPreviousItem",value:function(e){this.previousItem=e}}]),e}(),Ve=function(){function e(t){c(this,e),this.version=t.version,this.results=this.getResults(t.results),this.setupIfTest(t)}return u(e,[{key:"getResults",value:function(e){var t=this,a=e.map(function(e){return new R(e,t.isTestResults)});return a.forEach(function(e,t,a){var n=0<t?a[t-1]:null;e.setPreviousItem(n)}),a}},{key:"setupIfTest",value:function(e){this.isTestResults&&(this.subcorpus=e.subcorpus,this.query=e.query)}},{key:"isTestResults",get:function(){return"test"===this.version}}]),e}();E.prototype.dispose=function(){this.resultsData.dispose()};for(var Fe={viewModel:{createViewModel:E},template:"\n\n  <div class=\"bmpp-resultsPane_video\">\n\n    <div id=\"bmpp-videoPlayer\">\n      <div class=\"bmpp-videoCurtain\">\n        <div class=\"bmpp-videoLoader\" style=\"display: none;\"></div>\n      </div>\n    </div>\n\n    <div class=\"bmpp-videoChoices\" data-bind=\"foreach: cinema.filmTypes\">\n      <div data-bind=\"\n        text: id,\n        css: {\n          disabled: disabled || !$component.cinema.activeDataItem(),\n          current: $component.cinema.activeFilmType() === id\n        },\n        click: $component.cinema.showFilm.bind(\n          $component.cinema, $component.cinema.activeRecordId(),\n          id, $component.cinema.activeDataItem())\n        \"></div>\n    </div>\n\n    <div class=\"bmpp-resultsInfo\">\n\n      <!-- ko if: resultsData() && resultsData().version === 'test' -->\n      <div style=\"margin-bottom: .33em; color: #a00;\">\n        NB: \u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u044E\u0442\u0441\u044F \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u0443\u0441\u043B\u043E\u0432\u043D\u043E\u0439 \u0432\u044B\u0434\u0430\u0447\u0438!\n      </div>\n      <!-- /ko -->\n\n      <div style=\"margin-bottom: .33em;\">\n        <em>\u041E\u0431\u043B\u0430\u0441\u0442\u044C \u043F\u043E\u0438\u0441\u043A\u0430:</em>&#x2002;<span\n          data-bind=\"text: $root.subcorpusBanner\"></span>\n      </div>\n\n      <!-- ko if: resultsData() && resultsData().version === 'test' -->\n      <div style=\"margin-bottom: .33em;\">\n        <em>\u0423\u0441\u043B\u043E\u0432\u0438\u0435 \u043F\u043E\u0438\u0441\u043A\u0430:</em>&#x2002;<span\n        data-bind=\"text: resultsData().query\"></span>\n      </div>\n      <!-- /ko -->\n      <!-- ko if: resultsData() && resultsData().version !== 'test'\n        && $root.queryTree.unitType() -->\n      <div style=\"margin-bottom: .33em;\" data-bind=\"with: $root.queryTree\">\n        <em>\u0423\u0441\u043B\u043E\u0432\u0438\u0435 \u043F\u043E\u0438\u0441\u043A\u0430:</em>&#x2002;<span data-bind=\"text:\n        unitType().hasAbbr ? unitType().abbr : unitType().name\"></span\n        ><!-- ko if: chosenUnitProperties().length > 0 -->, \u0441\u043E \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u043C\u0438\n        \u0441\u0432\u043E\u0439\u0441\u0442\u0432\u0430\u043C\u0438: <span data-bind=\"foreach: chosenUnitProperties\"\n        ><!-- ko if: $index() === 0 --><span\n        data-bind=\"textLowercaseFirstChar: name\"></span><span\n        >:&#x2002;</span><!-- /ko --><!-- ko ifnot: $index() === 0 --><span\n        data-bind=\"textLowercaseFirstChar: name\"></span><span\n        >:&#x2002;</span><!-- /ko --><span data-bind=\"text: banner\"></span\n        ><span data-bind=\"text:\n        $index() &lt; $root.queryTree.chosenUnitProperties().length - 1 ?\n        ';&#x2002;' : '.'\"></span></span><!-- /ko --><!-- ko if:\n        chosenUnitProperties().length === 0 -->.<!-- /ko -->\n      </div>\n      <!-- /ko -->\n\n      <div data-bind=\"if: $root.resultsNumber() !== null\">\n        <em>\u0412\u0441\u0435\u0433\u043E \u043D\u0430\u0439\u0434\u0435\u043D\u043E:</em>&#x2002;<span\n          data-bind=\"text: $root.resultsNumber\"></span>\n        <!-- ko if: $root.resultsNumber() % 100 - $root.resultsNumber() % 10 === 10\n          || [5, 6, 7, 8, 9, 0].indexOf($root.resultsNumber() % 10) > 0 -->\n          \u0441\u043E\u0432\u043F\u0430\u0434\u0435\u043D\u0438\u0439.\n        <!-- /ko -->\n        <!-- ko if: $root.resultsNumber() % 100 - $root.resultsNumber() % 10 !== 10\n          && $root.resultsNumber() % 10 === 1 -->\n          \u0441\u043E\u0432\u043F\u0430\u0434\u0435\u043D\u0438\u0435.\n        <!-- /ko -->\n        <!-- ko if: $root.resultsNumber() % 100 - $root.resultsNumber() % 10 !== 10\n          && [2, 3, 4].indexOf($root.resultsNumber() % 10) > 0 -->\n          \u0441\u043E\u0432\u043F\u0430\u0434\u0435\u043D\u0438\u044F.\n        <!-- /ko -->\n      </div>\n\n    </div>\n\n  </div>\n\n  <div class=\"bmpp-resultsPane_results\" data-bind=\"if: resultsData\">\n\n    <div style=\"padding: 1em; font-size: x-small;\">\n      <header class=\"ui header\">JSON \u0437\u0430\u043F\u0440\u043E\u0441\u0430</header>\n      <code style=\"white-space: pre-wrap\"\n        data-bind=\"text: $root.queryJSON\"></pre></code>\n    </div>\n\n    <div style=\"padding: 1em; background-color: #eee; font-size: x-small;\">\n      <header class=\"ui header\">JSON \u043E\u0442\u0432\u0435\u0442\u0430</header>\n      <code style=\"white-space: pre-wrap\"\n        data-bind=\"text: $root.responseJSON\"></code>\n    </div>\n\n    <results-list params=\"resultsData: resultsData\"></results-list>\n\n    <div style=\"padding: 1em; color: white; background-color: #a00;\"\n         data-bind=\"visible: $root.resultsError\">\n      <code style=\"white-space: pre-wrap\"\n         data-bind=\"text: $root.resultsError\"></code>\n    </div>\n\n  </div>\n\n"},Ie=[{id:"voc",name:"\u0412\u043E\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",unitsHeader:"\u0412\u043E\u043A\u0430\u043B\u044C\u043D\u044B\u0435 \u0435\u0434\u0438\u043D\u0438\u0446\u044B",color:"red",types:[{name:"\u0412\u0435\u0440\u0445\u043D\u0438\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u042D\u043B\u0435\u043C\u0435\u043D\u0442\u0430\u0440\u043D\u0430\u044F \u0434\u0438\u0441\u043A\u0443\u0440\u0441\u0438\u0432\u043D\u0430\u044F \u0435\u0434\u0438\u043D\u0438\u0446\u0430 (\u042D\u0414\u0415)",abbr:"\u042D\u0414\u0415",id:"u_vEDU",tierTemplate:"{ p_participants }-vLine",subtierTemplate:"{ p_participants }-vLineType",subtierValue:"EDU"},{name:"\u0418\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0441\u043C\u0435\u0445",id:"u_vLaughLine",tierTemplate:"{ p_participants }-vLine",subtierTemplate:"{ p_participants }-vLineType",subtierValue:"Laugh"},{name:"\u0418\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u043A\u043B\u0430\u0441\u0442\u0435\u0440 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043D\u044B\u0445 \u043F\u0430\u0443\u0437",id:"u_vFilledLine",tierTemplate:"{ p_participants }-vLine",subtierTemplate:"{ p_participants }-vLineType",subtierValue:"Filled"},{name:"\u0421\u0430\u043C\u043E\u0441\u0442\u043E\u044F\u0442\u0435\u043B\u044C\u043D\u043E\u0435 \u043D\u0435\u0440\u0435\u0447\u0435\u0432\u043E\u0435 \u0432\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u044F\u0432\u043B\u0435\u043D\u0438\u0435",id:"u_vNonVerbalLine",tierTemplate:"{ p_participants }-vLine",subtierTemplate:"{ p_participants }-vLineType",subtierValue:"NonVerbal"}]},{name:"\u041D\u0438\u0436\u043D\u0438\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u0421\u043B\u043E\u0432\u043E",id:"u_vWord",tierTemplate:"{ p_participants }-vSegm",subtierTemplate:"{ p_participants }-vSType",subtierValue:"Word"},{name:"C\u043C\u0435\u0445",id:"u_vLaughSegm",tierTemplate:"{ p_participants }-vSegm",subtierTemplate:"{ p_participants }-vSType",subtierValue:"Laugh"},{name:"\u0417\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043D\u0430\u044F \u043F\u0430\u0443\u0437\u0430",id:"u_vFilledSegm",tierTemplate:"{ p_participants }-vSegm",subtierTemplate:"{ p_participants }-vSType",subtierValue:"Filled"},{name:"\u041F\u0430\u0443\u0437\u0430 \u0441\u043E \u0432\u0434\u043E\u0445\u043E\u043C",id:"u_vHPause",tierTemplate:"{ p_participants }-vSegm",subtierTemplate:"{ p_participants }-vSType",subtierValue:"HPause"},{name:"\u041D\u0435\u0440\u0435\u0447\u0435\u0432\u043E\u0435 \u0432\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",id:"u_vOtherSegm",tierTemplate:"{ p_participants }-vSegm",subtierTemplate:"{ p_participants }-vSType",subtierValue:"Other"},{name:"\u0410\u0431\u0441\u043E\u043B\u044E\u0442\u043D\u0430\u044F \u043F\u0430\u0443\u0437\u0430",id:"u_v--AbsolutePause",tierTemplate:"{ p_participants }-vPause"}]},{name:"\u041F\u0430\u0440\u0430\u043B\u043B\u0435\u043B\u044C\u043D\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u0412\u043E\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u044F\u0432\u043B\u0435\u043D\u0438\u0435, \u043D\u0430\u043A\u043B\u0430\u0434\u044B\u0432\u0430\u044E\u0449\u0435\u0435\u0441\u044F \u043D\u0430 \u0440\u0435\u0447\u044C",id:"u_vCollat",tierTemplate:"{ p_participants }-vCollat"}]}]},{id:"ocul",name:"\u041D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432\u0437\u043E\u0440\u0430",unitsHeader:"\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u043E\u043A\u0443\u043B\u043E\u043C\u043E\u0442\u043E\u0440\u043D\u043E\u0433\u043E \u043A\u0430\u043D\u0430\u043B\u0430",color:"orange",types:[{name:"\u0424\u0438\u043A\u0441\u0430\u0446\u0438\u044F",id:"u_oFixation",tierTemplate:"{ p_participants }-oFixation"}]},{id:"facial",name:"\u041C\u0438\u043C\u0438\u043A\u0430",unitsHeader:"\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u043A\u0430\u043D\u0430\u043B\u0430 \u043C\u0438\u043C\u0438\u043A\u0438",color:"yellow",disabled:!0,types:[]},{id:"ceph",name:"\u0416\u0435\u0441\u0442\u044B \u0433\u043E\u043B\u043E\u0432\u044B",unitsHeader:"\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u0446\u0435\u0444\u0430\u043B\u0438\u0447\u0435\u0441\u043A\u043E\u0439 \u0436\u0435\u0441\u0442\u0438\u043A\u0443\u043B\u044F\u0446\u0438\u0438",color:"green",disabled:!0,types:[{name:"\u0411\u0430\u0437\u043E\u0432\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u0414\u0432\u0438\u0436\u0435\u043D\u0438\u0435",id:"u_c1"},{name:"\u041D\u0435\u043F\u043E\u0434\u0432\u0438\u0436\u043D\u043E\u0441\u0442\u044C",id:"u_c2"}]},{name:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u0416\u0435\u0441\u0442",id:"u_c3"},{name:"\u0410\u0434\u0430\u043F\u0442\u043E\u0440",id:"u_c4"},{name:"\u0421\u043C\u0435\u043D\u0430 \u043F\u043E\u0437\u044B",id:"u_c5"}]}]},{id:"manu",name:"\u0416\u0435\u0441\u0442\u044B \u0440\u0443\u043A",unitsHeader:"\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u043C\u0430\u043D\u0443\u0430\u043B\u044C\u043D\u043E\u0439 \u0436\u0435\u0441\u0442\u0438\u043A\u0443\u043B\u044F\u0446\u0438\u0438",color:"teal",types:[{name:"\u041F\u0435\u0440\u0432\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u0414\u0432\u0438\u0436\u0435\u043D\u0438\u0435",id:"u_mMovement",tierTemplate:"{ p_participants }-m{ p_mHand }Movement"},{name:"\u041D\u0435\u043F\u043E\u0434\u0432\u0438\u0436\u043D\u043E\u0441\u0442\u044C",id:"u_mStillness",tierTemplate:"{ p_participants }-m{ p_mHand }Stillness"}]},{name:"\u0412\u0442\u043E\u0440\u043E\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u0416\u0435\u0441\u0442",id:"u_mGesture",tierTemplate:"{ p_participants }-mGesture"},{name:"\u0410\u0434\u0430\u043F\u0442\u043E\u0440",id:"u_mAdaptor",tierTemplate:"{ p_participants }-mAdaptor"},{name:"\u0421\u043C\u0435\u043D\u0430 \u043F\u043E\u0437\u044B",id:"u_mPostureChange",tierTemplate:"{ p_participants }-mPostureChange"}]},{name:"\u0422\u0440\u0435\u0442\u0438\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C \u0441\u0435\u0433\u043C\u0435\u043D\u0442\u0430\u0446\u0438\u0438",types:[{name:"\u041C\u0430\u043D\u0443\u0430\u043B\u044C\u043D\u0430\u044F \u043F\u043E\u0437\u0430",id:"u_mPosture",tierTemplate:"{ p_participants }-mPosture"},{name:"\u0424\u0430\u0437\u0430 \u043F\u0435\u0440\u0435\u0445\u043E\u0434\u0430",id:"u_mPrPhase",tierTemplate:"{ p_participants }-mPrPhase"},{name:"\u0414\u0432\u0438\u0433\u0430\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0446\u0435\u043F\u043E\u0447\u043A\u0430",id:"u_mMovementChain",tierTemplate:"{ p_participants }-mMovementChain"},{name:"\u0416\u0435\u0441\u0442\u043E\u0432\u0430\u044F \u0446\u0435\u043F\u043E\u0447\u043A\u0430",id:"u_mGestureChain",tierTemplate:"{ p_participants }-mGestureChain"}]}]},{id:"torso",name:"\u0414\u0432\u0438\u0436\u0435\u043D\u0438\u044F \u0442\u0435\u043B\u0430",unitsHeader:"\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u0436\u0435\u0441\u0442\u0438\u043A\u0443\u043B\u044F\u0446\u0438\u0438 \u0442\u0435\u043B\u0430",color:"blue",disabled:!0,types:[]},{id:"prox",name:"\u041F\u0440\u043E\u043A\u0441\u0435\u043C\u0438\u043A\u0430",unitsHeader:"\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u043F\u0440\u043E\u043A\u0441\u0435\u043C\u0438\u043A\u0438",color:"violet",disabled:!0,types:[]}],Oe=function e(t,a){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;c(this,e),this.id=t.id,this.name=t.name,this.channel=a,this.group=n,this.hasAbbr=!!t.abbr,this.abbr=t.abbr||"",this.tierTemplate=t.tierTemplate,this.subtierTemplate=t.subtierTemplate,this.subtierValue=t.subtierValue},qe=function(){function e(t,a){c(this,e),this.name=t.name,this.channel=a,this.units=[],this.totalNumberOfUnits=0,this.populateUnits(t)}return u(e,[{key:"populateUnits",value:function(e){var t=!0,a=!1,n=void 0;try{for(var i=e.types[Symbol.iterator](),l,o;!(t=(l=i.next()).done);t=!0)o=l.value,this.units.push(new Oe(o,this.channel,this)),this.totalNumberOfUnits+=1}catch(e){a=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}}}]),e}(),Re=function(){function e(t){c(this,e),this.id=t.id,this.name=t.name||"",this.unitsHeader=t.unitsHeader||"",this.color=t.color,this.disabled=t.disabled,this.groups=[],this.units=[],this.totalNumberOfUnits=0,this.populateGroupsAndUnits(t)}return u(e,[{key:"populateGroupsAndUnits",value:function(e){var t=!0,a=!1,n=void 0;try{for(var i=e.types[Symbol.iterator](),l,o;!(t=(l=i.next()).done);t=!0)if(o=l.value,o.types){var s=new qe(o,this);this.groups.push(s),this.totalNumberOfUnits+=s.totalNumberOfUnits}else this.units.push(new Oe(o,this)),this.totalNumberOfUnits+=1}catch(e){a=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}}},{key:"getSingleUnit",value:function(){if(1===this.totalNumberOfUnits){var e=(t=this.units.slice()).concat.apply(t,w(this.groups.map(function(e){return e.units.slice()}))),t;if(0<e.length)return e[0]}return null}}]),e}(),Me=[],De=0,He;De<Ie.length;De++)He=Ie[De],Me.push(new Re(He));var Ue="\n\n  <li data-bind=\"click: $component.iHaveChosenUnitType.bind($data),\n                 css: { active: $component.node.unitType() &&\n                                $component.node.unitType().id === id }\">\n    <span class=\"unitSelectionContainer\">\n      <span class=\"unit\" data-bind=\"text: name\"></span>\n    </span>\n  </li>\n\n",Be="\n\n  <div>\n    <!-- ko foreach: channelViewModels -->\n    <button class=\"ui button bmpp-channelSlug\"\n      data-bind=\"css: buttonCSS, text: channel.id,\n        popup: tooltip, popupOpts: channelPopupOpts,\n        popupAdditionalShowOnClick: disabled,\n        event: { click: onClick, mouseover: onMouseOver,\n                 mouseout: onMouseOut }\">\n    </button>\n    <!-- /ko -->\n\n    <i class=\"disabled grey question circle outline icon bmpp-channelsHelp\"\n      data-bind=\"popup: channelsHelp.html, popupOpts: channelsHelp.opts\"></i>\n  </div>\n\n  <!-- ko if: activeChannel -->\n  <div data-bind=\"with: activeChannel\" style=\"margin-top: 2em\">\n    <header class=\"ui tiny header\"\n      data-bind=\"text: channel.unitsHeader\"></header>\n    <div style=\"column-count: 2\">\n\n      <!-- ko if: channel.groups -->\n      <ul class=\"bmpp-unitGroups\" data-bind=\"foreach: channel.groups\">\n        <li>\n          <header data-bind=\"text: name\"></header>\n          <ul class=\"bmpp-units\" data-bind=\"foreach: units\">\n            ".concat(Ue,"\n          </ul>\n        </li>\n      </ul>\n      <!-- /ko -->\n\n      <!-- ko if: channel.units -->\n      <ul class=\"bmpp-units\" data-bind=\"foreach: channel.units\">\n        ").concat(Ue,"\n      </ul>\n      <!-- /ko -->\n\n    </div>\n  </div>\n  <!-- /ko -->\n\n"),$e="\n\n  <!-- ko if: node.isEditStateForUnitType -->\n  ".concat(Be,"\n  <!-- /ko -->\n\n  <!-- ko ifnot: node.isEditStateForUnitType -->\n  ").concat("\n  <div>\n    <!-- ko with: activeChannel -->\n    <button class=\"ui button bmpp-channelSlug\"\n      data-bind=\"css: channel.color, text: channel.id,\n        popup: tooltip, popupOpts: channelPopupOpts\">\n    </button>\n    <!-- /ko -->\n\n    <!-- ko with: node.unitType -->\n    <span class=\"bmpp-unitTypeAndGroup\">\n      <!-- ko if: group -->\n        <span data-bind=\"textLowercaseFirstChar: group.name\"\n          class=\"bmpp-unitTypeGroup\"></span>\n      <!-- /ko -->\n      <span class=\"bmpp-unitType\"\n      data-bind=\"css: { 'bmpp-unitTypeWithGroup': group }\">\n        \u0422\u0438\u043F \u0435\u0434\u0438\u043D\u0438\u0446\u044B:\n        <strong data-bind=\"text: hasAbbr ? abbr : name\"\n          style=\"padding-left: .5em;\"></strong>\n      </span>\n    </span>\n    <!-- /ko -->\n\n    <!-- ko if: node.chosenUnitProperties().length > 0 -->\n    <div data-bind=\"foreach: node.chosenUnitProperties\"\n      style=\"margin: 1.5em 0 2.5em 0\"\n      ><!-- ko if: $index() === 0 --><span class=\"bmpp-bannerPropname\"\n      data-bind=\"text: name\"></span><span class=\"bmpp-bannerText\"\n      >:&#x2002;</span><!-- /ko --><!-- ko ifnot: $index() === 0 --><span\n      class=\"bmpp-bannerPropname\" data-bind=\"textLowercaseFirstChar: name\"\n      ></span><span class=\"bmpp-bannerText\">:&#x2002;</span><!-- /ko --><span\n      data-bind=\"text: banner\" class=\"bmpp-bannerPropvalue\"></span><span\n      class=\"bmpp-bannerText\" data-bind=\"text: $index() &lt; $parent.node.\n      chosenUnitProperties().length - 1 ? ';&#x2002;' : '.'\"></span\n    ></div>\n    <!-- /ko -->\n\n    <div style=\"position: absolute; bottom: 0.8em;\">\n      <span data-bind=\"click: goEditUnitType\" class=\"bmpp-editUrl\">\n        \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0442\u0438\u043F \u0435\u0434\u0438\u043D\u0438\u0446\u044B\n      </span>\n      <span data-bind=\"click: goEditUnitProperties\" class=\"bmpp-editUrl\"\n        style=\"margin-left: 1em\">\n        <span data-bind=\"text: isAnyUnitPropertySet() ? '\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C' : '\u0417\u0430\u0434\u0430\u0442\u044C'\">\n        </span> \u0441\u0432\u043E\u0439\u0441\u0442\u0432\u0430 \u0435\u0434\u0438\u043D\u0438\u0446\u044B\n      </span>\n    </div>\n  </div>\n","\n  <!-- /ko -->\n\n"),je=function(){function e(t,n,i){c(this,e);var l=this;this.channel=t,this.isActive=a.computed(function(){var e=n();return e&&e.channel&&e.channel.id===l.channel.id}),this.isMouseOver=a.observable(!1),this.onMouseOver=function(){l.isMouseOver(!0)},this.onMouseOut=function(){l.isMouseOver(!1)},this.disabled=this.channel.disabled||0===l.channel.totalNumberOfUnits,this.onClick=function(){if(l.disabled);else 1===l.channel.totalNumberOfUnits?(n(l),i.call(l.channel.getSingleUnit())):n(l)},this.buttonCSS=a.computed(function(){var e=l.isActive(),t=l.isMouseOver(),a;return a=n()?e||t?l.channel.color:"".concat(l.channel.color," basic"):l.channel.color,a})}return u(e,[{key:"tooltip",get:function(){return this.disabled?this.channel.name+"\n\n  <div style=\"font-size: smaller; font-style: italic\">\n    \u0410\u043D\u043D\u043E\u0442\u0430\u0446\u0438\u044F \u043F\u043E\u043A\u0430 \u043D\u0435 \u0433\u043E\u0442\u043E\u0432\u0430.\n  </div>\n\n":this.channel.name}},{key:"channelPopupOpts",get:function(){return{variation:"basic",delay:{show:700,hide:0},duration:400,transition:"fade",onVisible:function(e){var a=function(e){t(e).popup("hide")};setTimeout(a.bind(this,e),1700)}}}}]),e}(),ze=function(){function e(t){c(this,e);var n=t.node,i=n.unitType(),l=i&&i.channel,o=a.observable(null),s=t.queryPartsNonReadiness,r=function(){n.isEditStateForUnitType(!0)},d=function(){n.unitType(this),n.isEditStateForUnitType(!1),t.isQueryNew(!0)},p=a.computed(function(){return n.unitProperties().some(function(e){return null!==e.value()})}).extend({rateLimit:500}),u=[];s.push(n.isEditStateForUnitType);var m=!0,b=!1,g=void 0;try{for(var y=Me[Symbol.iterator](),v;!(m=(v=y.next()).done);m=!0){var f=v.value,h=new je(f,o,d);u.push(h),l&&l.id===f.id&&o(h)}}catch(e){b=!0,g=e}finally{try{m||null==y.return||y.return()}finally{if(b)throw g}}i||r(),this.node=n,this.channelViewModels=u,this.channelsHelp={html:"\n\n  <header class=\"ui header\">\u0415\u0434\u0438\u043D\u0438\u0446\u044B \u043F\u043E\u0438\u0441\u043A\u0430</header>\n\n  <p>\u0427\u0442\u043E\u0431\u044B \u0432\u044B\u0431\u0440\u0430\u0442\u044C \u0435\u0434\u0438\u043D\u0438\u0446\u0443 \u043F\u043E\u0438\u0441\u043A\u0430, \u0441\u043D\u0430\u0447\u0430\u043B\u0430 \u0443\u043A\u0430\u0436\u0438\u0442\u0435 \u043E\u0431\u043B\u0430\u0441\u0442\u044C \u0440\u0430\u0437\u043C\u0435\u0442\u043A\u0438\n  \u0432 \u0432\u0435\u0440\u0445\u043D\u0435\u043C \u043C\u0435\u043D\u044E, \u0430 \u0437\u0430\u0442\u0435\u043C \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u043D\u0430 \u043D\u0443\u0436\u043D\u044B\u0439 \u0432\u0430\u043C \u0442\u0438\u043F \u0435\u0434\u0438\u043D\u0438\u0446\u044B.</p>\n\n",opts:{variation:"basic",delay:{show:400,hide:0},duration:400}},this.activeChannel=o,this.queryPartsNonReadiness=s,this.goEditUnitType=r,this.goEditUnitProperties=function(){t.editNodeProperties(n)},this.iHaveChosenUnitType=d,this.iHaveChosenUnitProperties=function(){t.finishEditingNodeProperties(),t.isQueryNew(!0)},this.isAnyUnitPropertySet=p}return u(e,[{key:"dispose",value:function(){this.queryPartsNonReadiness.remove(this.node.isEditStateForUnitType)}}]),e}(),We={viewModel:ze,template:$e},Ge={viewModel:{createViewModel:function(e){return e.property}},template:"\n\n  <div class=\"ui top attached segment\">\n    <div class=\"ui top attached large label\">\n      <header class=\"bmpp-propertyHeader\" data-bind=\"text: name,\n        click: onHeaderClick.bind($component),\n        css: { clickable: $component.isHeaderClickable }\">\n      </header>\n      <!-- ko if: help -->\n        <i class=\"disabled question circle outline icon bmpp-nearLabelIcon\"\n          data-bind=\"popup: help\"></i>\n      <!-- /ko -->\n    </div>\n    <div class=\"ui hidden divider\"></div>\n\n    <!-- ko if: type === 'text' -->\n      <text-property params=\"property: $component\"></text-property>\n    <!-- /ko -->\n\n    <!-- ko if: type === 'interval' -->\n      <interval-property params=\"property: $component\"></interval-property>\n    <!-- /ko -->\n\n    <!-- ko if: type === 'list' -->\n      <list-property params=\"property: $component\"></list-property>\n    <!-- /ko -->\n  </div>\n\n  <div class=\"ui bottom attached info mini message\" style=\"margin-bottom: 1em;\">\n    <div class=\"ui grid\" style=\"margin: 0!important; padding: 0 !important\">\n      <div class=\"ui eight wide column\"\n        style=\"margin: 0!important; padding: 0 !important\">\n\n        <!-- ko if: jsonProperties().length === 0 -->\n          \u0421\u0432\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u043A\u043B\u044E\u0447\u0435\u043D\u043E \u0432 \u0437\u0430\u043F\u0440\u043E\u0441\n        <!-- /ko -->\n        <!-- ko if: banner -->\n          <em data-bind=\"text: name\"></em>:\n          <span data-bind=\"text: banner\"></span>\n        <!-- /ko -->\n\n      </div>\n      <div class=\"ui eight wide column\"\n        style=\"margin: 0!important; padding: 0 0 0 1em !important;\">\n\n        <code style=\"font-size: smaller;\">\n        <!-- ko foreach: jsonProperties -->\n          <span data-bind=\"text: JSON.stringify(prop, null, 1)\"></span>:\n          <span data-bind=\"text: JSON.stringify(value, null, 1)\"></span><!--\n            ko if: $index() !== $component.jsonProperties().length - 1 -->,\n            <!-- /ko -->\n        <!-- /ko -->\n        </code>\n\n      </div>\n    </div>\n  </div>\n\n"},Ke=function(e,a){for(var n=e.records,i=e.recordPhases,l=function(){n.areAllUnchecked()||n.clearSelection(),i.areAllUnchecked()||i.clearSelection()},o={variation:"basic",delay:{show:400,hide:0},duration:400},s=[{html:"\n\n  <p>\u041F\u0440\u0438 \u0432\u044B\u0431\u043E\u0440\u0435 \u043E\u0434\u043D\u043E\u0433\u043E \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u0445 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u043E\u0432 \u043F\u043E\u0438\u0441\u043A \u0431\u0443\u0434\u0435\u0442\n  \u0432\u0435\u0441\u0442\u0438\u0441\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u043F\u043E \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u043C \u0437\u0430\u043F\u0438\u0441\u044F\u043C. \u0412&nbsp;\u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0438\u0439 \u043C\u043E\u043C\u0435\u043D\u0442\n  \u0434\u043B\u044F \u043F\u043E\u0438\u0441\u043A\u0430 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u044B 4 \u0438\u0437 6 \u0437\u0430\u043F\u0438\u0441\u0435\u0439.</p>\n\n",selector:".bmpp-recordsHelp"},{html:"\n\n  <p>\u041F\u0440\u0438 \u0432\u044B\u0431\u043E\u0440\u0435 \u043E\u0434\u043D\u043E\u0433\u043E \u0438\u043B\u0438 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u0438\u0445 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u043E\u0432 \u043F\u043E\u0438\u0441\u043A \u0431\u0443\u0434\u0435\u0442\n  \u0432\u0435\u0441\u0442\u0438\u0441\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u043F\u043E \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u043C \u044D\u0442\u0430\u043F\u0430\u043C: \u0440\u0430\u0441\u0441\u043A\u0430\u0437\u0443, \u0440\u0430\u0437\u0433\u043E\u0432\u043E\u0440\u0443 \u0438\u043B\u0438\n  \u043F\u0435\u0440\u0435\u0441\u043A\u0430\u0437\u0443.</p>\n\n",selector:".bmpp-recordsPhasesHelp"}],r=0;r<s.length;r++){var d=s[r],c=d.html,p=d.selector;o.html=c,t(a.element).find(p).popup(o)}return{records:n,recordPhases:i,subcorpusClearSelection:l}},Qe={viewModel:{createViewModel:Ke},template:"\n\n  <h1 class=\"ui header\">\u041E\u0431\u043B\u0430\u0441\u0442\u044C \u043F\u043E\u0438\u0441\u043A\u0430</h1>\n  <div class=\"ui grid\">\n    <div class=\"ten wide column\" data-bind=\"with: records\">\n      <div class=\"ui padded segment bmpp-subcorpusForm\">\n        <div class=\"ui top attached large label\">\n          <header data-bind=\"click: invertSelection\">\n            \u0417\u0430\u043F\u0438\u0441\u0438\n          </header>\n          <i class=\"disabled question circle outline icon\n                    bmpp-nearLabelIcon bmpp-recordsHelp\"></i>\n        </div>\n\n        <div class=\"ui form\" data-bind=\"foreach: fields\">\n          <div class=\"field\">\n            <bmpp-checkbox params=\"value: value, label: label,\n              disabled: disabled, tabindex: $index,\n              disabledTooltip: '\u0417\u0430\u043F\u0438\u0441\u044C \u043F\u043E\u043A\u0430 \u043D\u0435 \u0433\u043E\u0442\u043E\u0432\u0430'\"></bmpp-checkbox>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div class=\"six wide column\" data-bind=\"with: recordPhases\">\n      <div class=\"ui padded segment bmpp-subcorpusForm\">\n        <div class=\"ui top attached large label\">\n          <header data-bind=\"click: invertSelection\">\n            \u042D\u0442\u0430\u043F\u044B \u0437\u0430\u043F\u0438\u0441\u0435\u0439\n          </header>\n          <i class=\"disabled question circle outline icon\n             bmpp-nearLabelIcon bmpp-recordsPhasesHelp\"></i>\n        </div>\n        <form class=\"ui form\" data-bind=\"foreach: fields\">\n          <div class=\"field\">\n            <bmpp-checkbox params=\"value: value, label: label,\n              tabindex: $index() + $root.subcorpus.records.fields.length\">\n            </bmpp-checkbox>\n          </div>\n        </form>\n\n      </div>\n    </div>\n\n    <div>\n      <button class=\"ui small button three wide column\"\n        data-bind=\"click: $root.switchOnQueryPane\">\u041EK</button>\n      <button class=\"ui small button three wide column\"\n        data-bind=\"click: subcorpusClearSelection\">\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C</button>\n    </div>\n\n  </div>\n\n"},Ye={viewModel:{createViewModel:function(e){return e.property}},template:"\n\n  <div class=\"ui small input\">\n    <input type=\"text\" data-bind=\"value: value, valueUpdate: 'input',\n      attr: { placeholder: placeholder }\">\n  </div>\n\n"},Xe=function(e,a){var n={on:"focus",inline:!0,position:"bottom left",variation:"basic fluid",preserve:!0,closable:!1,hideOnScroll:!1,delay:{show:50,hide:300},duration:300,lastResort:!0};return t(a.element).find(".bmpp-editableListItem input[type=\"text\"]").popup(n),{virtualKeyboardPopupOpts:n,listProperty:e.valueList.listProperty,valueList:e.valueList}},Je={viewModel:{createViewModel:Xe},template:"\n\n  <ul data-bind=\"foreach: valueList.items\" class=\"bmpp-valueList\">\n    <li>\n      <bmpp-checkbox params=\"label: name,\n        value: userChecked, disabled: disabled\"></bmpp-checkbox>\n\n      <!-- ko if: editable -->\n        <div class=\"ui mini input bmpp-editableListItem\">\n\n          <input type=\"text\"\n            data-bind=\"value: value, valueUpdate: 'input',\n              inlinePopup: $component.virtualKeyboardPopupOpts\">\n\n          <!-- ko if: $component.listProperty.virtualKeyboard -->\n          <div class=\"ui basic popup hidden\">\n            <!-- ko foreach: $component.listProperty.validChars -->\n              <button class=\"ui mini button\" data-bind=\"text: $data,\n                click: $component.listProperty.insertText($data, $element,\n                  $parent.value)\"></button>\n            <!-- /ko -->\n          </div>\n          <!-- /ko -->\n\n        </div>\n      <!-- /ko -->\n\n      <!-- ko if: $component.listProperty.displayValues &&\n                  [true, false, null, undefined].indexOf(value) < 0 &&\n                  !editable -->\n        <!-- ko if: value instanceof Array -->\n          (<!-- ko foreach: value --><span data-bind=\"if: $index() > 0\">,\n            </span><span data-bind=\"text: $data\" class=\"bmpp-listItemValue\">\n            </span><!-- /ko -->)\n        <!-- /ko -->\n        <!-- ko ifnot: value instanceof Array -->\n          (<span data-bind=\"text: value\" class=\"bmpp-listItemValue\"></span>)\n        <!-- /ko -->\n      <!-- /ko -->\n\n      <!-- ko if: childList -->\n        <bmpp-value-list params=\"valueList: childList\"></bmpp-value-list>\n      <!-- /ko -->\n\n    </li>\n  </ul>\n\n"},Ze={type:"list",name:"\u0424\u0430\u0437\u043E\u0432\u0430\u044F \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0430",id:"p_mGeStructure",displayValues:!0,valueList:{orValues:[{name:"\u041C\u0430\u0445",value:"S"},{name:"\u041C\u0430\u0445, \u0440\u0435\u0442\u0440\u0430\u043A\u0446\u0438\u044F",value:"S R"},{name:"\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0430, \u043C\u0430\u0445",value:"P S"},{name:"\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0430, \u043C\u0430\u0445, \u0440\u0435\u0442\u0440\u0430\u043A\u0446\u0438\u044F",value:"P S R"},{name:"\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0430-\u043C\u0430\u0445",value:"P-S"},{name:"\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0430-\u043C\u0430\u0445, \u0440\u0435\u0442\u0440\u0430\u043A\u0446\u0438\u044F",value:"P-S R"},{name:"\u0414\u0440\u0443\u0433\u043E\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442",editable:!0}]},validChars:["P","R","S","H","-"," "],substitute:[[/[sыЫ]/g,"S"],[/[pзЗ]/g,"P"],[/[rкК]/g,"R"],[/[hрР]/g,"H"],[/\s+/g," "],[/\s*[-_]\s*/g,"-"]]},et="/",tt="\\",at="\u2013",nt="\u2191",it="\u2193",lt="\u2192",ot=et+tt,st=et+it,rt=nt+tt,dt=et+at,ct=et+lt,pt=tt+et,ut=tt+nt,mt={type:"list",name:"\u0414\u0432\u0438\u0436\u0435\u043D\u0438\u0435 \u0442\u043E\u043D\u0430 \u0432 \u0433\u043B\u0430\u0432\u043D\u043E\u043C \u0430\u043A\u0446\u0435\u043D\u0442\u0435",id:"p_vMainAccents",displayValues:!0,valueList:{orValues:[{name:"\u0412\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435\u0435",value:et},{name:"\u041D\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0435\u0435",value:tt},{name:"\u0420\u043E\u0432\u043D\u043E\u0435",value:at},{name:"\u0412\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u043D\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0435\u0435",value:[ot,st,rt]},{name:"\u0412\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u0440\u043E\u0432\u043D\u043E\u0435",value:[dt,ct]},{name:"\u041D\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u0432\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435\u0435",value:[pt,ut]},{name:"\u0414\u0440\u0443\u0433\u043E\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442",editable:!0}]},virtualKeyboard:!0,validChars:[et,tt,at,nt,it,lt],substitute:[[/[-\u2014\u2012]/g,"\u2013"]],valuesSubstitute:[[et,"R"],[tt,"F"],[at,"L"],[nt,"r"],[it,"f"],[lt,"l"]]},bt={type:"list",name:"\u0420\u0443\u043A\u0430",id:"p_mHand",allIfEmpty:!0,valueList:{orValues:[{name:"\u041B\u0435\u0432\u0430\u044F",value:"Lt"},{name:"\u041F\u0440\u0430\u0432\u0430\u044F",value:"Rt"}]}},gt={type:"list",name:"\u0418\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0441\u0442\u044C",valueList:{orValues:[{name:"\u0412\u043D\u0443\u0442\u0440\u0438 \u042D\u0414\u0415",value:"In"},{name:"\u041E\u0442\u0434\u0435\u043B\u044C\u043D\u043E",value:"Out"}]}},yt=A(gt,"p_vFInOutEDU"),vt=A(gt,"p_vHInOutEDU"),ft=A(gt,"p_vLInOutEDU"),ht=A(gt,"p_vOInOutEDU"),kt={type:"list",name:"\u0421\u043E\u0441\u0435\u0434\u0441\u0442\u0432\u043E \u0441 \u0438\u0437\u043E\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u043C\u0438 \u043F\u0430\u0443\u0437\u0430\u043C\u0438",valueList:{orValues:[{name:"\u041D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043D\u043D\u043E \u043F\u0435\u0440\u0435\u0434 \u043F\u0430\u0443\u0437\u043E\u0439",value:"Before"},{name:"\u041D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043D\u043D\u043E \u043F\u043E\u0441\u043B\u0435 \u043F\u0430\u0443\u0437\u044B",value:"After"},{name:"\u041D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043D\u043D\u043E \u043C\u0435\u0436\u0434\u0443 \u043F\u0430\u0443\u0437\u0430\u043C\u0438",value:"Between"},{name:"\u041D\u0435 \u0441\u043E\u0441\u0435\u0434\u0441\u0442\u0432\u0443\u0435\u0442 \u0441 \u043F\u0430\u0443\u0437\u0430\u043C\u0438",value:!1}]}},wt=A(kt,"p_vFNearPause"),xt=A(kt,"p_vHNearPause"),_t=A(kt,"p_vLNearPause"),Tt=A(kt,"p_vONearPause"),Ct=A(kt,"p_vWNearPause"),Pt={type:"list",name:"\u0421 \u0430\u043A\u0446\u0435\u043D\u0442\u043E\u043C",id:"with_accent",displayValues:!0,valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u0421 \u0432\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u043C \u0442\u043E\u043D\u043E\u043C",value:et},{name:"\u0421 \u043D\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u043C \u0442\u043E\u043D\u043E\u043C",value:tt},{name:"\u0421 \u0440\u043E\u0432\u043D\u044B\u043C \u0442\u043E\u043D\u043E\u043C",value:at},{name:"\u0421 \u0432\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u043D\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u043C \u0442\u043E\u043D\u043E\u043C",value:[ot,st,rt]},{name:"\u0421 \u0432\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u0440\u043E\u0432\u043D\u044B\u043C \u0442\u043E\u043D\u043E\u043C",value:[dt,ct]},{name:"\u0421 \u043D\u0438\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u0432\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0438\u043C \u0442\u043E\u043D\u043E\u043C",value:[pt,ut]},{name:"\u0414\u0440\u0443\u0433\u043E\u0439 \u0432\u0430\u0440\u0438\u0430\u043D\u0442",editable:!0}]},{name:"\u041D\u0435\u0442",value:!1}]},virtualKeyboard:!0,validChars:[et,tt,at,nt,it,lt],substitute:[[/[-\u2014\u2012]/g,"\u2013"]],valuesSubstitute:[[et,"R"],[tt,"F"],[at,"L"],[nt,"r"],[it,"f"],[lt,"l"]]},Nt=[{type:"interval",name:"\u0414\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",id:"duration",step:20,units:"\u043C\u0438\u043B\u043B\u0438\u0441\u0435\u043A\u0443\u043D\u0434",unitsBanner:"\u043C\u0441",fromOnlyBanner:"\u043D\u0435 \u043C\u0435\u043D\u0435\u0435 ##",toOnlyBanner:"\u043D\u0435 \u0431\u043E\u043B\u0435\u0435 ##",fromToEqualBanner:"\u0440\u043E\u0432\u043D\u043E ##",help:"<header class=\"ui header\">\u0418\u043D\u0442\u0435\u0440\u0432\u0430\u043B \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438 \u0435\u0434\u0438\u043D\u0438\u0446\u044B</header>\n  <p>\u0427\u0442\u043E\u0431\u044B \u043E\u0442\u043E\u0431\u0440\u0430\u0442\u044C \u0435\u0434\u0438\u043D\u0438\u0446\u044B, \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u043D\u0435 \u043C\u0435\u043D\u044C\u0448\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0439,\n  \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0442\u043E\u043B\u044C\u043A\u043E \u043B\u0435\u0432\u043E\u0435 \u043F\u043E\u043B\u0435. \u0427\u0442\u043E\u0431\u044B \u043E\u0442\u043E\u0431\u0440\u0430\u0442\u044C \u0435\u0434\u0438\u043D\u0438\u0446\u044B, \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C \u043A\u043E\u0442\u043E\u0440\u044B\u0445\n  \u043D\u0435 \u0431\u043E\u043B\u044C\u0448\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u043E\u0439, \u0437\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0442\u043E\u043B\u044C\u043A\u043E \u043F\u0440\u0430\u0432\u043E\u0435 \u043F\u043E\u043B\u0435. \u0421\u0432\u043E\u0439\u0441\u0442\u0432\u043E \u043D\u0435 \u0431\u0443\u0434\u0435\u0442\n  \u0443\u0447\u0438\u0442\u044B\u0432\u0430\u0442\u044C\u0441\u044F \u0432 \u0437\u0430\u043F\u0440\u043E\u0441\u0435, \u0435\u0441\u043B\u0438 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u0437\u0430\u0434\u0430\u0442\u044C.</p>"},{type:"list",name:"\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0438",id:"p_participants",allIfEmpty:!0,valueList:{orValues:[{name:"\u0420\u0430\u0441\u0441\u043A\u0430\u0437\u0447\u0438\u043A",value:"N"},{name:"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0442\u043E\u0440",value:"C",disabledInChannels:["ocul"]},{name:"\u041F\u0435\u0440\u0435\u0441\u043A\u0430\u0437\u0447\u0438\u043A",value:"R"}]}}],Lt={u_vEDU:Nt.concat([{type:"list",name:"\u0418\u043B\u043B\u043E\u043A\u0443\u0442\u0438\u0432\u043D\u043E-\u0444\u0430\u0437\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",id:"p_vIllocPhase",displayValues:!0,valueList:{orValues:[{name:"\u0418\u043B\u043B\u043E\u043A\u0443\u0442\u0438\u0432\u043D\u043E\u0435",orValues:[{name:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u0438\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F",value:"."},{name:"\u0412\u043E\u043F\u0440\u043E\u0441",value:"?"},{name:"\u0414\u0438\u0440\u0435\u043A\u0442\u0438\u0432",value:"\xA1"},{name:"\u041E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0435",value:"@"},{name:"\u041F\u043E\u043B\u0443\u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435",value:"\xBF"},{name:"\u041D\u0435\u043F\u043E\u043B\u043D\u043E\u0442\u0430 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438",value:"\u2026"},{name:"\u0412\u043E\u0441\u043A\u043B\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",value:"!"}]},{name:"\u0424\u0430\u0437\u043E\u0432\u043E\u0435",orValues:[{name:"\u0421\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u0430\u044F \u043D\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E\u0441\u0442\u044C",value:","},{name:"\u041D\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E\u0441\u0442\u044C, \u0432\u043E\u0441\u043F\u043E\u043B\u043D\u044F\u0435\u043C\u0430\u044F \u043F\u043E\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u043C \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u043E\u043C",value:":"},{name:"\u041D\u0435\u043F\u043E\u043B\u043D\u043E\u0442\u0430 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438 \u0432 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u0435 \u043D\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E\u0441\u0442\u0438",value:",,,"},{name:"\u041D\u0430\u0447\u0430\u043B\u044C\u043D\u0430\u044F \u0447\u0430\u0441\u0442\u044C \u0441\u043F\u043B\u0438\u0442\u0430",value:"\u2014"}]},{name:"\u041E\u0431\u0440\u044B\u0432",addNameToChildNames:!0,orValues:[{name:"\u041F\u0440\u0438 \u0441\u0430\u043C\u043E\u0438\u0441\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0438",value:"=="},{name:"\u041F\u0440\u0438 \u0430\u043F\u043E\u0441\u0438\u043E\u043F\u0435\u0437\u0435",value:"~"},{name:"\u041F\u0440\u0438 \u0432\u043C\u0435\u0448\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0435 \u0441\u043E\u0431\u0435\u0441\u0435\u0434\u043D\u0438\u043A\u0430",value:"\u2248\u2248"}]}]},valuesSubstitute:[[".","Period"],["?","Quest"],["\xA1","Dir"],["@","Appeal"],["\xBF","Semi-St"],["\u2026","Dots-f"],["!","Exclam"],[",,,","Dots-nf"],[",","Comma"],[":","Colon"],["\u2014","Split"],["==","Fst"],["~","Tilde"],["\u2248\u2248","Interrupt"]]},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0441\u043B\u043E\u0432",id:"p_vWordsCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0430\u0431\u0441\u043E\u043B\u044E\u0442\u043D\u044B\u0445 \u043F\u0430\u0443\u0437",id:"p_vPausesCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043D\u044B\u0445 \u043F\u0430\u0443\u0437",id:"p_vFilledCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},{type:"list",name:"\u041D\u0430\u0447\u0438\u043D\u0430\u0435\u0442\u0441\u044F \u0441 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u043D\u043E\u0439 \u043F\u0430\u0443\u0437\u044B",id:"p_vStartFilled",valueList:{xorValues:[{name:"\u0414\u0430",value:"Yes"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u041A\u043E\u043C\u0431\u0438\u043D\u0430\u0446\u0438\u044F \u0438\u043B\u043B\u043E\u043A\u0443\u0442\u0438\u0432\u043D\u043E-\u0444\u0430\u0437\u043E\u0432\u044B\u0445 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0439",id:"p_vCombIllocPhase",valueList:{orValues:[{name:"\u041D\u0435-\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 + \u043D\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E\u0441\u0442\u044C",value:"NonStNonFinal"},{name:"\u041D\u0435-\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 + \u043D\u0435\u043F\u043E\u043B\u043D\u043E\u0442\u0430 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438",value:"NonStDots"},{name:"\u041D\u0435-\u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435 + \u0432\u043E\u0441\u043A\u043B\u0438\u0446\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u044C",value:"NonStExclam"},{name:"\u041D\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E\u0441\u0442\u044C + \u043E\u0431\u0440\u044B\u0432",value:"NonFinalTrunc"},{name:"\u041F\u0440\u043E\u0447\u0435\u0435",value:"Other"}]}},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0442\u043E\u0447\u0435\u043A \u043F\u0440\u0435\u0440\u044B\u0432\u0430\u043D\u0438\u044F",id:"p_vInterruptCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0430\u043A\u0446\u0435\u043D\u0442\u043E\u0432",id:"p_vAccentsCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0433\u043B\u0430\u0432\u043D\u044B\u0445 \u0430\u043A\u0446\u0435\u043D\u0442\u043E\u0432",id:"p_vMainAccentsCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},{type:"interval",name:"\u0427\u0438\u0441\u043B\u043E \u0432\u0442\u043E\u0440\u0438\u0447\u043D\u044B\u0445 \u0430\u043A\u0446\u0435\u043D\u0442\u043E\u0432 \u043F\u043E\u0441\u043B\u0435 \u0433\u043B\u0430\u0432\u043D\u043E\u0433\u043E",id:"p_vAccentsAfterMainCount",fromOnlyBanner:"## \u0438 \u0431\u043E\u043B\u0435\u0435",toOnlyBanner:"## \u0438 \u043C\u0435\u043D\u0435\u0435"},mt,{type:"list",name:"\u0412\u0445\u043E\u0434\u0438\u0442 \u0432 \u043A\u043E\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044E \u0441\u043E \u0432\u0441\u0442\u0430\u0432\u043A\u043E\u0439",id:"p_vParenth",valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u041D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043D\u043D\u043E \u043F\u0440\u0435\u0434\u0448\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u0441\u0442\u0430\u0432\u043A\u0435",value:"Enter"},{name:"\u041F\u0435\u0440\u0432\u0430\u044F \u042D\u0414\u0415 \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0432\u0441\u0442\u0430\u0432\u043A\u0438",value:"Start"},{name:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u042D\u0414\u0415 \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0432\u0441\u0442\u0430\u0432\u043A\u0438",value:"Final"},{name:"\u0412\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u044F\u044F \u042D\u0414\u0415 \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0432\u0441\u0442\u0430\u0432\u043A\u0438",value:"Inside"},{name:"\u0415\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u042D\u0414\u0415 \u043F\u0440\u043E\u0441\u0442\u043E\u0439 \u0432\u0441\u0442\u0430\u0432\u043A\u0438",value:"Full"},{name:"\u041D\u0435\u043F\u043E\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043D\u043D\u043E \u0441\u043B\u0435\u0434\u0443\u0435\u0442 \u0437\u0430 \u0432\u0441\u0442\u0430\u0432\u043A\u043E\u0439",value:"Return"},{name:"\u041F\u0435\u0440\u0432\u0430\u044F \u042D\u0414\u0415 \u043E\u0434\u043D\u043E\u0441\u0442\u043E\u0440\u043E\u043D\u043D\u0435\u0439 \u0432\u0441\u0442\u0430\u0432\u043A\u0438",value:"*Start"}]},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0412\u0445\u043E\u0434\u0438\u0442 \u0432 \u043A\u043E\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044E \u0441\u043E \u0441\u043F\u043B\u0438\u0442\u043E\u043C",id:"p_vInSplit",valueList:{xorValues:[{name:"\u0414\u0430",value:"InSplit"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0412\u0445\u043E\u0434\u0438\u0442 \u0432 \u0441\u043E\u0432\u043C\u0435\u0441\u0442\u043D\u043E\u0435 \u043F\u043E\u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 \u0440\u0435\u043F\u043B\u0438\u043A",id:"p_vCoConstr",valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u0414\u043E\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442\u0441\u044F \u0434\u0440\u0443\u0433\u0438\u043C \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u043E\u043C",value:"Prelim"},{name:"\u0414\u043E\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442 \u0440\u0435\u043F\u043B\u0438\u043A\u0443 \u0434\u0440\u0443\u0433\u043E\u0433\u043E \u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0430",value:"Final"},{name:"\u0418 \u0442\u043E, \u0438 \u0434\u0440\u0443\u0433\u043E\u0435",value:"Both"}]},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0412\u0445\u043E\u0434\u0438\u0442 \u0432 \u043A\u043E\u043D\u0441\u0442\u0440\u0443\u043A\u0446\u0438\u044E \u0441 (\u043F\u043E\u043B\u0443)\u043F\u0440\u044F\u043C\u043E\u0439 \u0446\u0438\u0442\u0430\u0446\u0438\u0435\u0439",id:"p_vCitation",valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u0412\u0432\u043E\u0434\u0438\u0442 \u0447\u0443\u0436\u0443\u044E \u0440\u0435\u0447\u044C (\u0430\u0432\u0442\u043E\u0440\u0441\u043A\u0430\u044F \u0440\u0435\u043C\u0430\u0440\u043A\u0430)",value:"Frame"},{name:"\u041F\u0435\u0440\u0432\u0430\u044F \u042D\u0414\u0415 \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0446\u0438\u0442\u0430\u0446\u0438\u0438",value:"Begin"},{name:"\u041F\u043E\u0441\u043B\u0435\u0434\u043D\u044F\u044F \u042D\u0414\u0415 \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0446\u0438\u0442\u0430\u0446\u0438\u0438",value:"End"},{name:"\u0412\u043D\u0443\u0442\u0440\u0435\u043D\u043D\u044F\u044F \u042D\u0414\u0415 \u0441\u043B\u043E\u0436\u043D\u043E\u0439 \u0446\u0438\u0442\u0430\u0446\u0438\u0438",value:"Within"},{name:"\u0415\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u042D\u0414\u0415 \u043F\u0440\u043E\u0441\u0442\u043E\u0439 \u0446\u0438\u0442\u0430\u0446\u0438\u0438",value:"Whole"}]},{name:"\u041D\u0435\u0442",value:!1}]}}]),u_vWord:Nt.concat([{type:"text",name:"\u0421\u043B\u043E\u0432\u0430\u0440\u043D\u0430\u044F \u0444\u043E\u0440\u043C\u0430",id:"p_vWForm",placeholder:"\u2026"},Ct,{type:"list",name:"\u0418\u0434\u0435\u043E\u0444\u043E\u043D",id:"p_vOnom",valueList:{xorValues:[{name:"\u0414\u0430",value:"Onom"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u041E\u0431\u043E\u0440\u0432\u0430\u043D\u043D\u043E\u0435 \u0441\u043B\u043E\u0432\u043E",id:"p_vTruncated",valueList:{xorValues:[{name:"\u0414\u0430",value:"Truncated"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"interval",name:"\u041F\u043E\u0437\u0438\u0446\u0438\u044F \u043E\u0442 \u043D\u0430\u0447\u0430\u043B\u0430 \u042D\u0414\u0415",id:"p_vWordNum",fromOnlyBanner:"##\u2010\u044F \u0438 \u0434\u0430\u043B\u044C\u0448\u0435",toOnlyBanner:"##\u2010\u044F \u0438 \u0431\u043B\u0438\u0436\u0435",fromLabel:"\u0441",toLabel:"\u043F\u043E",fromToBanner:"##\u2013##"},{type:"interval",name:"\u041F\u043E\u0437\u0438\u0446\u0438\u044F \u043E\u0442 \u043A\u043E\u043D\u0446\u0430 \u042D\u0414\u0415",id:"p_vWordNumReversed",fromOnlyBanner:"##\u2010\u044F \u0438 \u0434\u0430\u043B\u044C\u0448\u0435",toOnlyBanner:"##\u2010\u044F \u0438 \u0431\u043B\u0438\u0436\u0435",fromLabel:"\u0441",toLabel:"\u043F\u043E",fromToBanner:"##\u2013##"},{type:"list",name:"\u0422\u043E\u0447\u043A\u0430 \u043F\u0440\u0435\u0440\u044B\u0432\u0430\u043D\u0438\u044F",id:"p_vInterrupt",valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u041F\u0440\u0438 \u0441\u0430\u043C\u043E\u0438\u0441\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0438 \u0432\u043D\u0443\u0442\u0440\u0438 \u042D\u0414\u0415",value:"Mild"},{name:"\u041F\u0440\u0438 \u0441\u0430\u043C\u043E\u0438\u0441\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0438 \u043D\u0430 \u0433\u0440\u0430\u043D\u0438\u0446\u0435 \u042D\u0414\u0415",value:"Severe"},{name:"\u041F\u0440\u0438 \u0432\u043C\u0435\u0448\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0435 \u0432\u043D\u0443\u0442\u0440\u0438 \u042D\u0414\u0415",value:"Mild-other"},{name:"\u041F\u0440\u0438 \u0432\u043C\u0435\u0448\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0435 \u043D\u0430 \u0433\u0440\u0430\u043D\u0438\u0446\u0435 \u042D\u0414\u0415",value:"Severe-other"}]},{name:"\u041D\u0435\u0442",value:!1}]}},Pt,{type:"list",name:"\u0421 \u0433\u043B\u0430\u0432\u043D\u044B\u043C \u0430\u043A\u0446\u0435\u043D\u0442\u043E\u043C",id:"p_vMainAccent",valueList:{xorValues:[{name:"\u0414\u0430",value:"Main"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0420\u0435\u0434\u0443\u0446\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u043F\u0440\u043E\u0438\u0437\u043D\u0435\u0441\u0435\u043D\u0438\u0435",id:"p_vReduction",valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u0412\u0441\u0435\u0433\u043E \u0441\u043B\u043E\u0432\u0430",value:"Full"},{name:"\u0427\u0430\u0441\u0442\u0438 \u0441\u043B\u043E\u0432\u0430",value:"Part"}]},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0421\u043C\u0435\u0449\u0435\u043D\u043D\u044B\u0439 \u0442\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440",id:"p_vRegister",valueList:{xorValues:[{name:"\u0414\u0430",orValues:[{name:"\u041F\u043E\u0432\u044B\u0448\u0435\u043D\u043D\u044B\u0439",value:"Hi"},{name:"\u0421\u043D\u0438\u0436\u0435\u043D\u043D\u044B\u0439",value:"Lo"}]},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0423\u0434\u043B\u0438\u043D\u0435\u043D\u043D\u0430\u044F \u0440\u0435\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F \u0444\u043E\u043D\u0435\u043C",id:"p_vLength",valueList:{xorValues:[{name:"\u0414\u0430",value:"Len"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u0422\u0435\u043C\u043F \u043F\u0440\u043E\u0438\u0437\u043D\u0435\u0441\u0435\u043D\u0438\u044F",id:"p_vTempo",valueList:{orValues:[{name:"\u041D\u0435\u0439\u0442\u0440\u0430\u043B\u044C\u043D\u044B\u0439",value:!1},{name:"\u0423\u0441\u043A\u043E\u0440\u0435\u043D\u043D\u044B\u0439",value:"Fast"},{name:"\u0417\u0430\u043C\u0435\u0434\u043B\u0435\u043D\u043D\u044B\u0439",value:"Slow"}]}},{type:"list",name:"\u042D\u043C\u0444\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043F\u0440\u043E\u0438\u0437\u043D\u0435\u0441\u0435\u043D\u0438\u0435",id:"p_vEmph",valueList:{xorValues:[{name:"\u0414\u0430",value:"Emph"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u041D\u0435\u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u043E\u0435 \u043B\u0435\u043A\u0441\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0443\u0434\u0430\u0440\u0435\u043D\u0438\u0435",id:"p_vStress",valueList:{xorValues:[{name:"\u0414\u0430",value:"Stress"},{name:"\u041D\u0435\u0442",value:!1}]}},{type:"list",name:"\u041E\u0441\u043E\u0431\u0435\u043D\u043D\u043E\u0441\u0442\u0438 \u043F\u0440\u043E\u0438\u0437\u043D\u0435\u0441\u0435\u043D\u0438\u044F \u043D\u0430\u0447\u0430\u043B\u0430 / \u043A\u043E\u043D\u0446\u0430 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",id:"p_vStops",valueList:{orValues:[{name:"\u0413\u043B\u0430\u0441\u043D\u044B\u0439 (\xAB\u0448\u0432\u0430\xBB-) \u043F\u0440\u0438\u0437\u0432\u0443\u043A \u0432 \u043D\u0430\u0447\u0430\u043B\u0435 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",value:"Schw-st"},{name:"\u0413\u043E\u0440\u0442\u0430\u043D\u043D\u0430\u044F \u0441\u043C\u044B\u0447\u043A\u0430 (\xAB\u0442\u0432\u0435\u0440\u0434\u044B\u0439 \u043F\u0440\u0438\u0441\u0442\u0443\u043F\xBB) \u0432 \u043D\u0430\u0447\u0430\u043B\u0435 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",value:"Gl-st"},{name:"\u0413\u043B\u0430\u0441\u043D\u044B\u0439 (\xAB\u0448\u0432\u0430\xBB-) \u043F\u0440\u0438\u0437\u0432\u0443\u043A \u0432 \u043A\u043E\u043D\u0446\u0435 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",value:"Schw-en"},{name:"\u0413\u043E\u0440\u0442\u0430\u043D\u043D\u0430\u044F \u0441\u043C\u044B\u0447\u043A\u0430 (\xAB\u0442\u0432\u0435\u0440\u0434\u044B\u0439 \u043F\u0440\u0438\u0441\u0442\u0443\u043F\xBB) \u0432 \u043A\u043E\u043D\u0446\u0435 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",value:"Gl-en"},{name:"\u0413\u0443\u0431\u043D\u0430\u044F \u0441\u043C\u044B\u0447\u043A\u0430 \u0432 \u043A\u043E\u043D\u0446\u0435 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",value:"Lab-en"},{name:"\u041F\u0440\u0438\u0434\u044B\u0445\u0430\u043D\u0438\u0435 \u0432 \u043A\u043E\u043D\u0446\u0435 \u0441\u043B\u043E\u0432\u043E\u0444\u043E\u0440\u043C\u044B",value:"Asp-en"}]}}]),u_vLaughSegm:Nt.concat([ft,_t]),u_vFilledSegm:Nt.concat([yt,wt,{type:"list",name:"\u0422\u0438\u043F \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u044F",id:"p_vFForm",isRegEx:!0,valueList:{orValues:[{name:"\u041F\u0440\u043E\u0441\u0442\u043E\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435",orValues:[{name:"\u042D\u043A\u0430\u043D\u044C\u0435",value:"\\(\u0259\u0265?\\)"},{name:"\u0410\u043A\u0430\u043D\u044C\u0435",value:"\\(\u0250\u0265?\\)"},{name:"\u041C\u044D\u043A\u0430\u043D\u044C\u0435",value:"\\(\u026F\u0265?\\)"},{name:"\u0413\u043E\u0440\u0442\u0430\u043D\u043D\u044B\u0439 \u0441\u043A\u0440\u0438\u043F",value:"\\(\u02C0\u0265?\\)"}]},{name:"\u041A\u043E\u043C\u0431\u0438\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0437\u0430\u043F\u043E\u043B\u043D\u0435\u043D\u0438\u0435",orValues:[{name:"\u0421 \u044D\u043A\u0430\u043D\u044C\u0435\u043C",value:"\\((\u0259[\u0250\u026F\u02C0]|[\u0250\u026F\u02C0]\u0259)\u0265?\\)"},{name:"\u0421 \u0430\u043A\u0430\u043D\u044C\u0435\u043C",value:"\\((\u0250[\u0259\u026F\u02C0]|[\u0259\u026F\u02C0]\u0250)\u0265?\\)"},{name:"\u0421 \u043C\u044D\u043A\u0430\u043D\u044C\u0435\u043C",value:"\\((\u026F[\u0259\u0250\u02C0]|[\u0259\u0250\u02C0]\u026F)\u0265?\\)"},{name:"\u0421 \u0433\u043E\u0440\u0442\u0430\u043D\u043D\u044B\u043C \u0441\u043A\u0440\u0438\u043F\u043E\u043C",value:"\\((\u02C0[\u0259\u0250\u026F]|[\u0259\u0250\u026F]\u02C0)\u0265?\\)"}]}]}}]),u_vHPause:Nt.concat([vt,xt]),u_vOtherSegm:Nt.concat([ht,Tt,{type:"list",name:"\u0422\u0438\u043F \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",id:"p_vOForm",valueList:{orValues:[{name:"\u0426\u043E\u043A\u0430\u043D\u044C\u0435",value:"{cl}"},{name:"\u0427\u043C\u043E\u043A\u0430\u043D\u044C\u0435",value:"{sm}"},{name:"\u0424\u044B\u0440\u043A\u0430\u043D\u044C\u0435",value:"{st}"},{name:"\u0428\u043C\u044B\u0433\u0430\u043D\u044C\u0435",value:"{sf}"},{name:"\u0421\u0433\u043B\u0430\u0442\u044B\u0432\u0430\u043D\u0438\u0435",value:"{gp}"},{name:"\u041E\u0442\u043A\u0430\u0448\u043B\u0438\u0432\u0430\u043D\u0438\u0435",value:"{exp}"},{name:"\u0421\u0432\u0438\u0441\u0442",value:"{wh}"},{name:"\u0412\u0437\u0434\u043E\u0445",value:"{sg}"},{name:"\u041A\u0430\u0448\u0435\u043B\u044C",value:"{cg}"}]}}]),u_vCollat:Nt.concat([{type:"list",name:"\u0422\u0438\u043F \u044F\u0432\u043B\u0435\u043D\u0438\u044F",id:"p_vCollatForm",valueList:{orValues:[{name:"\u0421\u043C\u0435\u0445",value:"{laugh}"},{name:"\u0423\u043B\u044B\u0431\u043A\u0430",value:"{smile}"},{name:"\u0421\u043A\u0440\u0438\u043F\u0443\u0447\u0438\u0439 \u0433\u043E\u043B\u043E\u0441",value:"{creaky}"}]}}]),u_oFixation:Nt.concat([{type:"list",name:"\u041E\u0431\u044A\u0435\u043A\u0442 \u0432\u0437\u0433\u043B\u044F\u0434\u0430",id:"p_oInterlocutor",displayValues:!0,valueList:{orValues:[{name:"\u0420\u0430\u0441\u0441\u043A\u0430\u0437\u0447\u0438\u043A",value:"N"},{name:"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0442\u043E\u0440",value:"C"},{name:"\u041F\u0435\u0440\u0435\u0441\u043A\u0430\u0437\u0447\u0438\u043A",value:"R"},{name:"\u0421\u043B\u0443\u0448\u0430\u0442\u0435\u043B\u044C",value:"L"},{name:"\u041F\u0440\u043E\u0447\u0435\u0435",value:"Other"}]}},{type:"list",name:"\u041B\u043E\u043A\u0443\u0441 \u0432\u0437\u0433\u043B\u044F\u0434\u0430",id:"p_oLocus",valueList:{orValues:[{name:"\u041B\u0438\u0446\u043E",value:"Face"},{name:"\u0420\u0443\u043A\u0438",value:"Hands"},{name:"\u0422\u0435\u043B\u043E",value:"Body"},{name:"\u041F\u0440\u043E\u0447\u0435\u0435",value:"Other"}]}}]),u_mMovement:Nt.concat([bt,{type:"list",name:"\u0422\u0438\u043F \u0434\u0432\u0438\u0436\u0435\u043D\u0438\u044F",id:"p_mMtType",valueList:{orValues:[{name:"\u041F\u043E\u0434\u0433\u043E\u0442\u043E\u0432\u043A\u0430",value:"P"},{name:"\u041C\u0430\u0445",value:"S"},{name:"\u0420\u0435\u0442\u0440\u0430\u043A\u0446\u0438\u044F",value:"R"},{name:"\u041D\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043C\u0430\u044F \u0441\u043C\u0435\u043D\u0430 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u044F",value:"PnC-In"},{name:"\u0417\u0430\u0432\u0438\u0441\u0438\u043C\u0430\u044F \u0441\u043C\u0435\u043D\u0430 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u044F",value:"PnC-Dp"},{name:"\u041D\u0435\u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0435 \u0434\u0432\u0438\u0436\u0435\u043D\u0438\u0435",value:"U"},{name:"\u0418\u043D\u043E\u0435",value:"Other"}]}}]),u_mStillness:Nt.concat([bt,{type:"list",name:"\u0422\u0438\u043F \u043D\u0435\u043F\u043E\u0434\u0432\u0438\u0436\u043D\u043E\u0441\u0442\u0438",id:"p_mStType",valueList:{orValues:[{name:"\u0423\u0434\u0435\u0440\u0436\u0430\u043D\u0438\u0435",value:"Hold"},{name:"\u041F\u043E\u043A\u043E\u0439",value:"Reset"},{name:"\u0417\u0430\u0432\u0438\u0441\u0430\u043D\u0438\u0435",value:"Frozen"}]}}]),u_mStroke:Nt.concat([{type:"list",name:"\u0420\u0443\u043A\u043E\u0441\u0442\u044C",id:"p_mStrokeHandedness",valueList:{orValues:[{name:"\u041B\u0435\u0432\u0430\u044F \u0440\u0443\u043A\u0430",value:"L"},{name:"\u041F\u0440\u0430\u0432\u0430\u044F \u0440\u0443\u043A\u0430",value:"R"},{name:"\u041E\u0431\u0435 \u0440\u0443\u043A\u0438",value:"B"}]}},{type:"list",name:"\u0422\u0438\u043F \u0434\u043B\u0438\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438",id:"p_mStrokeLenType",valueList:{orValues:[{name:"\u041A\u043E\u0440\u043E\u0442\u043A\u0438\u0439",value:"s"},{name:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",value:"m"},{name:"\u0414\u043B\u0438\u043D\u043D\u044B\u0439",value:"l"}]}}]),u_mAdaptor:Nt.concat([{type:"list",name:"\u0422\u0438\u043F \u0430\u0434\u0430\u043F\u0442\u043E\u0440\u0430",id:"p_mAdType",valueList:{orValues:[{name:"\u0427\u0435\u0442\u043A\u0438\u0439 \u0430\u0434\u0430\u043F\u0442\u043E\u0440",value:"Adaptor1"},{name:"\u041D\u0435\u0447\u0435\u0442\u043A\u0438\u0439 \u0430\u0434\u0430\u043F\u0442\u043E\u0440",value:"Adaptor2"},{name:"\u041A\u043E\u043C\u0431\u0438\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0430\u0434\u0430\u043F\u0442\u043E\u0440 (\u0442\u0438\u043F 1)",value:"Adaptor1+2"},{name:"\u041A\u043E\u043C\u0431\u0438\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0430\u0434\u0430\u043F\u0442\u043E\u0440 (\u0442\u0438\u043F 2)",value:"Adaptor2+1"},{name:"\u0414\u0440\u0443\u0433\u043E\u0435",value:"Other"}]}}]),u_mGesture:Nt.concat([{type:"list",name:"\u0420\u0443\u043A\u043E\u0441\u0442\u044C",id:"p_mGeHandedness",valueList:{orValues:[{name:"\u041B\u0435\u0432\u043E\u0440\u0443\u0447\u043D\u044B\u0439",value:"Lt"},{name:"\u041F\u0440\u0430\u0432\u043E\u0440\u0443\u0447\u043D\u044B\u0439",value:"Rt"},{name:"\u0414\u0432\u0443\u0440\u0443\u0447\u043D\u044B\u0439 \u0441 \u0441\u0438\u043C\u0435\u0442\u0440\u0438\u0447\u043D\u043E\u0439 \u0442\u0440\u0430\u0435\u043A\u0442\u043E\u0440\u0438\u0435\u0439",value:"Bh-sym"},{name:"\u0414\u0432\u0443\u0440\u0443\u0447\u043D\u044B\u0439 \u0441 \u0438\u0434\u0435\u043D\u0442\u0438\u0447\u043D\u043E\u0439 / \u0435\u0434\u0438\u043D\u043E\u0439 \u0442\u0440\u0430\u0435\u043A\u0442\u043E\u0440\u0438\u0435\u0439",value:"Bh-id"},{name:"\u0414\u0432\u0443\u0440\u0443\u0447\u043D\u044B\u0439 \u0441 \u0440\u0430\u0437\u043B\u0438\u0447\u043D\u043E\u0439 \u0442\u0440\u0430\u0435\u043A\u0442\u043E\u0440\u0438\u0435\u0439 \u0443 \u0440\u0430\u0437\u043D\u044B\u0445 \u0440\u0443\u043A",value:"Bh-dif"},{name:"\u041F\u0440\u043E\u0447\u0435\u0435",value:"Other"}]}},Ze,{type:"list",name:"\u0424\u0443\u043D\u043A\u0446\u0438\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0439 \u0442\u0438\u043F",id:"p_mGeFunction",valueList:{orValues:[{name:"\u0418\u0437\u043E\u0431\u0440\u0430\u0437\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0436\u0435\u0441\u0442",value:"Depictive"},{name:"\u0423\u043A\u0430\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0436\u0435\u0441\u0442",value:"Pointing"},{name:"\u0416\u0435\u0441\u0442\u043E\u0432\u043E\u0435 \u0443\u0434\u0430\u0440\u0435\u043D\u0438\u0435",value:"Beat"},{name:"\u0414\u0440\u0443\u0433\u043E\u0435",value:"Other"},{name:"\u041F\u0440\u0430\u0433\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 / \u043C\u0435\u0442\u0430\u0444\u043E\u0440\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0436\u0435\u0441\u0442",value:"Pragmatic"}]}},{type:"list",name:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u043F\u0440\u0438\u0437\u043D\u0430\u043A\u0438",id:"p_mGeTags",isRegEx:!0,valueList:{orValues:[{name:"\u0414\u0432\u0443\u0440\u0443\u0447\u043D\u044B\u0439 \u0436\u0435\u0441\u0442 (\xAB\u0442\u0443\u0434\u0430-\u043E\u0431\u0440\u0430\u0442\u043D\u043E\xBB)",value:"Shuttle"},{name:"\u0416\u0435\u0441\u0442 \u0441 \u043C\u043D\u043E\u0433\u043E\u043A\u0440\u0430\u0442\u043D\u044B\u043C \u043C\u0430\u0445\u043E\u043C",value:"Multi-S"},{name:"\u041E\u0442\u0441\u043A\u043E\u043A \u0432 \u043A\u043E\u043D\u0446\u0435 \u043C\u0430\u0445\u0430",value:"S Rebound"},{name:"\u041E\u0442\u0441\u043A\u043E\u043A \u0432 \u043A\u043E\u043D\u0446\u0435 \u0440\u0435\u0442\u0440\u0430\u043A\u0446\u0438\u0438",value:"R Rebound"},{name:"\u041C\u043D\u043E\u0433\u043E\u043A\u0440\u0430\u0442\u043D\u044B\u0439 \u043E\u0442\u0441\u043A\u043E\u043A \u0432 \u043A\u043E\u043D\u0446\u0435 \u043C\u0430\u0445\u0430",value:"Multi Rebound"},{name:"\u0414\u043B\u0438\u043D\u043D\u0430\u044F \u0440\u0435\u0442\u0440\u0430\u043A\u0446\u0438\u044F",value:"Long R"},{name:"\u041D\u0430\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u0436\u0435\u0441\u0442 \u0444\u0430\u0437\u044B \u0434\u0440\u0443\u0433\u043E\u0433\u043E \u0436\u0435\u0441\u0442\u0430",value:"(Lt|Rt) [PSHR] Overlap"},{name:"\u041F\u043E\u0432\u0442\u043E\u0440 \u043F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0433\u043E \u0436\u0435\u0441\u0442\u0430",value:"Repeat"},{name:"\u041E\u0431\u0440\u044B\u0432 \u0432 \u043E\u0441\u043D\u043E\u0432\u043D\u043E\u043C \u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0433\u043E \u0436\u0435\u0441\u0442\u0430",value:"GeBreakOff"},{name:"\u041E\u0431\u0440\u044B\u0432 \u0436\u0435\u0441\u0442\u0430 \u0431\u0435\u0437 \u043C\u0430\u0445\u043E\u0432\u043E\u0439 \u0444\u0430\u0437\u044B",value:"GeFalstart"}]}}])};a.extenders.autoMorphingValue=function(e,t){var n=function(e){for(var a=0;a<t.length;a++){var n=k(t[a],2),l=n[0],o=n[1];"string"==typeof l&&(l=new RegExp(O(l),"g")),e=e.replace(l,o)}return e},i=a.computed({read:e,write:function(t){var a=e();if("string"==typeof t){var l=n(t);l===a?t!==a&&e.notifySubscribers(l):e(l)}else if(t instanceof Array){for(var o=t.slice(),s=0,r;s<t.length;s++)r=t[s],"string"==typeof r&&(o[s]=n(r));a instanceof Array?JSON.stringify(o)===JSON.stringify(a)?JSON.stringify(t)!==JSON.stringify(a)&&e.notifySubscribers(o):e(o):e(o)}else t!==a&&e(t)}}).extend({notify:"always"});return i(e()),i};var St=function(){function e(t,n){c(this,e),this.type=t.type,this.unitType=a.observable(n),this.id=t.id,this.name=t.name,this.help=t.help||"",this.value=a.observable(null),this.virtualKeyboard=t.virtualKeyboard||!1,this.isRegEx=t.isRegEx||!1,this._SearchUnitProperty_tune(t)}return u(e,[{key:"_SearchUnitProperty_tune",value:function(e){e.valuesSubstitute&&(this.value=this.value.extend({autoMorphingValue:e.valuesSubstitute})),this.validChars=e.validChars,this.validitySusbstitutions=this.getValueSubstitutions(e)}},{key:"changeUnitType",value:function(e){this.unitType(e)}},{key:"getValueSubstitutions",value:function(e){var t=[];if(e.substitute&&e.substitute.length&&(t=e.substitute),e.validChars&&e.validChars.length){var a="[^".concat(O(e.validChars.join("")),"]");t.push([new RegExp(a,"g"),""])}return t}},{key:"makeValueValid",value:function(e){for(var t=0;t<this.validitySusbstitutions.length;t++){var a=k(this.validitySusbstitutions[t],2),n=a[0],l=a[1];e=e.replace(n,l)}return e}},{key:"insertText",value:function(e,a,n){return a=t(a).parents(".bmpp-valueList","li").find("input[type=\"text\"]").get(0),function(){var t=a.selectionStart||0;n(n().slice(0,t)+e+n().slice(t)),t+=e.length,a.selectionStart=t,a.selectionEnd=t,a.focus()}}},{key:"onHeaderClick",value:function(){}},{key:"getJsonProperties",value:function(){return a.computed(function(){var e=this.value(),t=[];return F(e)&&t.push({prop:this.id,value:e}),t},this)}},{key:"getBanner",value:function(){return""}},{key:"clear",value:function(){this.value(null)}},{key:"isHeaderClickable",get:function(){return!1}}],[{key:"createByType",value:function(e,t){var a={interval:Et,text:At,list:Vt}[e.type];if(a)return new a(e,t)}}]),e}(),Et=function(e){function t(e,n){var i;return c(this,t),i=v(this,b(t).call(this,e,n)),i.from=a.observable(null),i.to=a.observable(null),i.units=e.units||"",i.from.min=V(e.fromMin,e.min,0),i.from.max=V(e.fromMax,e.max,null),i.from.step=e.fromStep||e.step||1,i.from.placeholder=e.fromPlaceholder||"",i.from.label=e.fromLabel||"\u043E\u0442",i.from.banner=e.fromBanner||"\u043E\u0442 ##",i.from.onlyBanner=e.fromOnlyBanner||i.from.banner,i.to.min=V(e.toMin,e.min,0),i.to.max=V(e.toMax,e.max,null),i.to.step=e.toStep||e.step||1,i.to.placeholder=e.toPlaceholder||"",i.to.label=e.toLabel||"\u0434\u043E",i.to.banner=e.toBanner||"\u0434\u043E ##",i.to.onlyBanner=e.toOnlyBanner||i.to.banner,i.fromToBanner=e.fromToBanner||"".concat(i.from.banner," ").concat(i.to.banner),i.fromToEqualBanner=e.fromToEqualBanner||"##",i.unitsBanner=e.unitsBanner||e.units||"",i.tune(e),i}return m(t,e),u(t,[{key:"tune",value:function(e){this.validitySusbstitutions=this.getValueSubstitutions(e),this.tuneValue(),this.jsonProperties=this.getJsonProperties(),this.banner=this.getBanner()}},{key:"tuneValue",value:function(){a.computed(function(){var e=this.from(),t=this.to.peek();F(e)&&F(t)&&e>t&&this.from(t)},this),a.computed(function(){var e=this.from.peek(),t=this.to();F(e)&&F(t)&&t<e&&this.to(e)},this),a.computed(function(){var e=this.from(),t=this.to(),a={};F(e)||F(t)?(F(e)&&(a.min=e),F(t)&&(a.max=t),this.value(a)):this.value(null)},this)}},{key:"clear",value:function(){this.from(null),this.to(null)}},{key:"getJsonProperties",value:function(){return a.computed(function(){var e=this.value(),t=[];return F(e)&&(F(e.min)&&t.push({prop:"".concat(this.id,"_min"),value:e.min}),F(e.max)&&t.push({prop:"".concat(this.id,"_max"),value:e.max})),t},this)}},{key:"getValueSubstitutions",value:function(e){var a=h(b(t.prototype),"getValueSubstitutions",this).call(this,e);return a.push([/[^\d]/g,""]),a}},{key:"getBanner",value:function(){return a.computed(function(){var e=this.from(),t=this.to(),a="";return F(e)&&F(t)&&(e===t?a=I(this.fromToEqualBanner,e):a=I(I(this.fromToBanner,e),t)),F(e)&&!F(t)&&(a=I(this.from.onlyBanner,e)),!F(e)&&F(t)&&(a=I(this.to.onlyBanner,t)),a&&this.unitsBanner&&(a+=" "+this.unitsBanner),a},this)}}]),t}(St),At=function(e){function t(e,a){var n;return c(this,t),n=v(this,b(t).call(this,e,a)),n.placeholder=e.placeholder||"",n.tune(),n}return m(t,e),u(t,[{key:"tune",value:function(){this.jsonProperties=this.getJsonProperties(),this.banner=this.getBanner()}},{key:"getBanner",value:function(){return a.computed(function(){var e=this.value();return F(e)?"\xAB".concat(e,"\xBB"):""},this)}}]),t}(St),Vt=function(e){function t(e,n){var i;return c(this,t),i=v(this,b(t).call(this,e,n)),i.allIfEmpty=e.allIfEmpty||!1,i.displayValues=e.displayValues||!1,i.chosenValues=a.observableArray([]),i.valueList=new Ft(e.valueList,null,y(y(i))),i.tune(),i}return m(t,e),u(t,[{key:"tune",value:function(){this.tuneValue(),this.jsonProperties=this.getJsonProperties(),this.banner=this.getBanner()}},{key:"tuneValue",value:function(){a.computed(function(){var e=this.value,t=this.unwrapValues(this.chosenValues());if(this.unitType(),this.allIfEmpty&&0===t.length&&(t=this.getAllValues()),!(0<t.length))e(null);else if(this.valueList.isXOR&&1===t.length&&this.valueList.items.some(function(e){return e===t[0]})){var a=[];a=q(t[0],a),1===a.length?e(a[0]):e(a)}else{var n=[];t.map(function(e){n=q(e,n)}),e(n)}},this)}},{key:"clear",value:function(){this.valueList.uncheckAll()}},{key:"unwrapValues",value:function(e){return e.map(function(e){return a.isObservable(e)?e():e})}},{key:"onHeaderClick",value:function(){var e=this.valueList;this._lastActiveDepth=-1,this.isHeaderClickable&&(e.isOR?e.invertSelection():e.isXOR&&e.rotateSelection())}},{key:"getBanner",value:function(){return a.computed(function(){return this.chosenValues().map(function(e){for(var t="",a=0<e.list.depth&&e.list.parentItem,n;a&&a.addNameToChildNames;)t=a.name.slice(0,1).toLowerCase()+a.name.slice(1)+" "+t,a=0<a.list.depth&&a.list.parentItem;return n=e.editable?"\xAB".concat(e.value(),"\xBB"):e.name.slice(0,1).toLowerCase()+e.name.slice(1),t+n}).join("; ")},this)}},{key:"getAllValues",value:function(){var e=[],t=!1;return this.valueList.isXOR?e:(this.valueList.items.forEach(function(n){var i=n.disabled;i=a.isObservable(i)?i():i,F(n.value)&&!i&&e.push(n),n.childList&&(t=!0)}),t&&(e=[]),e)}},{key:"isHeaderClickable",get:function(){return this.valueList.hasNoChildList}}]),t}(St),Ft=function(){function e(t,a,n){var i=this;c(this,e),this.depth=null===a?0:a.list.depth+1,this.isOR=!t.xorValues,this.isXOR=!t.orValues,this.parentItem=a,this.listProperty=n,this.items=(this.isOR?t.orValues:t.xorValues).map(function(e){return new It(e,i)})}return u(e,[{key:"checkAll",value:function(){this.items.forEach(function(e){var t=e.childList;e.checked(!0),t&&t.isOR?t.checkAll():t&&t.isXOR&&t.checkFirst()})}},{key:"checkFirst",value:function(){var e=this.items[0],t=e.childList;e.checked(!0),t&&t.isOR?t.checkAll():t&&t.isXOR&&t.checkFirst()}},{key:"uncheckAll",value:function(){this.items.forEach(function(e){e.checked(!1),e.childList&&e.childList.uncheckAll()})}},{key:"uncheckAllBut",value:function(e){this.items.forEach(function(t){t!==e&&t.checked(!1)})}},{key:"invertSelection",value:function(){this.items.forEach(function(e){e.checked(!e.checked())})}},{key:"rotateSelection",value:function(){var e=!1,t=!1;this.items.forEach(function(a){a.checked()?(e=!0,a.checked(!1)):e&&!t&&(a.checked(!0),t=!0)}),e||this.items[0].checked(!0)}},{key:"hasNoChildList",get:function(){return this.items.every(function(e){return!e.childList})}}]),e}(),It=function(){function e(t,n){c(this,e),this.list=n,this.name=t.name,this.checked=a.observable(null),this.userChecked=this.getUserChecked(),this.editable=t.editable||!1,this.disabledInChannels=t.disabledInChannels,this.disabled=this.getDisabledInfo(),this.value=this.editable?this.getValidatingValue():t.value,this.childList=t.orValues||t.xorValues?new Ft(t,this,n.listProperty):null,this.addNameToChildNames=t.addNameToChildNames||!1,this.tuneXOR(),this.tuneParentList(),this.tuneChildList(),this.tuneEditable(),this.tuneCumulativeValue()}return u(e,[{key:"getDisabledInfo",value:function(){var e=this.disabledInChannels;return!!(e&&0<e.length)&&a.computed(function(){var t=this.list.listProperty.unitType().channel.id;return-1<e.indexOf(t)},this)}},{key:"getUserChecked",value:function(){return a.computed({read:this.checked,write:function(e){this.list.listProperty._lastActiveDepth=this.list.depth,this.checked(e)}},this)}},{key:"getValidatingValue",value:function(){var e=a.observable(""),t=a.computed({read:e,write:function(t){var a=e(),n=this.list.listProperty.makeValueValid(t);n===a?t!==a&&e.notifySubscribers(n):e(n)}},this).extend({notify:"always"});return t}},{key:"tuneXOR",value:function(){this.list.isXOR&&a.computed(function(){this.checked()&&this.list.uncheckAllBut(this)},this)}},{key:"tuneParentList",value:function(){0<this.list.depth&&a.computed(function(){var e=this.checked(),t=this.list,a=t.parentItem;this.isChangeStraightforward&&(e&&!a.checked.peek()?a.checked(!0):!e&&a.checked.peek()&&t.items.every(function(e){return!e.checked.peek()})&&a.checked(!1))},this)}},{key:"tuneChildList",value:function(){this.childList&&a.computed(function(){var e=this.checked(),t=this.childList;this.isChangeStraightforward&&(e&&t.isOR?t.checkAll():e&&t.isXOR?t.checkFirst():!e&&t.uncheckAll())},this)}},{key:"tuneEditable",value:function(){this.editable&&(a.computed(function(){this.checked(!!this.value())},this),a.computed(function(){this.checked()&&!this.value.peek()&&(this.isChangeStraightforward&&t(this.userChecked.checkboxComponent).siblings(".ui.input").first().find("input[type=\"text\"]").focus(),this.checked(!1))},this))}},{key:"tuneCumulativeValue",value:function(){a.computed(function(){var e=this.list.listProperty.chosenValues,t=this.disabled,n=this.checked();t=a.isObservable(t)?t():t,F(this.value)&&(e.remove(this),n&&!t&&(e.push(this),e.sort(D)))},this)}},{key:"getListItemOnDepth",value:function(e){return e===this.list.depth?this:this.list.parentItem.getListItemOnDepth(e)}},{key:"isChangeStraightforward",get:function(){return this.list.listProperty._lastActiveDepth===this.list.depth}}]),e}(),Ot=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,n=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];c(this,e),this.parentNode=t,this.childNodes=a.observableArray([]),this.relationsToParentNode=a.observableArray([]),this.depth=a.observable(t&&t.depth()+1||0),this.level=a.observable(0),this.serialNumber=a.observable(0),this.negative=a.observable(n),this.unitType=a.observable(null),this.unitProperties=a.observableArray([]),this.isEditStateForUnitType=a.observable(!0),this.tuneRelations(),this.tuneUnitProperties()}return u(e,[{key:"tuneRelations",value:function(){null!==this.parentNode&&this.addRelation()}},{key:"tuneUnitProperties",value:function(){var e=this.unitProperties;this.unitType.subscribe(function(t){null===t&&e([]);for(var a=e(),n=[],l=Lt[t.id]||Nt,o=function(e){var i=l[e],o=a.find(function(e){return e.id===i.id});if(o)o.changeUnitType(t),n.push(o);else{var s=St.createByType(i,t);n.push(s)}},s=0;s<l.length;s++)o(s);e(n)}),this.chosenUnitProperties=a.computed(function(){return e().filter(function(e){return a.unwrap(e.banner)})}),e.unitPropertiesMap=a.computed(function(){var t={};return e().forEach(function(e){t[e.id]=e}),t})}},{key:"addChild",value:function(){var t=!!(0<arguments.length&&void 0!==arguments[0])&&arguments[0],a=new e(this,t);this.childNodes.push(a)}},{key:"addRelation",value:function(){this.relationsToParentNode.push(new qt(this.parentNode,this))}},{key:"removeRelation",value:function(e){this.relationsToParentNode.remove(e)}},{key:"seppuku",value:function(){var e=!0,t=!1,a=void 0;try{for(var n=this.childNodes()[Symbol.iterator](),i,l;!(e=(i=n.next()).done);e=!0)l=i.value,l.seppuku()}catch(e){t=!0,a=e}finally{try{e||null==n.return||n.return()}finally{if(t)throw a}}this.relationsToParentNode.removeAll(),this.childNodes.removeAll(),this.parentNode.childNodes.remove(this)}},{key:"clearAllProperties",value:function(){this.chosenUnitProperties().forEach(function(e){return e.clear()})}},{key:"getTiersFromTemplate",value:function(e){if(0>e.indexOf("{"))return[e];var t=[],a={},l=this.unitProperties.unitPropertiesMap(),o=/^\{\s*|\s*\}$/g,s=/\{\s*[^{}]+\s*\}/g,r=function(e){return new RegExp("\\{\\s*".concat(e,"\\s*\\}"),"g")},d=e.match(s).map(function(e){return e.replace(o,"")});d.forEach(function(e){a[e]=l[e].value()||[]});for(var c=d.map(function(e){return a[e].length}),p=d.map(function(){return 0}),u=c.reduce(function(e,t){return e*t}),m=0,b;m<u;m++){b=e;for(var g=0;g<d.length;g++)b=b.replace(r(d[g]),a[d[g]][p[g]]);t.push(b),p=p.map(function(e,t,a){return 0<t?0===a[t-1]?(e+1)%c[t]:e:(e+1)%c[t]})}return t=t.sort(),t}}]),e}(),qt=function e(t,a){c(this,e),this.parentNode=t,this.childNode=a},Rt=[{id:"pears04",label:"Pears 04",query:"04"},{id:"pears22",label:"Pears 22",query:"22"},{id:"pears23",label:"Pears 23",query:"23"},{id:"pears35",label:"Pears 35",query:"35",disabled:!0},{id:"pears37",label:"Pears 37",query:"37",disabled:!0},{id:"pears39",label:"Pears 39",query:"39",disabled:!0}],Mt=[{id:"narration",label:"\u0420\u0430\u0441\u0441\u043A\u0430\u0437",query:"1st_telling"},{id:"dialogue",label:"\u0420\u0430\u0437\u0433\u043E\u0432\u043E\u0440",query:"Conversation"},{id:"retelling",label:"\u041F\u0435\u0440\u0435\u0441\u043A\u0430\u0437",query:"Retelling"}],Dt=function e(t,n){c(this,e),this.value=a.observable(!1),this.id=t.id,this.label=t.label,this.disabled=!!t.disabled,this.query=t.query,this.value.subscribe(function(){n(!0)})},Ht=function(){function e(t,a){c(this,e);var n=this;this.fields=[];var i=!0,l=!1,o=void 0;try{for(var s=t[Symbol.iterator](),r,d;!(i=(r=s.next()).done);i=!0)d=r.value,this.fields.push(new Dt(d,a))}catch(e){l=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(l)throw o}}this.invertSelection=function(){var e=!0,t=!1,a=void 0;try{for(var i=n.fields[Symbol.iterator](),l,o;!(e=(l=i.next()).done);e=!0)o=l.value,o.disabled||o.value(!o.value())}catch(e){t=!0,a=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}},this.clearSelection=function(){var e=!0,t=!1,a=void 0;try{for(var i=n.fields[Symbol.iterator](),l,o;!(e=(l=i.next()).done);e=!0)o=l.value,o.disabled||o.value(!1)}catch(e){t=!0,a=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw a}}}}return u(e,[{key:"getAllButDisabledQueryValues",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i=this.fields[Symbol.iterator](),l,o;!(t=(l=i.next()).done);t=!0)o=l.value,o.disabled||e.push(o.query)}catch(e){a=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"getAllCheckedQueryValues",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var i=this.fields[Symbol.iterator](),l,o;!(t=(l=i.next()).done);t=!0)o=l.value,!o.disabled&&o.value()&&e.push(o.query)}catch(e){a=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}return e}},{key:"getQueryValuesForJSON",value:function(){return this.areAllUnchecked?this.getAllButDisabledQueryValues():this.getAllCheckedQueryValues()}},{key:"areAllChecked",get:function(){return this.fields.every(function(e){return e.disabled||e.value()})}},{key:"areAllUnchecked",get:function(){return this.fields.every(function(e){return e.disabled||!e.value()})}}]),e}(),Ut={version:"test",subcorpus:"\u0437\u0430\u043F\u0438\u0441\u044C 04; \u044D\u0442\u0430\u043F \u0420\u0430\u0441\u0441\u043A\u0430\u0437",query:"\u042D\u0414\u0415, \u0441\u043E \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u043C\u0438 \u0441\u0432\u043E\u0439\u0441\u0442\u0432\u0430\u043C\u0438:\u2002\u0443\u0447\u0430\u0441\u0442\u043D\u0438\u043A\u0438:\u2002\u0440\u0430\u0441\u0441\u043A\u0430\u0437\u0447\u0438\u043A;\u2002\u0438\u043B\u043B\u043E\u043A\u0443\u0442\u0438\u0432\u043D\u043E-\u0444\u0430\u0437\u043E\u0432\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435:\u2002\u043D\u0435\u043F\u043E\u043B\u043D\u043E\u0442\u0430 \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u0438 \u0432 \u043A\u043E\u043D\u0442\u0435\u043A\u0441\u0442\u0435 \u043D\u0435\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E\u0441\u0442\u0438;\u2002\u0434\u0432\u0438\u0436\u0435\u043D\u0438\u0435 \u0442\u043E\u043D\u0430 \u0432 \u0433\u043B\u0430\u0432\u043D\u043E\u043C \u0430\u043A\u0446\u0435\u043D\u0442\u0435:\u2002\u0432\u043E\u0441\u0445\u043E\u0434\u044F\u0449\u0435-\u0440\u043E\u0432\u043D\u043E\u0435.",results:[{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:6010,end:8490,before_begin:5250,after_end:8590},value:"N-vE005",value_transcription:"(\u02C0 0.06) (\u0250 0.53) \u041C\u044B \u0432\u0438\u0434\u0438\u043C\u02D7\u043C \u0441\u0435\u043B\u044C\u0441\u043A\u0438\u0439 /\u2013\u043F\u0435\u0439\u0437<u>\u0430</u>\u0436,,,",before_context:"N-vN001",before_context_transcription:"(\u0265 0.76)",after_context:"pN-004",after_context_transcription:"(0.10)"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:8590,end:9490,before_begin:8490,after_end:1e4},value:"N-vE006",value_transcription:"\u0441\u0435\u043B\u044C\u0441\u043A\u0430\u044F /\u2013\u043C<u>\u0435</u>\u0441\u0442\u043D\u043E\u0441\u0442\u044C,,,",before_context:"pN-004",before_context_transcription:"(0.10)",after_context:"N-vE007",after_context_transcription:"/\u2013\u0434\u043E\u0440<u>\u043E</u>\u0433\u0430,,,"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:9490,end:1e4,before_begin:8590,after_end:10880},value:"N-vE007",value_transcription:"/\u2013\u0434\u043E\u0440<u>\u043E</u>\u0433\u0430,,,",before_context:"N-vE006",before_context_transcription:"\u0441\u0435\u043B\u044C\u0441\u043A\u0430\u044F /\u2013\u043C<u>\u0435</u>\u0441\u0442\u043D\u043E\u0441\u0442\u044C,,,",after_context:"N-vE008",after_context_transcription:"\u2013\u2191\u0434\u0435\u0440<u>\u0435</u>\u0432\u044C\u044F<sup>\u026F</sup>, \u2248\u2248"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:22700,end:23700,before_begin:21180,after_end:24690},value:"N-vE014",value_transcription:"\u0442\u0430\u043A\u043E\u0439 /\u2013\u0442<u>\u043E</u>\u043B\u0441\u0442\u044B\u0439,,,",before_context:"N-vE013",before_context_transcription:"\u041F\u043E\u0445\u043E\u0436 \u043D\u0430 \u0414\u043C\u0438\u0442\u0440\u0438\u044F \\\u0411<u>\u044B</u>\u043A\u043E\u0432\u0430 \u0447\u0443\u0442\u044C-\u0447\u0443\u0442\u044C,",after_context:"N-vE015",after_context_transcription:"/\u2013\u043A\u0440\u0430\u0441\u043D\u043E\u043B<u>\u0438</u>\u0446\u044B\u0439,,,"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:23700,end:24690,before_begin:22700,after_end:24880},value:"N-vE015",value_transcription:"/\u2013\u043A\u0440\u0430\u0441\u043D\u043E\u043B<u>\u0438</u>\u0446\u044B\u0439,,,",before_context:"N-vE014",before_context_transcription:"\u0442\u0430\u043A\u043E\u0439 /\u2013\u0442<u>\u043E</u>\u043B\u0441\u0442\u044B\u0439,,,",after_context:"pN-008",after_context_transcription:"(0.19)"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:24880,end:25640,before_begin:24690,after_end:28380},value:"N-vE016",value_transcription:"\u0432 /\u2013\u0444<u>\u0430\u02D7\u0430</u>\u0440\u0442\u0443\u043A\u0435,,,",before_context:"pN-008",before_context_transcription:"(0.19)",after_context:"N-vE017",after_context_transcription:"\u0443 \u043D\u0435\u0433\u043E (\u0265 0.29) \u043D\u0430 \u0448\u0435\u0435 \u043A\u0440\u0430\u0441\u043D\u044B\u0439 \\\u043F\u043B\u0430\u0442<u>\u043E</u>\u043A \u2191\u0437\u0430\u0432\u044F\u0437\u0430\u043D,"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:32360,end:33110,before_begin:30800,after_end:35100},value:"N-vE020",value_transcription:"/\u2192\u0437\u0435\u043B<u>\u0451</u>\u043D\u044B\u0435,,,",before_context:"N-vE019",before_context_transcription:"\\\u0433\u0440\u0443\u0448\u0438\u02D7\u0438<sup>\u0259</sup> (\u0259 0.10) (\u02C0 0.10) /\u0431\u043E\u043B\u044C\u0448<u>\u0438</u>\u0435,",after_context:"N-vE021",after_context_transcription:"\u043D\u0430 /\u0432\u0438\u0434 \u0441\u043E\u0432\u0435\u0440\u0448\u0435\u043D\u043D\u043E \\\u0442\u0432\u0435\u0440\u0434\u043E\u043A<u>\u0430</u>\u043C\u0435\u043D\u043D\u044B\u0435<sup>\u026F</sup>."},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:53370,end:54550,before_begin:52790,after_end:54910},value:"N-vE028",value_transcription:"\u043E\u043D <em>\u0437\u0430\u043F\u043E\u043B\u043D\u044F\u0435\u0442</em> /\u0435\u0449<u>\u0451</u> \u2192\u043E\u0434\u043D\u0443,,,",before_context:"pN-012",before_context_transcription:"(0.57)",after_context:"N-vN010",after_context_transcription:"(\u0265 0.36)"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:181950,end:183520,before_begin:180620,after_end:183960},value:"N-vE107",value_transcription:"\u0432\u0435\u043B\u043E\u0441\u0438\u043F\u0435\u0434\u043E\u043C \u0435\u0433\u043E /\u2192\u043F\u0440\u0438\u0434\u0430\u0432<u>\u0438</u>\u043B\u043E,,,",before_context:"N-vE106",before_context_transcription:"{sw 0.15} (\u0250 0.36) \u043E\u043D /\\\u043B\u0435\u0436<u>\u0438\u02D7\u0438</u>\u0442<sup>\u0259</sup>,,,",after_context:"N-vN029",after_context_transcription:"(\u0265 0.15) {sm 0.28}"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:186460,end:187410,before_begin:184270,after_end:188170},value:"N-vE109",value_transcription:"\u043F\u043E\u0442\u0438\u0440\u0430\u0435\u0442 /\u2192\u043A\u043E\u043B<u>\u0435\u043D</u>\u043A\u0443,,,",before_context:"N-vE108",before_context_transcription:"(\u0259 0.63) \u043E\u043D (\u026F 0.31) &lt;\u043F=&gt; || /\u2193\u0441\u0430\u0434<u>\u0438</u>\u0442\u0441\u044F\u02D7\u0430,,,",after_context:"N-vE110",after_context_transcription:"\u0442\u0430\u043C \u0441\u043C\u043E\u0442\u0440\u0438\u0442 =="},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:265920,end:267310,before_begin:265280,after_end:267480},value:"N-vE159",value_transcription:"(\u0250 0.25) \u043E\u0442\u0434\u0430\u0451\u0442 \u0435\u043C\u0443 /\u2013\u0448\u043B<u>\u044F</u>\u043F\u0443,,,",before_context:"N-vE158",before_context_transcription:"\u2014 /\u2013\u0438\u0434<u>\u0451</u>\u0442,",after_context:"pN-060",after_context_transcription:"(0.17)"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:281930,end:283890,before_begin:281500,after_end:284240},value:"N-vE169",value_transcription:"(\u0250 0.13) \\\u0432\u044B\u0442\u0438\u0440\u0430\u0435\u0442 (\u0250 0.49) \u043E /\u2013\u0441\u0435\u0431<u>\u044F\u02D7\u0430</u>,,,",before_context:"N-vN042",before_context_transcription:"(\u0265 0.43)",after_context:"pN-064",after_context_transcription:"(0.34)"},{record_id:"pears04-mult-voc-manu.eaf",participant:"N",time:{begin:310320,end:312480,before_begin:309860,after_end:314110},value:"N-vE184",value_transcription:"\u0442\u0430\u043A \u0441\u043F\u043E\u043A\u043E\u0439\u043D\u043E \u043C\u0438\u043C\u043E \u043D\u0435\u0433\u043E /\u2013\u043F\u0440\u043E\u0445<u>\u043E</u>\u0434\u044F\u0442 \u0432\u0440\u0430\u0437\u0432\u0430\u043B\u043E\u0447\u043A\u0443,,,",before_context:"pN-070",before_context_transcription:"(0.47)",after_context:"N-vE185",after_context_transcription:"\u0438 /\u043E\u043D \u0432 \u043D\u0435\u0434\u043E\u0443\u043C\u0435\u043D\u0438\u0438 \u043D\u0430 \u043D\u0438\u0445 /\u2013\u0441\u043C<u>\u043E</u>\u0442\u0440\u0438\u0442,"}]};ne("Search Engine:","http://multidiscourse.ru:8080/search_annotations/SearchAnnotations");var Bt=new U;(function(e,a){e.bindingHandlers.popup={init:function(a,n,i){var l=e.unwrap(n()),o=i.get("popupOpts")||{};o.html=l,t(a).popup(o),e.unwrap(i.get("popupAdditionalShowOnClick"))&&t(a).click(function(){t(a).popup("show")})}},e.bindingHandlers.inlinePopup={init:function(a,n){var i=e.unwrap(n())||{inline:!0};t(a).popup(i)}},e.bindingHandlers.textLowercaseFirstChar={update:function(a,n){var i=e.unwrap(n());t(a).text(i.slice(0,1).toLowerCase()+i.slice(1))}},e.components.register("text-property",Ye),e.components.register("interval-property",se),e.components.register("bmpp-value-list",Je),e.components.register("list-property",re),e.components.register("search-unit-property",Ge),e.components.register("properties-pane",de),e.components.register("bmpp-checkbox",oe),e.components.register("query-pane",xe),e.components.register("subcorpus-pane",Qe),e.components.register("query-node",ge),e.components.register("query-node-relations",fe),e.components.register("search-unit-choice",We),e.components.register("results-list",Ee),e.components.register("results-pane",Fe),e.applyBindings(a)})(a,Bt);var $t=Symbol.keyFor(Bt.queryPane),jt=Symbol.keyFor(Bt.subcorpusPane),zt=Symbol.keyFor(Bt.resultsPane),Wt=Symbol.keyFor(Bt.resultsOptionsPane);ie.base("/bumppo-ghpages/09"),ie("/",function(){Bt.activePane(Bt.queryPane)}),ie("/".concat($t),function(){Bt.activePane(Bt.queryPane)}),ie("/".concat(jt),function(){Bt.activePane(Bt.subcorpusPane)}),ie("/".concat(zt),function(){Bt.canViewResults()?Bt.activePane(Bt.resultsPane):Bt.activePane(Bt.queryPane)}),ie("/".concat(Wt),function(){Bt.activePane(Bt.resultsOptionsPane)}),ie({hashbang:!0}),t(".bmpp-sidePane_menuItem").mouseover(function(){t(this).hasClass("disabled")||t(this).addClass("bmpp-sidePane_menuItem--hover")}),t(".bmpp-sidePane_menuItem").mouseout(function(){t(this).removeClass("bmpp-sidePane_menuItem--hover")}),t("#safetyCurtain").fadeOut()})(SVG,jQuery,ko);
//# sourceMappingURL=spa.js.map
