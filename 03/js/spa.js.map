{"version":3,"file":"spa.js","sources":["../../node_modules/style-inject/dist/style-inject.es.js","../../node_modules/debug/node_modules/ms/index.js","../../node_modules/debug/src/common.js","../../node_modules/debug/src/browser.js","../../src/scripts/log.js","../../node_modules/page/page.js","../../src/scripts/queryTree.js","../../src/scripts/linearizeTree.js","../../src/ko.components/queryPane.js","../../src/scripts/drawQueryTree.js","../../src/ko.components/queryNode.js","../../src/ko.components/queryNodeRelations.js","../../src/ko.components/checkbox.js","../../src/results_data.js","../../src/app.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\treturn createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","import debug from 'debug';\nconst log = debug('bumppo:log');\n\n// eslint-disable-next-line no-undef\nif (BUMPPO_ENV !== 'production') {\n  debug.enable('bumppo:*');\n  log('Logging is enabled!');\n} else {\n  debug.disable();\n}\n\nexport default log;\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.page = factory());\n}(this, (function () { 'use strict';\n\nvar isarray = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n/**\n * Expose `pathToRegexp`.\n */\nvar pathToRegexp_1 = pathToRegexp;\nvar parse_1 = parse;\nvar compile_1 = compile;\nvar tokensToFunction_1 = tokensToFunction;\nvar tokensToRegExp_1 = tokensToRegExp;\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g');\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {String} str\n * @return {Array}\n */\nfunction parse (str) {\n  var tokens = [];\n  var key = 0;\n  var index = 0;\n  var path = '';\n  var res;\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0];\n    var escaped = res[1];\n    var offset = res.index;\n    path += str.slice(index, offset);\n    index = offset + m.length;\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1];\n      continue\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path);\n      path = '';\n    }\n\n    var prefix = res[2];\n    var name = res[3];\n    var capture = res[4];\n    var group = res[5];\n    var suffix = res[6];\n    var asterisk = res[7];\n\n    var repeat = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n    var delimiter = prefix || '/';\n    var pattern = capture || group || (asterisk ? '.*' : '[^' + delimiter + ']+?');\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      pattern: escapeGroup(pattern)\n    });\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index);\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path);\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {String}   str\n * @return {Function}\n */\nfunction compile (str) {\n  return tokensToFunction(parse(str))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length);\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^' + tokens[i].pattern + '$');\n    }\n  }\n\n  return function (obj) {\n    var path = '';\n    var data = obj || {};\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i];\n\n      if (typeof token === 'string') {\n        path += token;\n\n        continue\n      }\n\n      var value = data[token.name];\n      var segment;\n\n      if (value == null) {\n        if (token.optional) {\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received \"' + value + '\"')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encodeURIComponent(value[j]);\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment;\n        }\n\n        continue\n      }\n\n      segment = encodeURIComponent(value);\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment;\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {String} str\n * @return {String}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys;\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {String}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {RegExp} path\n * @param  {Array}  keys\n * @return {RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g);\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        pattern: null\n      });\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {Array}  path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = [];\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source);\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options));\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {String} path\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  var tokens = parse(path);\n  var re = tokensToRegExp(tokens, options);\n\n  // Attach keys back to the regexp.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] !== 'string') {\n      keys.push(tokens[i]);\n    }\n  }\n\n  return attachKeys(re, keys)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {Array}  tokens\n * @param  {Array}  keys\n * @param  {Object} options\n * @return {RegExp}\n */\nfunction tokensToRegExp (tokens, options) {\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var route = '';\n  var lastToken = tokens[tokens.length - 1];\n  var endsWithSlash = typeof lastToken === 'string' && /\\/$/.test(lastToken);\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n\n    if (typeof token === 'string') {\n      route += escapeString(token);\n    } else {\n      var prefix = escapeString(token.prefix);\n      var capture = token.pattern;\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*';\n      }\n\n      if (token.optional) {\n        if (prefix) {\n          capture = '(?:' + prefix + '(' + capture + '))?';\n        } else {\n          capture = '(' + capture + ')?';\n        }\n      } else {\n        capture = prefix + '(' + capture + ')';\n      }\n\n      route += capture;\n    }\n  }\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithSlash ? route.slice(0, -2) : route) + '(?:\\\\/(?=$))?';\n  }\n\n  if (end) {\n    route += '$';\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 [keys]\n * @param  {Object}                [options]\n * @return {RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  keys = keys || [];\n\n  if (!isarray(keys)) {\n    options = keys;\n    keys = [];\n  } else if (!options) {\n    options = {};\n  }\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys, options)\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(path, keys, options)\n  }\n\n  return stringToRegexp(path, keys, options)\n}\n\npathToRegexp_1.parse = parse_1;\npathToRegexp_1.compile = compile_1;\npathToRegexp_1.tokensToFunction = tokensToFunction_1;\npathToRegexp_1.tokensToRegExp = tokensToRegExp_1;\n\n/**\n   * Module dependencies.\n   */\n\n  \n\n  /**\n   * Short-cuts for global-object checks\n   */\n\n  var hasDocument = ('undefined' !== typeof document);\n  var hasWindow = ('undefined' !== typeof window);\n  var hasHistory = ('undefined' !== typeof history);\n  var hasProcess = typeof process !== 'undefined';\n\n  /**\n   * Detect click event\n   */\n  var clickEvent = hasDocument && document.ontouchstart ? 'touchstart' : 'click';\n\n  /**\n   * To work properly with the URL\n   * history.location generated polyfill in https://github.com/devote/HTML5-History-API\n   */\n\n  var isLocation = hasWindow && !!(window.history.location || window.location);\n\n  /**\n   * The page instance\n   * @api private\n   */\n  function Page(options) {\n    // public things\n    this.callbacks = [];\n    this.exits = [];\n    this.current = '';\n    this.len = 0;\n\n    // private things\n    this._dispatch = true;\n    this._decodeURLComponents = true;\n    this._base = '';\n    this._strict = false;\n    this._running = false;\n    this._hashbang = false;\n\n    // bound functions\n    this._onclick = this._onclick.bind(this);\n    this._onpopstate = this._onpopstate.bind(this);\n\n    this.configure(options);\n  }\n\n  /**\n   * Configure the instance of page. This can be called multiple times.\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.configure = function(options) {\n    var opts = options || {};\n\n    this._window = opts.window || (hasWindow && window);\n    this._dispatch = opts.dispatch !== false;\n    this._decodeURLComponents = opts.decodeURLComponents !== false;\n    this._popstate = opts.popstate !== false && hasWindow;\n    this._click = opts.click !== false && hasDocument;\n    this._hashbang = !!opts.hashbang;\n\n    var _window = this._window;\n    if(this._popstate) {\n      _window.addEventListener('popstate', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('popstate', this._onpopstate, false);\n    }\n\n    if (this._click) {\n      _window.document.addEventListener(clickEvent, this._onclick, false);\n    } else if(hasDocument) {\n      _window.document.removeEventListener(clickEvent, this._onclick, false);\n    }\n\n    if(this._hashbang && hasWindow && !hasHistory) {\n      _window.addEventListener('hashchange', this._onpopstate, false);\n    } else if(hasWindow) {\n      _window.removeEventListener('hashchange', this._onpopstate, false);\n    }\n  };\n\n  /**\n   * Get or set basepath to `path`.\n   *\n   * @param {string} path\n   * @api public\n   */\n\n  Page.prototype.base = function(path) {\n    if (0 === arguments.length) return this._base;\n    this._base = path;\n  };\n\n  /**\n   * Gets the `base`, which depends on whether we are using History or\n   * hashbang routing.\n\n   * @api private\n   */\n  Page.prototype._getBase = function() {\n    var base = this._base;\n    if(!!base) return base;\n    var loc = hasWindow && this._window && this._window.location;\n    return (hasWindow && this._hashbang && loc && loc.protocol === 'file:') ? loc.pathname : base;\n  };\n\n  /**\n   * Get or set strict path matching to `enable`\n   *\n   * @param {boolean} enable\n   * @api public\n   */\n\n  Page.prototype.strict = function(enable) {\n    if (0 === arguments.length) return this._strict;\n    this._strict = enable;\n  };\n\n\n  /**\n   * Bind with the given `options`.\n   *\n   * Options:\n   *\n   *    - `click` bind to click events [true]\n   *    - `popstate` bind to popstate [true]\n   *    - `dispatch` perform initial dispatch [true]\n   *\n   * @param {Object} options\n   * @api public\n   */\n\n  Page.prototype.start = function(options) {\n    this.configure(options);\n\n    if (!this._dispatch) return;\n    this._running = true;\n\n    var url;\n    if(isLocation) {\n      var window = this._window;\n      var loc = window.location;\n\n      if(this._hashbang && ~loc.hash.indexOf('#!')) {\n        url = loc.hash.substr(2) + loc.search;\n      } else if (this._hashbang) {\n        url = loc.search + loc.hash;\n      } else {\n        url = loc.pathname + loc.search + loc.hash;\n      }\n    }\n\n    this.replace(url, null, true, this._dispatch);\n  };\n\n  /**\n   * Unbind click and popstate event handlers.\n   *\n   * @api public\n   */\n\n  Page.prototype.stop = function() {\n    if (!this._running) return;\n    this.current = '';\n    this.len = 0;\n    this._running = false;\n\n    var window = this._window;\n    hasDocument && window.document.removeEventListener(clickEvent, this._onclick, false);\n    hasWindow && window.removeEventListener('popstate', this._onpopstate, false);\n    hasWindow && window.removeEventListener('hashchange', this._onpopstate, false);\n  };\n\n  /**\n   * Show `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} dispatch\n   * @param {boolean=} push\n   * @return {!Context}\n   * @api public\n   */\n\n  Page.prototype.show = function(path, state, dispatch, push) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    if (this._dispatch) this.dispatch(ctx, prev);\n    if (false !== ctx.handled && false !== push) ctx.pushState();\n    return ctx;\n  };\n\n  /**\n   * Goes back in the history\n   * Back should always let the current route push state and then go back.\n   *\n   * @param {string} path - fallback path to go back if no more history exists, if undefined defaults to page.base\n   * @param {Object=} state\n   * @api public\n   */\n\n  Page.prototype.back = function(path, state) {\n    var page = this;\n    if (this.len > 0) {\n      var window = this._window;\n      // this may need more testing to see if all browsers\n      // wait for the next tick to go back in history\n      hasHistory && window.history.back();\n      this.len--;\n    } else if (path) {\n      setTimeout(function() {\n        page.show(path, state);\n      });\n    } else {\n      setTimeout(function() {\n        page.show(page._getBase(), state);\n      });\n    }\n  };\n\n  /**\n   * Register route to redirect from one path to other\n   * or just redirect to another route\n   *\n   * @param {string} from - if param 'to' is undefined redirects to 'from'\n   * @param {string=} to\n   * @api public\n   */\n  Page.prototype.redirect = function(from, to) {\n    var inst = this;\n\n    // Define route from a path to another\n    if ('string' === typeof from && 'string' === typeof to) {\n      page.call(this, from, function(e) {\n        setTimeout(function() {\n          inst.replace(/** @type {!string} */ (to));\n        }, 0);\n      });\n    }\n\n    // Wait for the push state and replace it with another\n    if ('string' === typeof from && 'undefined' === typeof to) {\n      setTimeout(function() {\n        inst.replace(from);\n      }, 0);\n    }\n  };\n\n  /**\n   * Replace `path` with optional `state` object.\n   *\n   * @param {string} path\n   * @param {Object=} state\n   * @param {boolean=} init\n   * @param {boolean=} dispatch\n   * @return {!Context}\n   * @api public\n   */\n\n\n  Page.prototype.replace = function(path, state, init, dispatch) {\n    var ctx = new Context(path, state, this),\n      prev = this.prevContext;\n    this.prevContext = ctx;\n    this.current = ctx.path;\n    ctx.init = init;\n    ctx.save(); // save before dispatching, which may redirect\n    if (false !== dispatch) this.dispatch(ctx, prev);\n    return ctx;\n  };\n\n  /**\n   * Dispatch the given `ctx`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n\n  Page.prototype.dispatch = function(ctx, prev) {\n    var i = 0, j = 0, page = this;\n\n    function nextExit() {\n      var fn = page.exits[j++];\n      if (!fn) return nextEnter();\n      fn(prev, nextExit);\n    }\n\n    function nextEnter() {\n      var fn = page.callbacks[i++];\n\n      if (ctx.path !== page.current) {\n        ctx.handled = false;\n        return;\n      }\n      if (!fn) return unhandled.call(page, ctx);\n      fn(ctx, nextEnter);\n    }\n\n    if (prev) {\n      nextExit();\n    } else {\n      nextEnter();\n    }\n  };\n\n  /**\n   * Register an exit route on `path` with\n   * callback `fn()`, which will be called\n   * on the previous context when a new\n   * page is visited.\n   */\n  Page.prototype.exit = function(path, fn) {\n    if (typeof path === 'function') {\n      return this.exit('*', path);\n    }\n\n    var route = new Route(path, null, this);\n    for (var i = 1; i < arguments.length; ++i) {\n      this.exits.push(route.middleware(arguments[i]));\n    }\n  };\n\n  /**\n   * Handle \"click\" events.\n   */\n\n  /* jshint +W054 */\n  Page.prototype._onclick = function(e) {\n    if (1 !== this._which(e)) return;\n\n    if (e.metaKey || e.ctrlKey || e.shiftKey) return;\n    if (e.defaultPrevented) return;\n\n    // ensure link\n    // use shadow dom when available if not, fall back to composedPath()\n    // for browsers that only have shady\n    var el = e.target;\n    var eventPath = e.path || (e.composedPath ? e.composedPath() : null);\n\n    if(eventPath) {\n      for (var i = 0; i < eventPath.length; i++) {\n        if (!eventPath[i].nodeName) continue;\n        if (eventPath[i].nodeName.toUpperCase() !== 'A') continue;\n        if (!eventPath[i].href) continue;\n\n        el = eventPath[i];\n        break;\n      }\n    }\n\n    // continue ensure link\n    // el.nodeName for svg links are 'a' instead of 'A'\n    while (el && 'A' !== el.nodeName.toUpperCase()) el = el.parentNode;\n    if (!el || 'A' !== el.nodeName.toUpperCase()) return;\n\n    // check if link is inside an svg\n    // in this case, both href and target are always inside an object\n    var svg = (typeof el.href === 'object') && el.href.constructor.name === 'SVGAnimatedString';\n\n    // Ignore if tag has\n    // 1. \"download\" attribute\n    // 2. rel=\"external\" attribute\n    if (el.hasAttribute('download') || el.getAttribute('rel') === 'external') return;\n\n    // ensure non-hash for the same path\n    var link = el.getAttribute('href');\n    if(!this._hashbang && this._samePath(el) && (el.hash || '#' === link)) return;\n\n    // Check for mailto: in the href\n    if (link && link.indexOf('mailto:') > -1) return;\n\n    // check target\n    // svg target is an object and its desired value is in .baseVal property\n    if (svg ? el.target.baseVal : el.target) return;\n\n    // x-origin\n    // note: svg links that are not relative don't call click events (and skip page.js)\n    // consequently, all svg links tested inside page.js are relative and in the same origin\n    if (!svg && !this.sameOrigin(el.href)) return;\n\n    // rebuild path\n    // There aren't .pathname and .search properties in svg links, so we use href\n    // Also, svg href is an object and its desired value is in .baseVal property\n    var path = svg ? el.href.baseVal : (el.pathname + el.search + (el.hash || ''));\n\n    path = path[0] !== '/' ? '/' + path : path;\n\n    // strip leading \"/[drive letter]:\" on NW.js on Windows\n    if (hasProcess && path.match(/^\\/[a-zA-Z]:\\//)) {\n      path = path.replace(/^\\/[a-zA-Z]:\\//, '/');\n    }\n\n    // same page\n    var orig = path;\n    var pageBase = this._getBase();\n\n    if (path.indexOf(pageBase) === 0) {\n      path = path.substr(pageBase.length);\n    }\n\n    if (this._hashbang) path = path.replace('#!', '');\n\n    if (pageBase && orig === path) return;\n\n    e.preventDefault();\n    this.show(orig);\n  };\n\n  /**\n   * Handle \"populate\" events.\n   * @api private\n   */\n\n  Page.prototype._onpopstate = (function () {\n    var loaded = false;\n    if ( ! hasWindow ) {\n      return function() {};\n    }\n    if (hasDocument && document.readyState === 'complete') {\n      loaded = true;\n    } else {\n      window.addEventListener('load', function() {\n        setTimeout(function() {\n          loaded = true;\n        }, 0);\n      });\n    }\n    return function onpopstate(e) {\n      if (!loaded) return;\n      var page = this;\n      if (e.state) {\n        var path = e.state.path;\n        page.replace(path, e.state);\n      } else if (isLocation) {\n        var loc = page._window.location;\n        page.show(loc.pathname + loc.search + loc.hash, undefined, undefined, false);\n      }\n    };\n  })();\n\n  /**\n   * Event button.\n   */\n  Page.prototype._which = function(e) {\n    e = e || (hasWindow && this._window.event);\n    return null == e.which ? e.button : e.which;\n  };\n\n  /**\n   * Convert to a URL object\n   * @api private\n   */\n  Page.prototype._toURL = function(href) {\n    var window = this._window;\n    if(typeof URL === 'function' && isLocation) {\n      return new URL(href, window.location.toString());\n    } else if (hasDocument) {\n      var anc = window.document.createElement('a');\n      anc.href = href;\n      return anc;\n    }\n  };\n\n  /**\n   * Check if `href` is the same origin.\n   * @param {string} href\n   * @api public\n   */\n\n  Page.prototype.sameOrigin = function(href) {\n    if(!href || !isLocation) return false;\n\n    var url = this._toURL(href);\n    var window = this._window;\n\n    var loc = window.location;\n    return loc.protocol === url.protocol &&\n      loc.hostname === url.hostname &&\n      loc.port === url.port;\n  };\n\n  /**\n   * @api private\n   */\n  Page.prototype._samePath = function(url) {\n    if(!isLocation) return false;\n    var window = this._window;\n    var loc = window.location;\n    return url.pathname === loc.pathname &&\n      url.search === loc.search;\n  };\n\n  /**\n   * Remove URL encoding from the given `str`.\n   * Accommodates whitespace in both x-www-form-urlencoded\n   * and regular percent-encoded form.\n   *\n   * @param {string} val - URL component to decode\n   * @api private\n   */\n  Page.prototype._decodeURLEncodedURIComponent = function(val) {\n    if (typeof val !== 'string') { return val; }\n    return this._decodeURLComponents ? decodeURIComponent(val.replace(/\\+/g, ' ')) : val;\n  };\n\n  /**\n   * Create a new `page` instance and function\n   */\n  function createPage(options) {\n    var pageInstance = new Page();\n\n    function pageFn(/* args */) {\n      return page.apply(pageInstance, arguments);\n    }\n\n    // Copy all of the things over. In 2.0 maybe we use setPrototypeOf\n    pageFn.callbacks = pageInstance.callbacks;\n    pageFn.exits = pageInstance.exits;\n    pageFn.base = pageInstance.base.bind(pageInstance);\n    pageFn.strict = pageInstance.strict.bind(pageInstance);\n    pageFn.start = pageInstance.start.bind(pageInstance);\n    pageFn.stop = pageInstance.stop.bind(pageInstance);\n    pageFn.show = pageInstance.show.bind(pageInstance);\n    pageFn.back = pageInstance.back.bind(pageInstance);\n    pageFn.redirect = pageInstance.redirect.bind(pageInstance);\n    pageFn.replace = pageInstance.replace.bind(pageInstance);\n    pageFn.dispatch = pageInstance.dispatch.bind(pageInstance);\n    pageFn.exit = pageInstance.exit.bind(pageInstance);\n    pageFn.configure = pageInstance.configure.bind(pageInstance);\n    pageFn.sameOrigin = pageInstance.sameOrigin.bind(pageInstance);\n\n    pageFn.create = createPage;\n\n    Object.defineProperty(pageFn, 'len', {\n      get: function(){\n        return pageInstance.len;\n      },\n      set: function(val) {\n        pageInstance.len = val;\n      }\n    });\n\n    Object.defineProperty(pageFn, 'current', {\n      get: function(){\n        return pageInstance.current;\n      },\n      set: function(val) {\n        pageInstance.current = val;\n      }\n    });\n\n    // In 2.0 these can be named exports\n    pageFn.Context = Context;\n    pageFn.Route = Route;\n\n    return pageFn;\n  }\n\n  /**\n   * Register `path` with callback `fn()`,\n   * or route `path`, or redirection,\n   * or `page.start()`.\n   *\n   *   page(fn);\n   *   page('*', fn);\n   *   page('/user/:id', load, user);\n   *   page('/user/' + user.id, { some: 'thing' });\n   *   page('/user/' + user.id);\n   *   page('/from', '/to')\n   *   page();\n   *\n   * @param {string|!Function|!Object} path\n   * @param {Function=} fn\n   * @api public\n   */\n\n  function page(path, fn) {\n    // <callback>\n    if ('function' === typeof path) {\n      return page.call(this, '*', path);\n    }\n\n    // route <path> to <callback ...>\n    if ('function' === typeof fn) {\n      var route = new Route(/** @type {string} */ (path), null, this);\n      for (var i = 1; i < arguments.length; ++i) {\n        this.callbacks.push(route.middleware(arguments[i]));\n      }\n      // show <path> with [state]\n    } else if ('string' === typeof path) {\n      this['string' === typeof fn ? 'redirect' : 'show'](path, fn);\n      // start [options]\n    } else {\n      this.start(path);\n    }\n  }\n\n  /**\n   * Unhandled `ctx`. When it's not the initial\n   * popstate then redirect. If you wish to handle\n   * 404s on your own use `page('*', callback)`.\n   *\n   * @param {Context} ctx\n   * @api private\n   */\n  function unhandled(ctx) {\n    if (ctx.handled) return;\n    var current;\n    var page = this;\n    var window = page._window;\n\n    if (page._hashbang) {\n      current = isLocation && this._getBase() + window.location.hash.replace('#!', '');\n    } else {\n      current = isLocation && window.location.pathname + window.location.search;\n    }\n\n    if (current === ctx.canonicalPath) return;\n    page.stop();\n    ctx.handled = false;\n    isLocation && (window.location.href = ctx.canonicalPath);\n  }\n\n  /**\n   * Initialize a new \"request\" `Context`\n   * with the given `path` and optional initial `state`.\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} state\n   * @api public\n   */\n\n  function Context(path, state, pageInstance) {\n    var _page = this.page = pageInstance || page;\n    var window = _page._window;\n    var hashbang = _page._hashbang;\n\n    var pageBase = _page._getBase();\n    if ('/' === path[0] && 0 !== path.indexOf(pageBase)) path = pageBase + (hashbang ? '#!' : '') + path;\n    var i = path.indexOf('?');\n\n    this.canonicalPath = path;\n    this.path = path.replace(pageBase, '') || '/';\n    if (hashbang) this.path = this.path.replace('#!', '') || '/';\n\n    this.title = (hasDocument && window.document.title);\n    this.state = state || {};\n    this.state.path = path;\n    this.querystring = ~i ? _page._decodeURLEncodedURIComponent(path.slice(i + 1)) : '';\n    this.pathname = _page._decodeURLEncodedURIComponent(~i ? path.slice(0, i) : path);\n    this.params = {};\n\n    // fragment\n    this.hash = '';\n    if (!hashbang) {\n      if (!~this.path.indexOf('#')) return;\n      var parts = this.path.split('#');\n      this.path = this.pathname = parts[0];\n      this.hash = _page._decodeURLEncodedURIComponent(parts[1]) || '';\n      this.querystring = this.querystring.split('#')[0];\n    }\n  }\n\n  /**\n   * Push state.\n   *\n   * @api private\n   */\n\n  Context.prototype.pushState = function() {\n    var page = this.page;\n    var window = page._window;\n    var hashbang = page._hashbang;\n\n    page.len++;\n    if (hasHistory) {\n        window.history.pushState(this.state, this.title,\n          hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Save the context state.\n   *\n   * @api public\n   */\n\n  Context.prototype.save = function() {\n    var page = this.page;\n    if (hasHistory && page._window.location.protocol !== 'file:') {\n        page._window.history.replaceState(this.state, this.title,\n          page._hashbang && this.path !== '/' ? '#!' + this.path : this.canonicalPath);\n    }\n  };\n\n  /**\n   * Initialize `Route` with the given HTTP `path`,\n   * and an array of `callbacks` and `options`.\n   *\n   * Options:\n   *\n   *   - `sensitive`    enable case-sensitive routes\n   *   - `strict`       enable strict matching for trailing slashes\n   *\n   * @constructor\n   * @param {string} path\n   * @param {Object=} options\n   * @api private\n   */\n\n  function Route(path, options, page) {\n    var _page = this.page = page || globalPage;\n    var opts = options || {};\n    opts.strict = opts.strict || page._strict;\n    this.path = (path === '*') ? '(.*)' : path;\n    this.method = 'GET';\n    this.regexp = pathToRegexp_1(this.path, this.keys = [], opts);\n  }\n\n  /**\n   * Return route middleware with\n   * the given callback `fn()`.\n   *\n   * @param {Function} fn\n   * @return {Function}\n   * @api public\n   */\n\n  Route.prototype.middleware = function(fn) {\n    var self = this;\n    return function(ctx, next) {\n      if (self.match(ctx.path, ctx.params)) return fn(ctx, next);\n      next();\n    };\n  };\n\n  /**\n   * Check if this route matches `path`, if so\n   * populate `params`.\n   *\n   * @param {string} path\n   * @param {Object} params\n   * @return {boolean}\n   * @api private\n   */\n\n  Route.prototype.match = function(path, params) {\n    var keys = this.keys,\n      qsIndex = path.indexOf('?'),\n      pathname = ~qsIndex ? path.slice(0, qsIndex) : path,\n      m = this.regexp.exec(decodeURIComponent(pathname));\n\n    if (!m) return false;\n\n    for (var i = 1, len = m.length; i < len; ++i) {\n      var key = keys[i - 1];\n      var val = this.page._decodeURLEncodedURIComponent(m[i]);\n      if (val !== undefined || !(hasOwnProperty.call(params, key.name))) {\n        params[key.name] = val;\n      }\n    }\n\n    return true;\n  };\n\n\n  /**\n   * Module exports.\n   */\n\n  var globalPage = createPage();\n  var page_js = globalPage;\n  page.default = globalPage;\n\nreturn page_js;\n\n})));\n","import ko from 'knockout';\n\nexport class treeNode {\n  constructor(parentNode=null) {\n    this.parentNode = parentNode;\n    this.childNodes = ko.observableArray([]);\n    this.relationsToParentNode = ko.observableArray([]);\n\n    this.depth = ko.observable(parentNode && (parentNode.depth() + 1) || 0);\n    this.level = ko.observable(0);\n    this.serialNumber = ko.observable(0);\n\n    if (parentNode !== null) {\n      this.addRelation();\n    }\n  }\n  addChild() {\n    var child = new treeNode(this);\n    this.childNodes.push(child);\n  }\n  addRelation() {\n    this.relationsToParentNode.push(new nodesRelation(this.parentNode, this));\n  }\n  removeRelation(relation) {\n    this.relationsToParentNode.remove(relation);\n  }\n  seppuku() {\n    for (let childNode of this.childNodes()) {\n      childNode.seppuku();\n    }\n    this.relationsToParentNode.removeAll();\n    this.childNodes.removeAll();\n    this.parentNode.childNodes.remove(this);\n  }\n}\n\nexport class nodesRelation {\n  constructor(parentNode, childNode) {\n    this.parentNode = parentNode;\n    this.childNode = childNode;\n  }\n}\n","export default function linearizeTree(node, treeLinearForm, isFirstChild=true) {\n  var depth = node.depth(),\n      levels = linearizeTree.levels;\n  if (depth == 0) {\n    levels = linearizeTree.levels = [0];\n    linearizeTree.serialNumber = 1;\n  } else if (depth !== 0 && !(levels instanceof Array)) {\n    throw 'Нарушена правильная работа функции линеаризации дерева';\n  } else if (isFirstChild) {\n    levels.push(0);\n  } else if (levels.length === depth + 1) {\n    levels[levels.length - 1] += 1;\n  } else {\n    let mx = Math.max(...levels.slice(depth));\n    levels.splice(depth);\n    levels[depth] = mx + 1;\n  }\n  node.level(levels.slice(-1)[0]);\n  node.serialNumber(linearizeTree.serialNumber);\n  linearizeTree.serialNumber += 1;\n  treeLinearForm.push(node);\n  if (node.childNodes().length > 0) {\n    for (let i = 0; i < node.childNodes().length; i++) {\n      let childNode = node.childNodes()[i],\n          isFirstChild = i == 0;\n      treeLinearForm = linearizeTree(childNode, treeLinearForm, isFirstChild);\n    }\n  }\n  return treeLinearForm;\n}\n","import ko from 'knockout';\nimport SVG from 'svg.js';\nimport linearizeTree from '../scripts/linearizeTree.js';\n\nconst svgDrawElementId = 'svgQueryTree',\n      template = `\n\n  <div class=\"bmpp-queryPane\">\n    <div class=\"bmpp-queryTree\" id=\"${ svgDrawElementId }\">\n    </div>\n    <div class=\"bmpp-query\" data-bind=\"foreach: linearizedQueryTree\">\n\n      <query-node-relations params=\"node: $data, draw: $component.svgDraw\"\n        data-bind=\"visible: $data.parentNode\">\n      </query-node-relations>\n\n      <query-node params=\"node: $data, draw: $component.svgDraw\"></query-node>\n\n    </div>\n  </div>\n\n`;\n\n// eslint-disable-next-line no-unused-vars\nvar viewModelFactory = (params, componentInfo) => {\n\n  var redrawTree = (linearizedTree) => {\n    for (let treeNode of linearizedTree) {\n      if (treeNode.svgSlug) {\n        treeNode.svgSlug.position();\n      }\n    }\n    for (let treeNode of linearizedTree.slice(1)) {\n      if (treeNode.svgRelationLine) {\n        treeNode.svgRelationLine.redrawLine();\n      }\n    }\n  };\n\n  var linearizedQueryTree = ko.computed(() => {\n    let tree = linearizeTree(params.queryTree, []);\n    for (let node of tree) {\n      node.childNodes();\n    }\n    return tree;\n  });\n  linearizedQueryTree.subscribe(redrawTree);\n\n  var domObserver = new MutationObserver(function() {\n    if (redrawTree.timeoutID !== undefined) {\n      clearTimeout(redrawTree.timeoutID);\n    }\n    redrawTree.timeoutID = setTimeout(() => {\n      redrawTree(linearizedQueryTree());\n    }, 30);\n    return true;\n  });\n  domObserver.observe(componentInfo.element, { childList: true, subtree: true,\n    attributes: false, characterData: false, attributeOldValue: false,\n    characterDataOldValue: false });\n\n  let viewModel = {\n    linearizedQueryTree: linearizedQueryTree,\n    svgDraw: SVG(svgDrawElementId).size('100%', '100%')\n  };\n\n  return viewModel;\n};\n\n// KnockoutJS component\nexport default {\n  viewModel: { createViewModel: viewModelFactory },\n  template: template\n};\n","import $ from 'jquery';\nimport ko from 'knockout';\n\nconst circRadius = 15,\n      circTopOffset = 13,\n      circLeftOffset = 83,\n      color = '#aaa';\n\nexport class Slug {\n  constructor(draw, element, treeNode) {\n    let svgCircle = this.drawCircle(draw);\n    let svgText = this.drawText(draw, treeNode.serialNumber());\n\n    this.draw = draw;\n    this.element = element;\n    this.treeNode = treeNode;\n    this.svgText = svgText;\n    this.svg = draw.group().add(svgCircle).add(svgText);\n\n    this.fineTune();\n  }\n  drawCircle(draw) {\n    let circle = draw.circle(circRadius * 2)\n      .attr({ fill: 'none', stroke: color, 'stroke-width': 1 })\n      .cx(circRadius).cy(circRadius);\n    return circle;\n  }\n  drawText(draw, text) {\n    let t = draw.text(String(text)).attr({ fill: color })\n      .cx(circRadius).cy(circRadius);\n    return t;\n  }\n  fineTune() {\n    this.position();\n    this.treeNode.serialNumber.subscribe((value) => {\n      this.changeText(value);\n    });\n    ko.utils.domNodeDisposal.addDisposeCallback(this.element, () => {\n      this.dispose();\n    });\n    this.treeNode.svgSlug = this;\n  }\n  position() {\n    let x = circLeftOffset,\n        y1 = $(this.element).offset().top,\n        y2 = $(this.element).parent().offset().top,\n        y = Math.abs(y1 - y2) + circTopOffset;\n    this.svg.x(x).y(y);\n  }\n  changeText(text) {\n    this.svgText = this.svgText.text(String(text));\n  }\n  dispose(){\n    this.svg.remove();\n    this.svgText.remove();\n  }\n}\n\nexport class RelationLine {\n  constructor(draw, element, treeNode) {\n    this.draw = draw;\n    this.element = element;\n    this.treeNode = treeNode;\n    this.svg = this.drawLine(draw, treeNode);\n\n    this.fineTune();\n  }\n\n  fineTune() {\n    ko.utils.domNodeDisposal.addDisposeCallback(this.element, () => {\n      this.dispose();\n    });\n    this.treeNode.svgRelationLine = this;\n  }\n\n  static calculatePath(slug1, slug2, level, relationsElementHeight) {\n    let s1 = slug1.svg,\n        s2 = slug2.svg,\n        r = circRadius,\n        b1 = r * 0.5,\n        b2 = relationsElementHeight - r * 3,\n        s = r * 1,\n        m1 = r * 1.3,\n        m2 = r * 0.5,\n        l1 = (level < 3) ? level : 2,\n        l2 = (level < 3) ? 0 : level - 2,\n        c = r * 3,\n        d = r * 4.5,\n        path;\n\n    if (level === 0) {\n      path = `M ${s1.cx()} ${s1.cy()+r}\n              L ${s2.cx()} ${s2.cy()-r}`;\n    } else {\n      path = `M ${s1.cx()} ${s1.cy()+r}\n              V ${s1.cy()+r+b1}\n              C ${s1.cx()} ${s1.cy()+r+b1+c}\n                ${s1.cx()-s-m1*l1-m2*l2} ${s1.cy()+r+b1+d-c}\n                ${s1.cx()-s-m1*l1-m2*l2} ${s1.cy()+r+b1+d}\n              V ${s2.cy()-r-b2-d}\n              C ${s2.cx()-s-m1*l1-m2*l2} ${s2.cy()-r-b2-d+c}\n                ${s2.cx()} ${s2.cy()-r-b2-c}\n                ${s2.cx()} ${s2.cy()-r-b2}\n              V ${s2.cy()-r}`;\n    }\n    return path;\n  }\n  drawLine(draw, treeNode) {\n    let path = '';\n    if (treeNode.parentNode) {\n      let parentSlug = treeNode.parentNode.svgSlug.svg;\n      path = `M ${parentSlug.cx()} ${parentSlug.cy()+circRadius}\n              L ${parentSlug.cx()} ${parentSlug.cy()+circRadius}`;\n    }\n    return draw.path(path).fill('none').stroke({ color: '#aaa', width: 1 });\n  }\n  redrawLine() {\n    let slug1 = this.treeNode.parentNode && this.treeNode.parentNode.svgSlug,\n        slug2 = this.treeNode.svgSlug,\n        level = this.treeNode.level,\n        rh = $(this.element).height();\n    if (slug1 && slug2 && level) {\n      let path = RelationLine.calculatePath(slug1, slug2, level(), rh);\n      this.svg.plot(path);\n    }\n  }\n\n  dispose(){\n    this.svg.remove();\n  }\n}\n","import { Slug } from '../scripts/drawQueryTree.js';\n\nconst template = `\n\n  <div class=\"bmpp-queryElement ui segment\">\n    <div class=\"bmpp-queryTreeHandles\">\n\n      <i class=\"ui disabled green down arrow icon\"\n        data-bind=\"click: node.addChild.bind(node)\"></i>\n\n      <i class=\"ui disabled red down arrow icon\"\n        data-bind=\"click: node.addChild.bind(node)\"></i>\n\n      <i class=\"ui disabled grey close icon\"\n        data-bind=\"visible: node.depth() > 0,\n          click: node.seppuku.bind(node)\"></i>\n\n    </div>\n  </div>\n\n`;\n\nvar viewModelFactory = (params, componentInfo) => {\n  let node = params.node;\n  new Slug(params.draw, componentInfo.element, node);\n  return { node: node };\n};\n\nexport default {\n  viewModel: { createViewModel: viewModelFactory },\n  template: template\n};\n","import { RelationLine } from '../scripts/drawQueryTree.js';\n\nconst template = `\n\n  <div class=\"bmpp-queryDistances ui segments\" data-bind=\"foreach: relations,\n    css: { 'bmpp-queryDistances--toOtherElement': $component.node.level() > 0 }\">\n\n    <div class=\"bmpp-queryDistance ui secondary segment\">\n      <div class=\"bmpp-queryTreeHandles\">\n\n        <i class=\"ui small disabled grey plus icon\"\n          data-bind=\"visible: $index() === $component.relations().length - 1,\n            click: $component.node.addRelation.bind($component.node)\"></i>\n\n        <i class=\"ui small icon\"\n          data-bind=\"visible: $index() !== $component.relations().length - 1\">\n        </i>\n\n        <i class=\"ui small disabled grey close icon\"\n          data-bind=\"visible: $index() > 0,\n          click: $component.node.removeRelation.bind($component.node, $data)\">\n        </i>\n\n      </div>\n    </div>\n\n  </div>\n\n`;\n\nvar viewModelFactory = (params, componentInfo) => {\n  let node = params.node;\n  new RelationLine(params.draw, componentInfo.element, node);\n  return { relations: node.relationsToParentNode, node: node };\n};\n\nexport default {\n  viewModel: { createViewModel: viewModelFactory },\n  template: template\n};\n","import $ from 'jquery';\n\nconst template = `\n\n  <div class=\"ui checkbox\">\n    <input type=\"checkbox\" class=\"hidden\"\n      data-bind=\"checked: value, attr: { tabindex: tabindex }\">\n    <label data-bind=\"text: label\"></label>\n  </div>\n\n`;\n\nvar viewModelFactory = (params, componentInfo) => {\n  let element = $(componentInfo.element);\n  element.checkbox({\n    onChecked: () => { params.value(true); },\n    onUnchecked: () => { params.value(false); }\n  });\n  return {\n    element: element,\n    label: params.label,\n    tabindex: params.tabindex,\n    value: params.value\n  };\n};\n\nexport default {\n  viewModel: { createViewModel: viewModelFactory },\n  template: template\n};\n","/* eslint-disable */\nexport default [\n  {\"start\": 2.2, \"end\": 3.74, \"edu\": \"N-vE002\", \"transcription\": \"Годов \\семидесятых я думаю.\", \"comment\": \"\"},\n  {\"start\": 6.01, \"end\": 8.49, \"edu\": \"N-vE005\", \"transcription\": \"(ˀ 0.06) (ɐ 0.53) Мы видим˗м сельский /–пейзаж,,,\", \"comment\": \"\"},\n  {\"start\": 25.64, \"end\": 28.38, \"edu\": \"N-vE017\", \"transcription\": \"у него (ɥ 0.29) на шее красный \\платок ↑завязан,\", \"comment\": \"\"},\n  {\"start\": 50.03, \"end\": 52.79, \"edu\": \"N-vE027\", \"transcription\": \"там уже \\стоят (0.13) (ɥ 0.26) \\парочка корзин /полных,\", \"comment\": \"\"},\n  {\"start\": 65.95, \"end\": 68.35, \"edu\": \"N-vE034\", \"transcription\": \"так всё очень не= || делает /нежно и \\любовноɯ.\", \"comment\": \"\"},\n  {\"start\": 106.37, \"end\": 107.35, \"edu\": \"N-vE064\", \"transcription\": \"велосипед /большой,\", \"comment\": \"\"},\n  {\"start\": 107.35, \"end\": 108.55, \"edu\": \"N-vE065\", \"transcription\": \"какие \\старые /советские,\", \"comment\": \"\"},\n  {\"start\": 131.45, \"end\": 133.38, \"edu\": \"N-vE079\", \"transcription\": \"видит \\фермер собирает там –груши,\", \"comment\": \"\"},\n  {\"start\": 133.38, \"end\": 134.92, \"edu\": \"N-vE080\", \"transcription\": \"полностью поглощён этим /занятием,\", \"comment\": \"\"},\n  {\"start\": 151.01, \"end\": 152.5, \"edu\": \"N-vE090\", \"transcription\": \"с этой тяжеленной /↑корзиной,\", \"comment\": \"\"},\n  {\"start\": 192.57, \"end\": 193.79, \"edu\": \"N-vE117\", \"transcription\": \"он один из них /приспускает,\", \"comment\": \"Произносит [прыспускает].\"},\n  {\"start\": 228.21, \"end\": 230.18, \"edu\": \"N-vE136\", \"transcription\": \"(ˀ 0.11) Они \\помогают ему /подняться=,\", \"comment\": \"\"},\n  {\"start\": 230.18, \"end\": 231.17, \"edu\": \"N-vE137\", \"transcription\": \"(ə 0.04) (\\Двое /помогают,\", \"comment\": \"Произносит [помогаюƟ].\"},\n  {\"start\": 231.17, \"end\": 233.48, \"edu\": \"N-vE138\", \"transcription\": \"/ˀодин так и сту= || и \\стучит своей этой \\↑штукой.)\", \"comment\": \"\"},\n  {\"start\": 255.66, \"end\": 256.96, \"edu\": \"N-vE152\", \"transcription\": \"/поднимают они ↑её,\", \"comment\": \"\"},\n  {\"start\": 271.63, \"end\": 272.32, \"edu\": \"N-vE161\", \"transcription\": \"взамен \\шляпы,\", \"comment\": \"\"},\n  {\"start\": 445.39, \"end\": 447.44, \"edu\": \"N-vE238\", \"transcription\": \"/Корзины прям просто под \\грушей /стоят,\", \"comment\": \"\"},\n  {\"start\": 480.57, \"end\": 481.36, \"edu\": \"N-vE246\", \"transcription\": \"Ничего не \\видно, \", \"comment\": \"\"},\n  {\"start\": 596.29, \"end\": 597.69, \"edu\": \"N-vE289\", \"transcription\": \"я бы \\свалилась точно.\", \"comment\": \"Второе слово произносит [салилась]. Последнее слово — шепотом.\"},\n  {\"start\": 766.41, \"end\": 768.09, \"edu\": \"N-vE325\", \"transcription\": \"Как˗к какая-то \\əшпанаɯ.\", \"comment\": \"\"},\n  {\"start\": 770.11, \"end\": 772.28, \"edu\": \"N-vE326\", \"transcription\": \"Ну /сначала как-то они \\подозрительно выглядят,\", \"comment\": \"\"},\n  {\"start\": 772.28, \"end\": 773.34, \"edu\": \"N-vE327\", \"transcription\": \"но /вообще \\нормально.\", \"comment\": \"\"},\n  {\"start\": 773.34, \"end\": 774.34, \"edu\": \"N-vE328\", \"transcription\": \"Они ему /помогают...\", \"comment\": \"\"},\n  {\"start\": 801.81, \"end\": 802.15, \"edu\": \"N-vE329\", \"transcription\": \"(ɯ 0.19) \\Да,\", \"comment\": \"\"},\n  {\"start\": 802.15, \"end\": 803.46, \"edu\": \"N-vE330\", \"transcription\": \"он /садится,\", \"comment\": \"\"},\n  {\"start\": 803.63, \"end\": 805.6, \"edu\": \"N-vE331\", \"transcription\": \"(ə 0.16) см= || смотрит свою /–коленку,,, ≈≈\", \"comment\": \"\"},\n  {\"start\": 805.6, \"end\": 806.23, \"edu\": \"N-vE332\", \"transcription\": \"Ну прямо \\так, \", \"comment\": \"\"},\n  {\"start\": 806.23, \"end\": 807.02, \"edu\": \"N-vE333\", \"transcription\": \"он /лежал сначала,\", \"comment\": \"\"},\n  {\"start\": 841.78, \"end\": 843.47, \"edu\": \"N-vE343\", \"transcription\": \"ˀОни ст= || \\поднимают ему всё это,\", \"comment\": \"\"},\n  {\"start\": 928.41, \"end\": 928.89, \"edu\": \"N-vE364\", \"transcription\": \"/Не- \\н˗не!,\", \"comment\": \"\"},\n  {\"start\": 1092.77, \"end\": 1095.3, \"edu\": \"N-vE385\", \"transcription\": \"мы /ничего˗оə || (0.40) уже не \\поправляем /никого.\", \"comment\": \"\"},\n];\n","import './styles/main.css';\nimport './scripts/log.js';\n\nimport $ from 'jquery';\nimport ko from 'knockout';\nimport page from 'page';\nimport videojs from 'video.js';\n\nimport { treeNode } from './scripts/queryTree.js';\nimport koQueryPaneComponent from './ko.components/queryPane.js';\nimport koQueryNodeComponent from './ko.components/queryNode.js';\nimport koQueryNodeRelationsComponent from './ko.components/queryNodeRelations.js';\nimport koCheckboxComponent from './ko.components/checkbox.js';\n\nimport resultsData from './results_data.js';\n\nvar videoPlayer = videojs('bmpp-videoPlayer');\nvar records = ['pears04', 'pears22', 'pears23',\n               'pears35', 'pears37', 'pears39'];\nvar recordPhases = ['narration', 'dialogue', 'retelling'];\n\nfunction checkboxForm(props) {\n  let self = this;\n\n  for (let prop of props) {\n    this[prop] = ko.observable(false);\n  }\n\n  this.invertSelection = () => {\n    for (let prop of props) {\n      self[prop](!self[prop]());\n    }\n  };\n  this.clearSelection = () => {\n    for (let prop of props) {\n      self[prop](false);\n    }\n  };\n}\n\nfunction viewModel() {\n  let self = this;\n\n  this.queryPane = Symbol.for('query'),\n  this.subcorpusPane = Symbol.for('subcorpus'),\n  this.resultsPane = Symbol.for('results'),\n  this.resultsOptionsPane = Symbol.for('resoptions');\n  this.panes = [this.queryPane, this.subcorpusPane, this.resultsPane,\n                this.resultsOptionsPane];\n\n  this.activePane = ko.observable();\n  this.queryTreeInited = false;\n\n  this.switchOnQueryPane = () => { self.activePane(self.queryPane); };\n  this.switchOnSubcorpusPane = () => { self.activePane(self.subcorpusPane); };\n  this.switchOnResultsPane = () => { self.activePane(self.resultsPane); };\n  this.switchOnResultsOptionsPane = () => {\n    self.activePane(self.resultsOptionsPane); };\n\n  this.isQueryPaneOn = ko.computed(\n    () => this.activePane() === self.queryPane);\n  this.isSubcorpusPaneOn = ko.computed(\n    () => this.activePane() === self.subcorpusPane);\n  this.isResultsPaneOn = ko.computed(\n    () => this.activePane() === self.resultsPane);\n  this.isResultsOptionsPaneOn = ko.computed(\n    () => this.activePane() === self.resultsOptionsPane);\n\n  ko.computed(() => {\n    var activePane = self.activePane();\n    if (activePane) {\n      page(`/${Symbol.keyFor(activePane)}`);\n      videoPlayer.pause();\n    }\n  });\n\n  this.results = resultsData;\n  this.playVideo = function (result) {\n    videoPlayer.currentTime(result.start);\n    videoPlayer.play();\n  };\n\n  let tree = new treeNode();\n  tree.addChild();\n  tree.addChild();\n  tree.addChild();\n  tree.addChild();\n  tree.childNodes()[1].addChild();\n  tree.childNodes()[1].addChild();\n  tree.childNodes()[1].addChild();\n  tree.childNodes()[1].addChild();\n  tree.childNodes()[1].addRelation();\n  tree.childNodes()[3].addRelation();\n  tree.childNodes()[3].addRelation();\n\n  this.queryTree = tree;\n\n  this.subcorpus = {\n    records: new checkboxForm(records),\n    recordPhases: new checkboxForm(recordPhases)\n  };\n  this.subcorpusClearSelection = () => {\n    self.subcorpus.records.clearSelection();\n    self.subcorpus.recordPhases.clearSelection();\n  };\n}\nconst vM = new viewModel();\n\nko.components.register('bmpp-checkbox', koCheckboxComponent);\nko.components.register('query-pane', koQueryPaneComponent);\nko.components.register('query-node', koQueryNodeComponent);\nko.components.register('query-node-relations', koQueryNodeRelationsComponent);\nko.options.deferUpdates = true;\nko.applyBindings(vM);\n\n// Настройка клиентской маршрутизации\nconst queryURL = Symbol.keyFor(vM.queryPane),\n      subcorpusURL = Symbol.keyFor(vM.subcorpusPane),\n      resultsURL = Symbol.keyFor(vM.resultsPane),\n      resultsOptionsURL = Symbol.keyFor(vM.resultsOptionsPane);\n\npage.base('/bumppo-ghpages/BUMPPO_VERSION');\npage('/', () => { vM.activePane(vM.queryPane); });\npage(`/${queryURL}`, () => { vM.activePane(vM.queryPane); });\npage(`/${subcorpusURL}`, () => { vM.activePane(vM.subcorpusPane); });\npage(`/${resultsURL}`, () => { vM.activePane(vM.resultsPane); });\npage(`/${resultsOptionsURL}`, () => { vM.activePane(vM.resultsOptionsPane); });\npage({ hashbang: true });\n\n\n$('.icon').popup({ inline: true });\n\nvideoPlayer.ready(function () {\n  var volume = videoPlayer.volume();\n  videoPlayer.volume(0);\n  videoPlayer.currentTime(0);\n  videoPlayer.pause();\n  videoPlayer.volume(volume);\n});\n"],"names":["css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","s","m","h","d","w","y","val","options","length","str","String","match","exec","n","parseFloat","toLowerCase","parse","isNaN","long","ms","msAbs","Math","abs","plural","fmtLong","round","fmtShort","Error","JSON","stringify","name","isPlural","env","selectColor","namespace","hash","i","charCodeAt","createDebug","colors","prevTime","debug","args","enabled","self","curr","Number","Date","diff","prev","coerce","unshift","index","replace","format","formatter","formatters","call","splice","formatArgs","log","apply","useColors","color","destroy","extend","init","instances","push","indexOf","this","delimiter","toNamespace","regexp","toString","substring","default","stack","message","disable","namespaces","names","map","skips","join","enable","save","split","len","RegExp","substr","instance","test","humanize","require$$0","Object","keys","forEach","key","load","exports","console","module","c","lastC","storage","setItem","removeItem","error","r","getItem","process","DEBUG","window","__nwjs","navigator","userAgent","documentElement","WebkitAppearance","firebug","exception","table","parseInt","$1","localStorage","localstorage","j","v","isarray","Array","isArray","arr","prototype","pathToRegexp_1","pathToRegexp","parse_1","compile_1","tokensToFunction","tokensToFunction_1","tokensToRegExp_1","tokensToRegExp","PATH_REGEXP","res","tokens","path","escaped","offset","slice","prefix","capture","group","suffix","asterisk","repeat","optional","pattern","escapeGroup","matches","obj","data","token","segment","value","TypeError","encodeURIComponent","escapeString","attachKeys","re","flags","sensitive","strict","end","route","lastToken","endsWithSlash","groups","source","regexpToRegexp","parts","arrayToRegexp","stringToRegexp","compile","loaded","hasDocument","hasWindow","hasHistory","history","hasProcess","clickEvent","ontouchstart","isLocation","location","Page","callbacks","exits","current","_dispatch","_decodeURLComponents","_base","_strict","_running","_hashbang","_onclick","bind","_onpopstate","configure","page","fn","Route","arguments","middleware","start","Context","state","pageInstance","_page","_window","hashbang","pageBase","_getBase","canonicalPath","title","querystring","_decodeURLEncodedURIComponent","pathname","params","globalPage","opts","method","dispatch","decodeURLComponents","_popstate","popstate","_click","click","addEventListener","removeEventListener","base","loc","protocol","url","search","stop","show","ctx","prevContext","handled","pushState","back","setTimeout","redirect","from","to","inst","e","nextEnter","href","nextExit","exit","_which","metaKey","ctrlKey","shiftKey","defaultPrevented","el","target","eventPath","composedPath","nodeName","toUpperCase","parentNode","svg","constructor","hasAttribute","getAttribute","link","_samePath","baseVal","sameOrigin","orig","preventDefault","readyState","undefined","event","which","button","_toURL","URL","anc","hostname","port","decodeURIComponent","replaceState","next","qsIndex","hasOwnProperty","createPage","pageFn","create","defineProperty","get","set","page_js","factory","treeNode","childNodes","ko","observableArray","relationsToParentNode","depth","observable","level","serialNumber","addRelation","child","nodesRelation","relation","remove","seppuku","removeAll","childNode","linearizeTree","node","treeLinearForm","isFirstChild","levels","mx","max","viewModel","createViewModel","componentInfo","redrawTree","linearizedTree","svgSlug","position","svgRelationLine","redrawLine","linearizedQueryTree","computed","tree","queryTree","subscribe","MutationObserver","timeoutID","clearTimeout","observe","element","childList","subtree","attributes","characterData","attributeOldValue","characterDataOldValue","svgDraw","SVG","size","template","Slug","draw","svgCircle","drawCircle","svgText","drawText","add","fineTune","circle","circRadius","attr","fill","stroke","cx","cy","text","_this","changeText","utils","domNodeDisposal","addDisposeCallback","dispose","y1","$","top","y2","parent","x","RelationLine","drawLine","_this2","parentSlug","width","slug1","slug2","rh","height","calculatePath","plot","relationsElementHeight","s1","s2","b2","l1","l2","relations","checkbox","onChecked","onUnchecked","label","tabindex","videoPlayer","videojs","records","recordPhases","checkboxForm","props","invertSelection","prop","clearSelection","vM","queryPane","Symbol","for","subcorpusPane","resultsPane","resultsOptionsPane","panes","activePane","queryTreeInited","switchOnQueryPane","switchOnSubcorpusPane","switchOnResultsPane","switchOnResultsOptionsPane","isQueryPaneOn","isSubcorpusPaneOn","isResultsPaneOn","isResultsOptionsPaneOn","keyFor","pause","results","resultsData","playVideo","result","currentTime","play","addChild","subcorpus","subcorpusClearSelection","components","register","koCheckboxComponent","koQueryPaneComponent","koQueryNodeComponent","koQueryNodeRelationsComponent","deferUpdates","applyBindings","queryURL","subcorpusURL","resultsURL","resultsOptionsURL","popup","inline","ready","volume"],"mappings":"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"}