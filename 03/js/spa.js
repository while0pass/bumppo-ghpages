!function(e,t,n,i){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,i=i&&i.hasOwnProperty("default")?i.default:i;!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.bmpp-curtains{background-color:#fff;position:fixed;z-index:1000;top:0;bottom:0;left:0;right:0}.bmpp-uiLayout{display:-webkit-box;display:-ms-flexbox;display:flex;width:100vw;height:100vh}.bmpp-sidePane{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;width:14vw;min-width:208px;min-width:13rem;border-left:1px solid rgba(34,36,38,.15);border-right:1px solid rgba(34,36,38,.15);overflow-y:hidden}.bmpp-sidePane_menuItem{padding:1em!important;border-bottom:1px solid rgba(34,36,38,.15);cursor:pointer}.bmpp-sidePane_menuItem-noPadding{padding:0!important}.bmpp-sidePane_searchButton{margin-left:.3em!important}.bmpp-queryMap{margin:-1em 0 0!important;width:100%;height:15em;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1IiBoZWlnaHQ9IjUiPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0wIDBoNXY1SDB6Ii8+PHBhdGggZD0iTTAgNWw1LTV6bTYtMUw0IDZ6bS03LTNsMi0yeiIgc3Ryb2tlPSIjODg4Ii8+PC9zdmc+");background-repeat:repeat}.bmpp-main{display:-webkit-box;display:-ms-flexbox;display:flex;width:100vw;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;overflow-y:scroll;padding-bottom:3em}.bmpp-resultsOptionsPane,.bmpp-subcorpusPane{width:55em;margin:3em auto auto 6em!important}.bmpp-nearLabelIcon{margin:0;padding:0;position:absolute;right:.2em;top:.8em}.bmpp-resultsPane{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.bmpp-resultsPane_video{border-bottom:1px solid rgba(34,36,38,.15);background-color:#eee}.bmpp-resultsPane_results{overflow-y:scroll}.bmpp-queryPane{display:-webkit-box;display:-ms-flexbox;display:flex}.bmpp-query,.bmpp-queryPane{-webkit-box-flex:1;-ms-flex:1 0 auto;flex:1 0 auto}.bmpp-query{max-width:70em;padding:3em 7em 0 0;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.bmpp-queryTree{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;width:9em}.bmpp-queryElement{min-height:10em}.bmpp-queryTreeHandles{position:absolute;right:auto;left:100%;width:6em;padding-left:1em}.bmpp-queryTreeHandles .ui.icon{cursor:pointer}.bmpp-queryDistances{margin:1em auto!important}.bmpp-queryDistances--toOtherElement{margin-top:3em!important}.bmpp-queryDistance{min-height:4em}.bmpp-subcorpusForm{height:12em}.bmpp-subcorpusForm header{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui.popup{min-width:15em!important}');"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=1e3,a=60*o,s=60*a,c=24*s,l=7*c,u=365.25*c,d=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"weeks":case"week":case"w":return n*l;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=c)return h(e,t,c,"day");if(t>=s)return h(e,t,s,"hour");if(t>=a)return h(e,t,a,"minute");if(t>=o)return h(e,t,o,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=c)return Math.round(e/c)+"d";if(t>=s)return Math.round(e/s)+"h";if(t>=a)return Math.round(e/a)+"m";if(t>=o)return Math.round(e/o)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function h(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}var p=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let o;function a(...e){if(!a.enabled)return;const t=a,i=Number(new Date),r=i-(o||i);t.diff=r,t.prev=o,t.curr=i,o=i,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(i,r)=>{if("%%"===i)return i;s++;const o=n.formatters[r];if("function"==typeof o){const n=e[s];i=o.call(t,n),e.splice(s,1),s--}return i}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return a.namespace=e,a.enabled=n.enabled(e),a.useColors=n.useColors(),a.color=t(e),a.destroy=i,a.extend=r,"function"==typeof n.init&&n.init(a),n.instances.push(a),a}function i(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function r(e,t){return n(this.namespace+(void 0===t?":":t)+e)}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){const e=[...n.names.map(o),...n.skips.map(o).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(t=0;t<r;t++)i[t]&&("-"===(e=i[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,i;for(t=0,i=n.skips.length;t<i;t++)if(n.skips[t].test(e))return!1;for(t=0,i=n.names.length;t<i;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=d,Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n},f=r(function(e,t){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=p(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});f.log,f.formatArgs,f.save,f.load,f.useColors,f.storage,f.colors,f("bumppo:log");f.disable();var m=r(function(e,t){e.exports=function(){var e=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},t=f,n=s,i=function(e){return c(s(e))},r=c,o=p,a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e){for(var t,n=[],i=0,r=0,o="";null!=(t=a.exec(e));){var s=t[0],c=t[1],l=t.index;if(o+=e.slice(r,l),r=l+s.length,c)o+=c[1];else{o&&(n.push(o),o="");var d=t[2],h=t[3],p=t[4],f=t[5],m=t[6],v=t[7],b="+"===m||"*"===m,y="?"===m||"*"===m,g=d||"/",w=p||f||(v?".*":"[^"+g+"]+?");n.push({name:h||i++,prefix:d||"",delimiter:g,optional:y,repeat:b,pattern:u(w)})}}return r<e.length&&(o+=e.substr(r)),o&&n.push(o),n}function c(t){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"==typeof t[i]&&(n[i]=new RegExp("^"+t[i].pattern+"$"));return function(i){for(var r="",o=i||{},a=0;a<t.length;a++){var s=t[a];if("string"!=typeof s){var c,l=o[s.name];if(null==l){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to be defined')}if(e(l)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but received "'+l+'"');if(0===l.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var u=0;u<l.length;u++){if(c=encodeURIComponent(l[u]),!n[a].test(c))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');r+=(0===u?s.prefix:s.delimiter)+c}}else{if(c=encodeURIComponent(l),!n[a].test(c))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but received "'+c+'"');r+=s.prefix+c}}else r+=s}return r}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function h(e){return e.sensitive?"":"i"}function p(e,t){for(var n=(t=t||{}).strict,i=!1!==t.end,r="",o=e[e.length-1],a="string"==typeof o&&/\/$/.test(o),s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)r+=l(c);else{var u=l(c.prefix),d=c.pattern;c.repeat&&(d+="(?:"+u+d+")*"),d=c.optional?u?"(?:"+u+"("+d+"))?":"("+d+")?":u+"("+d+")",r+=d}}return n||(r=(a?r.slice(0,-2):r)+"(?:\\/(?=$))?"),r+=i?"$":n&&a?"":"(?=\\/|$)",new RegExp("^"+r,h(t))}function f(t,n,i){return e(n=n||[])?i||(i={}):(i=n,n=[]),t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)t.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return d(e,t)}(t,n):e(t)?function(e,t,n){for(var i=[],r=0;r<e.length;r++)i.push(f(e[r],t,n).source);return d(new RegExp("(?:"+i.join("|")+")",h(n)),t)}(t,n,i):function(e,t,n){for(var i=s(e),r=p(i,n),o=0;o<i.length;o++)"string"!=typeof i[o]&&t.push(i[o]);return d(r,t)}(t,n,i)}t.parse=n,t.compile=i,t.tokensToFunction=r,t.tokensToRegExp=o;var m,v="undefined"!=typeof document,b="undefined"!=typeof window,y="undefined"!=typeof history,g="undefined"!=typeof process,w=v&&document.ontouchstart?"touchstart":"click",C=b&&!(!window.history.location&&!window.location);function x(e){this.callbacks=[],this.exits=[],this.current="",this.len=0,this._dispatch=!0,this._decodeURLComponents=!0,this._base="",this._strict=!1,this._running=!1,this._hashbang=!1,this._onclick=this._onclick.bind(this),this._onpopstate=this._onpopstate.bind(this),this.configure(e)}function k(e,t){if("function"==typeof e)return k.call(this,"*",e);if("function"==typeof t)for(var n=new P(e,null,this),i=1;i<arguments.length;++i)this.callbacks.push(n.middleware(arguments[i]));else"string"==typeof e?this["string"==typeof t?"redirect":"show"](e,t):this.start(e)}function N(e,t,n){var i=this.page=n||k,r=i._window,o=i._hashbang,a=i._getBase();"/"===e[0]&&0!==e.indexOf(a)&&(e=a+(o?"#!":"")+e);var s=e.indexOf("?");if(this.canonicalPath=e,this.path=e.replace(a,"")||"/",o&&(this.path=this.path.replace("#!","")||"/"),this.title=v&&r.document.title,this.state=t||{},this.state.path=e,this.querystring=~s?i._decodeURLEncodedURIComponent(e.slice(s+1)):"",this.pathname=i._decodeURLEncodedURIComponent(~s?e.slice(0,s):e),this.params={},this.hash="",!o){if(!~this.path.indexOf("#"))return;var c=this.path.split("#");this.path=this.pathname=c[0],this.hash=i._decodeURLEncodedURIComponent(c[1])||"",this.querystring=this.querystring.split("#")[0]}}function P(e,n,i){this.page=i||_;var r=n||{};r.strict=r.strict||i._strict,this.path="*"===e?"(.*)":e,this.method="GET",this.regexp=t(this.path,this.keys=[],r)}x.prototype.configure=function(e){var t=e||{};this._window=t.window||b&&window,this._dispatch=!1!==t.dispatch,this._decodeURLComponents=!1!==t.decodeURLComponents,this._popstate=!1!==t.popstate&&b,this._click=!1!==t.click&&v,this._hashbang=!!t.hashbang;var n=this._window;this._popstate?n.addEventListener("popstate",this._onpopstate,!1):b&&n.removeEventListener("popstate",this._onpopstate,!1),this._click?n.document.addEventListener(w,this._onclick,!1):v&&n.document.removeEventListener(w,this._onclick,!1),this._hashbang&&b&&!y?n.addEventListener("hashchange",this._onpopstate,!1):b&&n.removeEventListener("hashchange",this._onpopstate,!1)},x.prototype.base=function(e){if(0===arguments.length)return this._base;this._base=e},x.prototype._getBase=function(){var e=this._base;if(e)return e;var t=b&&this._window&&this._window.location;return b&&this._hashbang&&t&&"file:"===t.protocol?t.pathname:e},x.prototype.strict=function(e){if(0===arguments.length)return this._strict;this._strict=e},x.prototype.start=function(e){if(this.configure(e),this._dispatch){var t;if(this._running=!0,C){var n=this._window,i=n.location;t=this._hashbang&&~i.hash.indexOf("#!")?i.hash.substr(2)+i.search:this._hashbang?i.search+i.hash:i.pathname+i.search+i.hash}this.replace(t,null,!0,this._dispatch)}},x.prototype.stop=function(){if(this._running){this.current="",this.len=0,this._running=!1;var e=this._window;v&&e.document.removeEventListener(w,this._onclick,!1),b&&e.removeEventListener("popstate",this._onpopstate,!1),b&&e.removeEventListener("hashchange",this._onpopstate,!1)}},x.prototype.show=function(e,t,n,i){var r=new N(e,t,this),o=this.prevContext;return this.prevContext=r,this.current=r.path,this._dispatch&&this.dispatch(r,o),!1!==r.handled&&!1!==i&&r.pushState(),r},x.prototype.back=function(e,t){var n=this;if(this.len>0){var i=this._window;y&&i.history.back(),this.len--}else e?setTimeout(function(){n.show(e,t)}):setTimeout(function(){n.show(n._getBase(),t)})},x.prototype.redirect=function(e,t){var n=this;"string"==typeof e&&"string"==typeof t&&k.call(this,e,function(e){setTimeout(function(){n.replace(t)},0)}),"string"==typeof e&&void 0===t&&setTimeout(function(){n.replace(e)},0)},x.prototype.replace=function(e,t,n,i){var r=new N(e,t,this),o=this.prevContext;return this.prevContext=r,this.current=r.path,r.init=n,r.save(),!1!==i&&this.dispatch(r,o),r},x.prototype.dispatch=function(e,t){var n=0,i=0,r=this;function o(){var t=r.callbacks[n++];if(e.path===r.current)return t?void t(e,o):function(e){if(!e.handled){var t=this._window;(this._hashbang?C&&this._getBase()+t.location.hash.replace("#!",""):C&&t.location.pathname+t.location.search)!==e.canonicalPath&&(this.stop(),e.handled=!1,C&&(t.location.href=e.canonicalPath))}}.call(r,e);e.handled=!1}t?function e(){var n=r.exits[i++];if(!n)return o();n(t,e)}():o()},x.prototype.exit=function(e,t){if("function"==typeof e)return this.exit("*",e);for(var n=new P(e,null,this),i=1;i<arguments.length;++i)this.exits.push(n.middleware(arguments[i]))},x.prototype._onclick=function(e){if(1===this._which(e)&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){var t=e.target,n=e.path||(e.composedPath?e.composedPath():null);if(n)for(var i=0;i<n.length;i++)if(n[i].nodeName&&"A"===n[i].nodeName.toUpperCase()&&n[i].href){t=n[i];break}for(;t&&"A"!==t.nodeName.toUpperCase();)t=t.parentNode;if(t&&"A"===t.nodeName.toUpperCase()){var r="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name;if(!t.hasAttribute("download")&&"external"!==t.getAttribute("rel")){var o=t.getAttribute("href");if((this._hashbang||!this._samePath(t)||!t.hash&&"#"!==o)&&!(o&&o.indexOf("mailto:")>-1)&&(r?!t.target.baseVal:!t.target)&&(r||this.sameOrigin(t.href))){var a=r?t.href.baseVal:t.pathname+t.search+(t.hash||"");a="/"!==a[0]?"/"+a:a,g&&a.match(/^\/[a-zA-Z]:\//)&&(a=a.replace(/^\/[a-zA-Z]:\//,"/"));var s=a,c=this._getBase();0===a.indexOf(c)&&(a=a.substr(c.length)),this._hashbang&&(a=a.replace("#!","")),c&&s===a||(e.preventDefault(),this.show(s))}}}}},x.prototype._onpopstate=(m=!1,b?(v&&"complete"===document.readyState?m=!0:window.addEventListener("load",function(){setTimeout(function(){m=!0},0)}),function(e){if(m)if(e.state){var t=e.state.path;this.replace(t,e.state)}else if(C){var n=this._window.location;this.show(n.pathname+n.search+n.hash,void 0,void 0,!1)}}):function(){}),x.prototype._which=function(e){return null==(e=e||b&&this._window.event).which?e.button:e.which},x.prototype._toURL=function(e){var t=this._window;if("function"==typeof URL&&C)return new URL(e,t.location.toString());if(v){var n=t.document.createElement("a");return n.href=e,n}},x.prototype.sameOrigin=function(e){if(!e||!C)return!1;var t=this._toURL(e),n=this._window,i=n.location;return i.protocol===t.protocol&&i.hostname===t.hostname&&i.port===t.port},x.prototype._samePath=function(e){if(!C)return!1;var t=this._window,n=t.location;return e.pathname===n.pathname&&e.search===n.search},x.prototype._decodeURLEncodedURIComponent=function(e){return"string"!=typeof e?e:this._decodeURLComponents?decodeURIComponent(e.replace(/\+/g," ")):e},N.prototype.pushState=function(){var e=this.page,t=e._window,n=e._hashbang;e.len++,y&&t.history.pushState(this.state,this.title,n&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},N.prototype.save=function(){var e=this.page;y&&"file:"!==e._window.location.protocol&&e._window.history.replaceState(this.state,this.title,e._hashbang&&"/"!==this.path?"#!"+this.path:this.canonicalPath)},P.prototype.middleware=function(e){var t=this;return function(n,i){if(t.match(n.path,n.params))return e(n,i);i()}},P.prototype.match=function(e,t){var n=this.keys,i=e.indexOf("?"),r=~i?e.slice(0,i):e,o=this.regexp.exec(decodeURIComponent(r));if(!o)return!1;for(var a=1,s=o.length;a<s;++a){var c=n[a-1],l=this.page._decodeURLEncodedURIComponent(o[a]);void 0===l&&hasOwnProperty.call(t,c.name)||(t[c.name]=l)}return!0};var _=function e(t){var n=new x;function i(){return k.apply(n,arguments)}return i.callbacks=n.callbacks,i.exits=n.exits,i.base=n.base.bind(n),i.strict=n.strict.bind(n),i.start=n.start.bind(n),i.stop=n.stop.bind(n),i.show=n.show.bind(n),i.back=n.back.bind(n),i.redirect=n.redirect.bind(n),i.replace=n.replace.bind(n),i.dispatch=n.dispatch.bind(n),i.exit=n.exit.bind(n),i.configure=n.configure.bind(n),i.sameOrigin=n.sameOrigin.bind(n),i.create=e,Object.defineProperty(i,"len",{get:function(){return n.len},set:function(e){n.len=e}}),Object.defineProperty(i,"current",{get:function(){return n.current},set:function(e){n.current=e}}),i.Context=N,i.Route=P,i}(),E=_;return k.default=_,E}()});function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function g(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var w=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;v(this,t),this.parentNode=n,this.childNodes=e.observableArray([]),this.relationsToParentNode=e.observableArray([]),this.depth=e.observable(n&&n.depth()+1||0),this.level=e.observable(0),this.serialNumber=e.observable(0),null!==n&&this.addRelation()}return y(t,[{key:"addChild",value:function(){var e=new t(this);this.childNodes.push(e)}},{key:"addRelation",value:function(){this.relationsToParentNode.push(new C(this.parentNode,this))}},{key:"removeRelation",value:function(e){this.relationsToParentNode.remove(e)}},{key:"seppuku",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.childNodes()[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.seppuku()}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}this.relationsToParentNode.removeAll(),this.childNodes.removeAll(),this.parentNode.childNodes.remove(this)}}]),t}(),C=function e(t,n){v(this,e),this.parentNode=t,this.childNode=n};function x(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.depth(),r=x.levels;if(0==i)r=x.levels=[0],x.serialNumber=1;else{if(!(0===i||r instanceof Array))throw"Нарушена правильная работа функции линеаризации дерева";if(n)r.push(0);else if(r.length===i+1)r[r.length-1]+=1;else{var o=Math.max.apply(Math,g(r.slice(i)));r.splice(i),r[i]=o+1}}if(e.level(r.slice(-1)[0]),e.serialNumber(x.serialNumber),x.serialNumber+=1,t.push(e),e.childNodes().length>0)for(var a=0;a<e.childNodes().length;a++){t=x(e.childNodes()[a],t,0==a)}return t}var k={viewModel:{createViewModel:function(n,i){var r=function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;a.svgSlug&&a.svgSlug.position()}}catch(e){n=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}var s=!0,c=!1,l=void 0;try{for(var u,d=e.slice(1)[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var h=u.value;h.svgRelationLine&&h.svgRelationLine.redrawLine()}}catch(e){c=!0,l=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw l}}},o=e.computed(function(){var e=x(n.queryTree,[]),t=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.childNodes()}catch(e){i=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw r}}return e});return o.subscribe(r),new MutationObserver(function(){return void 0!==r.timeoutID&&clearTimeout(r.timeoutID),r.timeoutID=setTimeout(function(){r(o())},30),!0}).observe(i.element,{childList:!0,subtree:!0,attributes:!1,characterData:!1,attributeOldValue:!1,characterDataOldValue:!1}),{linearizedQueryTree:o,svgDraw:t("svgQueryTree").size("100%","100%")}}},template:'\n\n  <div class="bmpp-queryPane">\n    <div class="bmpp-queryTree" id="'.concat("svgQueryTree",'">\n    </div>\n    <div class="bmpp-query" data-bind="foreach: linearizedQueryTree">\n\n      <query-node-relations params="node: $data, draw: $component.svgDraw"\n        data-bind="visible: $data.parentNode">\n      </query-node-relations>\n\n      <query-node params="node: $data, draw: $component.svgDraw"></query-node>\n\n    </div>\n  </div>\n\n')},N=function(){function t(e,n,i){v(this,t);var r=this.drawCircle(e),o=this.drawText(e,i.serialNumber());this.draw=e,this.element=n,this.treeNode=i,this.svgText=o,this.svg=e.group().add(r).add(o),this.fineTune()}return y(t,[{key:"drawCircle",value:function(e){return e.circle(30).attr({fill:"none",stroke:"#aaa","stroke-width":1}).cx(15).cy(15)}},{key:"drawText",value:function(e,t){return e.text(String(t)).attr({fill:"#aaa"}).cx(15).cy(15)}},{key:"fineTune",value:function(){var t=this;this.position(),this.treeNode.serialNumber.subscribe(function(e){t.changeText(e)}),e.utils.domNodeDisposal.addDisposeCallback(this.element,function(){t.dispose()}),this.treeNode.svgSlug=this}},{key:"position",value:function(){var e=n(this.element).offset().top,t=n(this.element).parent().offset().top,i=Math.abs(e-t)+13;this.svg.x(83).y(i)}},{key:"changeText",value:function(e){this.svgText=this.svgText.text(String(e))}},{key:"dispose",value:function(){this.svg.remove(),this.svgText.remove()}}]),t}(),P=function(){function t(e,n,i){v(this,t),this.draw=e,this.element=n,this.treeNode=i,this.svg=this.drawLine(e,i),this.fineTune()}return y(t,[{key:"fineTune",value:function(){var t=this;e.utils.domNodeDisposal.addDisposeCallback(this.element,function(){t.dispose()}),this.treeNode.svgRelationLine=this}},{key:"drawLine",value:function(e,t){var n="";if(t.parentNode){var i=t.parentNode.svgSlug.svg;n="M ".concat(i.cx()," ").concat(i.cy()+15,"\n              L ").concat(i.cx()," ").concat(i.cy()+15)}return e.path(n).fill("none").stroke({color:"#aaa",width:1})}},{key:"redrawLine",value:function(){var e=this.treeNode.parentNode&&this.treeNode.parentNode.svgSlug,i=this.treeNode.svgSlug,r=this.treeNode.level,o=n(this.element).height();if(e&&i&&r){var a=t.calculatePath(e,i,r(),o);this.svg.plot(a)}}},{key:"dispose",value:function(){this.svg.remove()}}],[{key:"calculatePath",value:function(e,t,n,i){var r=e.svg,o=t.svg,a=15,s=i-45,c=n<3?n:2,l=n<3?0:n-2,u=67.5;return 0===n?"M ".concat(r.cx()," ").concat(r.cy()+a,"\n              L ").concat(o.cx()," ").concat(o.cy()-a):"M ".concat(r.cx()," ").concat(r.cy()+a,"\n              V ").concat(r.cy()+a+7.5,"\n              C ").concat(r.cx()," ").concat(r.cy()+a+7.5+45,"\n                ").concat(r.cx()-15-19.5*c-7.5*l," ").concat(r.cy()+a+7.5+u-45,"\n                ").concat(r.cx()-15-19.5*c-7.5*l," ").concat(r.cy()+a+7.5+u,"\n              V ").concat(o.cy()-a-s-u,"\n              C ").concat(o.cx()-15-19.5*c-7.5*l," ").concat(o.cy()-a-s-u+45,"\n                ").concat(o.cx()," ").concat(o.cy()-a-s-45,"\n                ").concat(o.cx()," ").concat(o.cy()-a-s,"\n              V ").concat(o.cy()-a)}}]),t}(),_={viewModel:{createViewModel:function(e,t){var n=e.node;return new N(e.draw,t.element,n),{node:n}}},template:'\n\n  <div class="bmpp-queryElement ui segment">\n    <div class="bmpp-queryTreeHandles">\n\n      <i class="ui disabled green down arrow icon"\n        data-bind="click: node.addChild.bind(node)"></i>\n\n      <i class="ui disabled red down arrow icon"\n        data-bind="click: node.addChild.bind(node)"></i>\n\n      <i class="ui disabled grey close icon"\n        data-bind="visible: node.depth() > 0,\n          click: node.seppuku.bind(node)"></i>\n\n    </div>\n  </div>\n\n'},E={viewModel:{createViewModel:function(e,t){var n=e.node;return new P(e.draw,t.element,n),{relations:n.relationsToParentNode,node:n}}},template:'\n\n  <div class="bmpp-queryDistances ui segments" data-bind="foreach: relations,\n    css: { \'bmpp-queryDistances--toOtherElement\': $component.node.level() > 0 }">\n\n    <div class="bmpp-queryDistance ui secondary segment">\n      <div class="bmpp-queryTreeHandles">\n\n        <i class="ui small disabled grey plus icon"\n          data-bind="visible: $index() === $component.relations().length - 1,\n            click: $component.node.addRelation.bind($component.node)"></i>\n\n        <i class="ui small icon"\n          data-bind="visible: $index() !== $component.relations().length - 1">\n        </i>\n\n        <i class="ui small disabled grey close icon"\n          data-bind="visible: $index() > 0,\n          click: $component.node.removeRelation.bind($component.node, $data)">\n        </i>\n\n      </div>\n    </div>\n\n  </div>\n\n'},F={viewModel:{createViewModel:function(e,t){var i=n(t.element),r=e.value;return i.checkbox({onChange:function(){r(!r())}}),{element:i,label:e.label,tabindex:e.tabindex,value:r}}},template:'\n\n  <div class="ui checkbox">\n    <input type="checkbox" class="hidden"\n      data-bind="checked: value, attr: { tabindex: tabindex }">\n    <label data-bind="text: label"></label>\n  </div>\n\n'},T=[{start:2.2,end:3.74,edu:"N-vE002",transcription:"Годов семидесятых я думаю.",comment:""},{start:6.01,end:8.49,edu:"N-vE005",transcription:"(ˀ 0.06) (ɐ 0.53) Мы видим˗м сельский /–пейзаж,,,",comment:""},{start:25.64,end:28.38,edu:"N-vE017",transcription:"у него (ɥ 0.29) на шее красный платок ↑завязан,",comment:""},{start:50.03,end:52.79,edu:"N-vE027",transcription:"там уже стоят (0.13) (ɥ 0.26) парочка корзин /полных,",comment:""},{start:65.95,end:68.35,edu:"N-vE034",transcription:"так всё очень не= || делает /нежно и любовноɯ.",comment:""},{start:106.37,end:107.35,edu:"N-vE064",transcription:"велосипед /большой,",comment:""},{start:107.35,end:108.55,edu:"N-vE065",transcription:"какие старые /советские,",comment:""},{start:131.45,end:133.38,edu:"N-vE079",transcription:"видит фермер собирает там –груши,",comment:""},{start:133.38,end:134.92,edu:"N-vE080",transcription:"полностью поглощён этим /занятием,",comment:""},{start:151.01,end:152.5,edu:"N-vE090",transcription:"с этой тяжеленной /↑корзиной,",comment:""},{start:192.57,end:193.79,edu:"N-vE117",transcription:"он один из них /приспускает,",comment:"Произносит [прыспускает]."},{start:228.21,end:230.18,edu:"N-vE136",transcription:"(ˀ 0.11) Они помогают ему /подняться=,",comment:""},{start:230.18,end:231.17,edu:"N-vE137",transcription:"(ə 0.04) (Двое /помогают,",comment:"Произносит [помогаюƟ]."},{start:231.17,end:233.48,edu:"N-vE138",transcription:"/ˀодин так и сту= || и стучит своей этой ↑штукой.)",comment:""},{start:255.66,end:256.96,edu:"N-vE152",transcription:"/поднимают они ↑её,",comment:""},{start:271.63,end:272.32,edu:"N-vE161",transcription:"взамен шляпы,",comment:""},{start:445.39,end:447.44,edu:"N-vE238",transcription:"/Корзины прям просто под грушей /стоят,",comment:""},{start:480.57,end:481.36,edu:"N-vE246",transcription:"Ничего не видно, ",comment:""},{start:596.29,end:597.69,edu:"N-vE289",transcription:"я бы свалилась точно.",comment:"Второе слово произносит [салилась]. Последнее слово — шепотом."},{start:766.41,end:768.09,edu:"N-vE325",transcription:"Как˗к какая-то əшпанаɯ.",comment:""},{start:770.11,end:772.28,edu:"N-vE326",transcription:"Ну /сначала как-то они подозрительно выглядят,",comment:""},{start:772.28,end:773.34,edu:"N-vE327",transcription:"но /вообще нормально.",comment:""},{start:773.34,end:774.34,edu:"N-vE328",transcription:"Они ему /помогают...",comment:""},{start:801.81,end:802.15,edu:"N-vE329",transcription:"(ɯ 0.19) Да,",comment:""},{start:802.15,end:803.46,edu:"N-vE330",transcription:"он /садится,",comment:""},{start:803.63,end:805.6,edu:"N-vE331",transcription:"(ə 0.16) см= || смотрит свою /–коленку,,, ≈≈",comment:""},{start:805.6,end:806.23,edu:"N-vE332",transcription:"Ну прямо так, ",comment:""},{start:806.23,end:807.02,edu:"N-vE333",transcription:"он /лежал сначала,",comment:""},{start:841.78,end:843.47,edu:"N-vE343",transcription:"ˀОни ст= || поднимают ему всё это,",comment:""},{start:928.41,end:928.89,edu:"N-vE364",transcription:"/Не- н˗не!,",comment:""},{start:1092.77,end:1095.3,edu:"N-vE385",transcription:"мы /ничего˗оə || (0.40) уже не поправляем /никого.",comment:""}],S=i("bmpp-videoPlayer"),O=["pears04","pears22","pears23","pears35","pears37","pears39"],R=["narration","dialogue","retelling"];function q(t){var n=this,i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){this[a.value]=e.observable(!1)}}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}this.invertSelection=function(){var e=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;n[s](!n[s]())}}catch(e){i=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(i)throw r}}},this.clearSelection=function(){var e=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;n[s](!1)}}catch(e){i=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(i)throw r}}}}var L=new function(){var t=this,n=this;this.queryPane=Symbol.for("query"),this.subcorpusPane=Symbol.for("subcorpus"),this.resultsPane=Symbol.for("results"),this.resultsOptionsPane=Symbol.for("resoptions"),this.panes=[this.queryPane,this.subcorpusPane,this.resultsPane,this.resultsOptionsPane],this.activePane=e.observable(),this.queryTreeInited=!1,this.switchOnQueryPane=function(){n.activePane(n.queryPane)},this.switchOnSubcorpusPane=function(){n.activePane(n.subcorpusPane)},this.switchOnResultsPane=function(){n.activePane(n.resultsPane)},this.switchOnResultsOptionsPane=function(){n.activePane(n.resultsOptionsPane)},this.isQueryPaneOn=e.computed(function(){return t.activePane()===n.queryPane}),this.isSubcorpusPaneOn=e.computed(function(){return t.activePane()===n.subcorpusPane}),this.isResultsPaneOn=e.computed(function(){return t.activePane()===n.resultsPane}),this.isResultsOptionsPaneOn=e.computed(function(){return t.activePane()===n.resultsOptionsPane}),e.computed(function(){var e=n.activePane();e&&(m("/".concat(Symbol.keyFor(e))),S.pause())}),this.results=T,this.playVideo=function(e){S.currentTime(e.start),S.play()};var i=new w;i.addChild(),i.addChild(),i.addChild(),i.addChild(),i.childNodes()[1].addChild(),i.childNodes()[1].addChild(),i.childNodes()[1].addChild(),i.childNodes()[1].addChild(),i.childNodes()[1].addRelation(),i.childNodes()[3].addRelation(),i.childNodes()[3].addRelation(),this.queryTree=i,this.subcorpus={records:new q(O),recordPhases:new q(R)},this.subcorpusClearSelection=function(){n.subcorpus.records.clearSelection(),n.subcorpus.recordPhases.clearSelection()}};e.components.register("bmpp-checkbox",F),e.components.register("query-pane",k),e.components.register("query-node",_),e.components.register("query-node-relations",E),e.options.deferUpdates=!0,e.applyBindings(L);var A=Symbol.keyFor(L.queryPane),I=Symbol.keyFor(L.subcorpusPane),U=Symbol.keyFor(L.resultsPane),$=Symbol.keyFor(L.resultsOptionsPane);m.base("/bumppo-ghpages/03"),m("/",function(){L.activePane(L.queryPane)}),m("/".concat(A),function(){L.activePane(L.queryPane)}),m("/".concat(I),function(){L.activePane(L.subcorpusPane)}),m("/".concat(U),function(){L.activePane(L.resultsPane)}),m("/".concat($),function(){L.activePane(L.resultsOptionsPane)}),m({hashbang:!0}),n(".icon").popup({inline:!0}),S.ready(function(){var e=S.volume();S.volume(0),S.currentTime(0),S.pause(),S.volume(e)})}(ko,SVG,jQuery,videojs);
//# sourceMappingURL=spa.js.map
